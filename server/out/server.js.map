{"version":3,"file":"server.js","sources":["../../node_modules/@mkbabb/parse-that/dist/parse.js","../../node_modules/@mkbabb/parse-that/dist/ebnf.js","../../node_modules/prettier/doc.js","../../src/utils/printer.ts","../../src/utils/parser.ts","../node_modules/vscode-jsonrpc/lib/common/is.js","../node_modules/vscode-jsonrpc/lib/common/messages.js","../node_modules/vscode-jsonrpc/lib/common/linkedMap.js","../node_modules/vscode-jsonrpc/lib/common/disposable.js","../node_modules/vscode-jsonrpc/lib/common/ral.js","../node_modules/vscode-jsonrpc/lib/common/events.js","../node_modules/vscode-jsonrpc/lib/common/cancellation.js","../node_modules/vscode-jsonrpc/lib/common/sharedArrayCancellation.js","../node_modules/vscode-jsonrpc/lib/common/semaphore.js","../node_modules/vscode-jsonrpc/lib/common/messageReader.js","../node_modules/vscode-jsonrpc/lib/common/messageWriter.js","../node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","../node_modules/vscode-jsonrpc/lib/common/connection.js","../node_modules/vscode-jsonrpc/lib/common/api.js","../node_modules/vscode-jsonrpc/lib/browser/ril.js","../node_modules/vscode-jsonrpc/lib/browser/main.js","../node_modules/vscode-jsonrpc/browser.js","../node_modules/vscode-languageserver-types/lib/esm/main.js","../node_modules/vscode-languageserver-protocol/lib/common/messages.js","../node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.js","../node_modules/vscode-languageserver-protocol/lib/common/connection.js","../node_modules/vscode-languageserver-protocol/lib/common/api.js","../node_modules/vscode-languageserver-protocol/lib/browser/main.js","../node_modules/vscode-languageserver/lib/common/semanticTokens.js","../node_modules/vscode-languageserver/lib/common/textDocuments.js","../node_modules/vscode-languageserver/lib/common/notebook.js","../node_modules/vscode-languageserver/lib/common/utils/is.js","../node_modules/vscode-languageserver/lib/common/utils/uuid.js","../node_modules/vscode-languageserver/lib/common/progress.js","../node_modules/vscode-languageserver/lib/common/configuration.js","../node_modules/vscode-languageserver/lib/common/workspaceFolder.js","../node_modules/vscode-languageserver/lib/common/callHierarchy.js","../node_modules/vscode-languageserver/lib/common/showDocument.js","../node_modules/vscode-languageserver/lib/common/fileOperations.js","../node_modules/vscode-languageserver/lib/common/linkedEditingRange.js","../node_modules/vscode-languageserver/lib/common/typeHierarchy.js","../node_modules/vscode-languageserver/lib/common/inlineValue.js","../node_modules/vscode-languageserver/lib/common/inlayHint.js","../node_modules/vscode-languageserver/lib/common/diagnostic.js","../node_modules/vscode-languageserver/lib/common/moniker.js","../node_modules/vscode-languageserver/lib/common/server.js","../node_modules/vscode-languageserver/lib/common/api.js","../node_modules/vscode-languageserver-protocol/browser.js","../node_modules/vscode-languageserver/lib/browser/main.js","../src/diagnostics.ts","../../src/prettier-plugin-bbnf/index.ts","../src/server.ts"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport chalk from \"chalk\";\nvar docExports = {};\nvar doc = {\n  get exports() {\n    return docExports;\n  },\n  set exports(v) {\n    docExports = v;\n  }\n};\n(function(module, exports) {\n  (function(factory) {\n    {\n      module.exports = factory();\n    }\n  })(function() {\n    var __getOwnPropNames = Object.getOwnPropertyNames;\n    var __commonJS = (cb, mod) => function __require() {\n      return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n    };\n    var require_doc_js_umd = __commonJS({\n      \"dist/_doc.js.umd.js\"(exports2, module2) {\n        var __create = Object.create;\n        var __defProp2 = Object.defineProperty;\n        var __getOwnPropDesc = Object.getOwnPropertyDescriptor;\n        var __getOwnPropNames2 = Object.getOwnPropertyNames;\n        var __getProtoOf = Object.getPrototypeOf;\n        var __hasOwnProp = Object.prototype.hasOwnProperty;\n        var __esm = (fn, res) => function __init() {\n          return fn && (res = (0, fn[__getOwnPropNames2(fn)[0]])(fn = 0)), res;\n        };\n        var __commonJS2 = (cb, mod) => function __require() {\n          return mod || (0, cb[__getOwnPropNames2(cb)[0]])((mod = {\n            exports: {}\n          }).exports, mod), mod.exports;\n        };\n        var __export = (target, all2) => {\n          for (var name in all2)\n            __defProp2(target, name, {\n              get: all2[name],\n              enumerable: true\n            });\n        };\n        var __copyProps = (to, from, except, desc) => {\n          if (from && typeof from === \"object\" || typeof from === \"function\") {\n            for (let key of __getOwnPropNames2(from))\n              if (!__hasOwnProp.call(to, key) && key !== except)\n                __defProp2(to, key, {\n                  get: () => from[key],\n                  enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n                });\n          }\n          return to;\n        };\n        var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(isNodeMode || !mod || !mod.__esModule ? __defProp2(target, \"default\", {\n          value: mod,\n          enumerable: true\n        }) : target, mod));\n        var __toCommonJS = (mod) => __copyProps(__defProp2({}, \"__esModule\", {\n          value: true\n        }), mod);\n        var init_define_process = __esm({\n          \"<define:process>\"() {\n          }\n        });\n        var require_doc_builders = __commonJS2({\n          \"src/document/doc-builders.js\"(exports22, module22) {\n            init_define_process();\n            function concat(parts) {\n              return {\n                type: \"concat\",\n                parts\n              };\n            }\n            function indent(contents) {\n              return {\n                type: \"indent\",\n                contents\n              };\n            }\n            function align(widthOrString, contents) {\n              return {\n                type: \"align\",\n                contents,\n                n: widthOrString\n              };\n            }\n            function group2(contents) {\n              let opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n              return {\n                type: \"group\",\n                id: opts.id,\n                contents,\n                break: Boolean(opts.shouldBreak),\n                expandedStates: opts.expandedStates\n              };\n            }\n            function dedentToRoot(contents) {\n              return align(Number.NEGATIVE_INFINITY, contents);\n            }\n            function markAsRoot(contents) {\n              return align({\n                type: \"root\"\n              }, contents);\n            }\n            function dedent(contents) {\n              return align(-1, contents);\n            }\n            function conditionalGroup(states, opts) {\n              return group2(states[0], Object.assign(Object.assign({}, opts), {}, {\n                expandedStates: states\n              }));\n            }\n            function fill(parts) {\n              return {\n                type: \"fill\",\n                parts\n              };\n            }\n            function ifBreak(breakContents, flatContents) {\n              let opts = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n              return {\n                type: \"if-break\",\n                breakContents,\n                flatContents,\n                groupId: opts.groupId\n              };\n            }\n            function indentIfBreak(contents, opts) {\n              return {\n                type: \"indent-if-break\",\n                contents,\n                groupId: opts.groupId,\n                negate: opts.negate\n              };\n            }\n            function lineSuffix(contents) {\n              return {\n                type: \"line-suffix\",\n                contents\n              };\n            }\n            var lineSuffixBoundary = {\n              type: \"line-suffix-boundary\"\n            };\n            var breakParent = {\n              type: \"break-parent\"\n            };\n            var trim = {\n              type: \"trim\"\n            };\n            var hardlineWithoutBreakParent = {\n              type: \"line\",\n              hard: true\n            };\n            var literallineWithoutBreakParent = {\n              type: \"line\",\n              hard: true,\n              literal: true\n            };\n            var line = {\n              type: \"line\"\n            };\n            var softline = {\n              type: \"line\",\n              soft: true\n            };\n            var hardline = concat([hardlineWithoutBreakParent, breakParent]);\n            var literalline = concat([literallineWithoutBreakParent, breakParent]);\n            var cursor = {\n              type: \"cursor\",\n              placeholder: Symbol(\"cursor\")\n            };\n            function join(sep, arr) {\n              const res = [];\n              for (let i = 0; i < arr.length; i++) {\n                if (i !== 0) {\n                  res.push(sep);\n                }\n                res.push(arr[i]);\n              }\n              return concat(res);\n            }\n            function addAlignmentToDoc(doc2, size, tabWidth) {\n              let aligned = doc2;\n              if (size > 0) {\n                for (let i = 0; i < Math.floor(size / tabWidth); ++i) {\n                  aligned = indent(aligned);\n                }\n                aligned = align(size % tabWidth, aligned);\n                aligned = align(Number.NEGATIVE_INFINITY, aligned);\n              }\n              return aligned;\n            }\n            function label(label2, contents) {\n              return {\n                type: \"label\",\n                label: label2,\n                contents\n              };\n            }\n            module22.exports = {\n              concat,\n              join,\n              line,\n              softline,\n              hardline,\n              literalline,\n              group: group2,\n              conditionalGroup,\n              fill,\n              lineSuffix,\n              lineSuffixBoundary,\n              cursor,\n              breakParent,\n              ifBreak,\n              trim,\n              indent,\n              indentIfBreak,\n              align,\n              addAlignmentToDoc,\n              markAsRoot,\n              dedentToRoot,\n              dedent,\n              hardlineWithoutBreakParent,\n              literallineWithoutBreakParent,\n              label\n            };\n          }\n        });\n        var require_end_of_line = __commonJS2({\n          \"src/common/end-of-line.js\"(exports22, module22) {\n            init_define_process();\n            function guessEndOfLine(text) {\n              const index = text.indexOf(\"\\r\");\n              if (index >= 0) {\n                return text.charAt(index + 1) === \"\\n\" ? \"crlf\" : \"cr\";\n              }\n              return \"lf\";\n            }\n            function convertEndOfLineToChars(value) {\n              switch (value) {\n                case \"cr\":\n                  return \"\\r\";\n                case \"crlf\":\n                  return \"\\r\\n\";\n                default:\n                  return \"\\n\";\n              }\n            }\n            function countEndOfLineChars(text, eol) {\n              let regex2;\n              switch (eol) {\n                case \"\\n\":\n                  regex2 = /\\n/g;\n                  break;\n                case \"\\r\":\n                  regex2 = /\\r/g;\n                  break;\n                case \"\\r\\n\":\n                  regex2 = /\\r\\n/g;\n                  break;\n                default:\n                  throw new Error(`Unexpected \"eol\" ${JSON.stringify(eol)}.`);\n              }\n              const endOfLines = text.match(regex2);\n              return endOfLines ? endOfLines.length : 0;\n            }\n            function normalizeEndOfLine(text) {\n              return text.replace(/\\r\\n?/g, \"\\n\");\n            }\n            module22.exports = {\n              guessEndOfLine,\n              convertEndOfLineToChars,\n              countEndOfLineChars,\n              normalizeEndOfLine\n            };\n          }\n        });\n        var require_get_last = __commonJS2({\n          \"src/utils/get-last.js\"(exports22, module22) {\n            init_define_process();\n            var getLast = (arr) => arr[arr.length - 1];\n            module22.exports = getLast;\n          }\n        });\n        function ansiRegex() {\n          let {\n            onlyFirst = false\n          } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n          const pattern = [\"[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]+)*|[a-zA-Z\\\\d]+(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)\", \"(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-ntqry=><~]))\"].join(\"|\");\n          return new RegExp(pattern, onlyFirst ? void 0 : \"g\");\n        }\n        var init_ansi_regex = __esm({\n          \"node_modules/strip-ansi/node_modules/ansi-regex/index.js\"() {\n            init_define_process();\n          }\n        });\n        function stripAnsi(string2) {\n          if (typeof string2 !== \"string\") {\n            throw new TypeError(`Expected a \\`string\\`, got \\`${typeof string2}\\``);\n          }\n          return string2.replace(ansiRegex(), \"\");\n        }\n        var init_strip_ansi = __esm({\n          \"node_modules/strip-ansi/index.js\"() {\n            init_define_process();\n            init_ansi_regex();\n          }\n        });\n        function isFullwidthCodePoint(codePoint) {\n          if (!Number.isInteger(codePoint)) {\n            return false;\n          }\n          return codePoint >= 4352 && (codePoint <= 4447 || codePoint === 9001 || codePoint === 9002 || 11904 <= codePoint && codePoint <= 12871 && codePoint !== 12351 || 12880 <= codePoint && codePoint <= 19903 || 19968 <= codePoint && codePoint <= 42182 || 43360 <= codePoint && codePoint <= 43388 || 44032 <= codePoint && codePoint <= 55203 || 63744 <= codePoint && codePoint <= 64255 || 65040 <= codePoint && codePoint <= 65049 || 65072 <= codePoint && codePoint <= 65131 || 65281 <= codePoint && codePoint <= 65376 || 65504 <= codePoint && codePoint <= 65510 || 110592 <= codePoint && codePoint <= 110593 || 127488 <= codePoint && codePoint <= 127569 || 131072 <= codePoint && codePoint <= 262141);\n        }\n        var init_is_fullwidth_code_point = __esm({\n          \"node_modules/is-fullwidth-code-point/index.js\"() {\n            init_define_process();\n          }\n        });\n        var require_emoji_regex = __commonJS2({\n          \"node_modules/emoji-regex/index.js\"(exports22, module22) {\n            init_define_process();\n            module22.exports = function() {\n              return /\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62(?:\\uDB40\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73|\\uDB40\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDB40\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67)\\uDB40\\uDC7F|(?:\\uD83E\\uDDD1\\uD83C\\uDFFF\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB-\\uDFFE])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFE\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFD\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFC\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFB\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFC-\\uDFFF])|\\uD83D\\uDC68(?:\\uD83C\\uDFFB(?:\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF]))|\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFC-\\uDFFF])|[\\u2695\\u2696\\u2708]\\uFE0F|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))?|(?:\\uD83C[\\uDFFC-\\uDFFF])\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF]))|\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83D\\uDC68|(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFE])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])\\uFE0F|\\u200D(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83D[\\uDC66\\uDC67])|\\uD83C\\uDFFF|\\uD83C\\uDFFE|\\uD83C\\uDFFD|\\uD83C\\uDFFC)?|(?:\\uD83D\\uDC69(?:\\uD83C\\uDFFB\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69])|(?:\\uD83C[\\uDFFC-\\uDFFF])\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69]))|\\uD83E\\uDDD1(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1)(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC69(?:\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFB\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))|\\uD83E\\uDDD1(?:\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFB\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|(?:\\uD83D\\uDC41\\uFE0F\\u200D\\uD83D\\uDDE8|\\uD83E\\uDDD1(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])|\\uD83D\\uDC69(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])|\\uD83D\\uDE36\\u200D\\uD83C\\uDF2B|\\uD83C\\uDFF3\\uFE0F\\u200D\\u26A7|\\uD83D\\uDC3B\\u200D\\u2744|(?:(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC6F|\\uD83E[\\uDD3C\\uDDDE\\uDDDF])\\u200D[\\u2640\\u2642]|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642]|\\uD83C\\uDFF4\\u200D\\u2620|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD])\\u200D[\\u2640\\u2642]|[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u2328\\u23CF\\u23ED-\\u23EF\\u23F1\\u23F2\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB\\u25FC\\u2600-\\u2604\\u260E\\u2611\\u2618\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u2692\\u2694-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A7\\u26B0\\u26B1\\u26C8\\u26CF\\u26D1\\u26D3\\u26E9\\u26F0\\u26F1\\u26F4\\u26F7\\u26F8\\u2702\\u2708\\u2709\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2733\\u2734\\u2744\\u2747\\u2763\\u27A1\\u2934\\u2935\\u2B05-\\u2B07\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDE02\\uDE37\\uDF21\\uDF24-\\uDF2C\\uDF36\\uDF7D\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E\\uDF9F\\uDFCD\\uDFCE\\uDFD4-\\uDFDF\\uDFF5\\uDFF7]|\\uD83D[\\uDC3F\\uDCFD\\uDD49\\uDD4A\\uDD6F\\uDD70\\uDD73\\uDD76-\\uDD79\\uDD87\\uDD8A-\\uDD8D\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA\\uDECB\\uDECD-\\uDECF\\uDEE0-\\uDEE5\\uDEE9\\uDEF0\\uDEF3])\\uFE0F|\\uD83C\\uDFF3\\uFE0F\\u200D\\uD83C\\uDF08|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66|\\uD83D\\uDE35\\u200D\\uD83D\\uDCAB|\\uD83D\\uDE2E\\u200D\\uD83D\\uDCA8|\\uD83D\\uDC15\\u200D\\uD83E\\uDDBA|\\uD83E\\uDDD1(?:\\uD83C\\uDFFF|\\uD83C\\uDFFE|\\uD83C\\uDFFD|\\uD83C\\uDFFC|\\uD83C\\uDFFB)?|\\uD83D\\uDC69(?:\\uD83C\\uDFFF|\\uD83C\\uDFFE|\\uD83C\\uDFFD|\\uD83C\\uDFFC|\\uD83C\\uDFFB)?|\\uD83C\\uDDFD\\uD83C\\uDDF0|\\uD83C\\uDDF6\\uD83C\\uDDE6|\\uD83C\\uDDF4\\uD83C\\uDDF2|\\uD83D\\uDC08\\u200D\\u2B1B|\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDD25|\\uD83E\\uDE79)|\\uD83D\\uDC41\\uFE0F|\\uD83C\\uDFF3\\uFE0F|\\uD83C\\uDDFF(?:\\uD83C[\\uDDE6\\uDDF2\\uDDFC])|\\uD83C\\uDDFE(?:\\uD83C[\\uDDEA\\uDDF9])|\\uD83C\\uDDFC(?:\\uD83C[\\uDDEB\\uDDF8])|\\uD83C\\uDDFB(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA])|\\uD83C\\uDDFA(?:\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF])|\\uD83C\\uDDF9(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF])|\\uD83C\\uDDF8(?:\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF])|\\uD83C\\uDDF7(?:\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC])|\\uD83C\\uDDF5(?:\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE])|\\uD83C\\uDDF3(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF])|\\uD83C\\uDDF2(?:\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF])|\\uD83C\\uDDF1(?:\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE])|\\uD83C\\uDDF0(?:\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDEF(?:\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5])|\\uD83C\\uDDEE(?:\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9])|\\uD83C\\uDDED(?:\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA])|\\uD83C\\uDDEC(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE])|\\uD83C\\uDDEB(?:\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7])|\\uD83C\\uDDEA(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA])|\\uD83C\\uDDE9(?:\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF])|\\uD83C\\uDDE8(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF5\\uDDF7\\uDDFA-\\uDDFF])|\\uD83C\\uDDE7(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDE6(?:\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF])|[#\\*0-9]\\uFE0F\\u20E3|\\u2764\\uFE0F|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])|\\uD83C\\uDFF4|(?:[\\u270A\\u270B]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDC8F\\uDC91\\uDCAA\\uDD7A\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2\\uDDD3\\uDDD5])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u261D\\u270C\\u270D]|\\uD83D[\\uDD74\\uDD90])(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])|[\\u270A\\u270B]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC08\\uDC15\\uDC3B\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDC8F\\uDC91\\uDCAA\\uDD7A\\uDD95\\uDD96\\uDE2E\\uDE35\\uDE36\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2\\uDDD3\\uDDD5]|\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD]|\\uD83D\\uDC6F|\\uD83E[\\uDD3C\\uDDDE\\uDDDF]|[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF84\\uDF86-\\uDF93\\uDFA0-\\uDFC1\\uDFC5\\uDFC6\\uDFC8\\uDFC9\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC07\\uDC09-\\uDC14\\uDC16-\\uDC3A\\uDC3C-\\uDC3E\\uDC40\\uDC44\\uDC45\\uDC51-\\uDC65\\uDC6A\\uDC79-\\uDC7B\\uDC7D-\\uDC80\\uDC84\\uDC88-\\uDC8E\\uDC90\\uDC92-\\uDCA9\\uDCAB-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDDA4\\uDDFB-\\uDE2D\\uDE2F-\\uDE34\\uDE37-\\uDE44\\uDE48-\\uDE4A\\uDE80-\\uDEA2\\uDEA4-\\uDEB3\\uDEB7-\\uDEBF\\uDEC1-\\uDEC5\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0D\\uDD0E\\uDD10-\\uDD17\\uDD1D\\uDD20-\\uDD25\\uDD27-\\uDD2F\\uDD3A\\uDD3F-\\uDD45\\uDD47-\\uDD76\\uDD78\\uDD7A-\\uDDB4\\uDDB7\\uDDBA\\uDDBC-\\uDDCB\\uDDD0\\uDDE0-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6]|(?:[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u270A\\u270B\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF93\\uDFA0-\\uDFCA\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF4\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC3E\\uDC40\\uDC42-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDD7A\\uDD95\\uDD96\\uDDA4\\uDDFB-\\uDE4F\\uDE80-\\uDEC5\\uDECC\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6])|(?:[#\\*0-9\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u261D\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A1\\u26A7\\u26AA\\u26AB\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C5\\u26C8\\u26CE\\u26CF\\u26D1\\u26D3\\u26D4\\u26E9\\u26EA\\u26F0-\\u26F5\\u26F7-\\u26FA\\u26FD\\u2702\\u2705\\u2708-\\u270D\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763\\u2764\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE02\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF21\\uDF24-\\uDF93\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E-\\uDFF0\\uDFF3-\\uDFF5\\uDFF7-\\uDFFF]|\\uD83D[\\uDC00-\\uDCFD\\uDCFF-\\uDD3D\\uDD49-\\uDD4E\\uDD50-\\uDD67\\uDD6F\\uDD70\\uDD73-\\uDD7A\\uDD87\\uDD8A-\\uDD8D\\uDD90\\uDD95\\uDD96\\uDDA4\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA-\\uDE4F\\uDE80-\\uDEC5\\uDECB-\\uDED2\\uDED5-\\uDED7\\uDEE0-\\uDEE5\\uDEE9\\uDEEB\\uDEEC\\uDEF0\\uDEF3-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6])\\uFE0F|(?:[\\u261D\\u26F9\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2-\\uDFC4\\uDFC7\\uDFCA-\\uDFCC]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66-\\uDC78\\uDC7C\\uDC81-\\uDC83\\uDC85-\\uDC87\\uDC8F\\uDC91\\uDCAA\\uDD74\\uDD75\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE45-\\uDE47\\uDE4B-\\uDE4F\\uDEA3\\uDEB4-\\uDEB6\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1F\\uDD26\\uDD30-\\uDD39\\uDD3C-\\uDD3E\\uDD77\\uDDB5\\uDDB6\\uDDB8\\uDDB9\\uDDBB\\uDDCD-\\uDDCF\\uDDD1-\\uDDDD])/g;\n            };\n          }\n        });\n        var string_width_exports = {};\n        __export(string_width_exports, {\n          default: () => stringWidth\n        });\n        function stringWidth(string2) {\n          if (typeof string2 !== \"string\" || string2.length === 0) {\n            return 0;\n          }\n          string2 = stripAnsi(string2);\n          if (string2.length === 0) {\n            return 0;\n          }\n          string2 = string2.replace((0, import_emoji_regex.default)(), \"  \");\n          let width = 0;\n          for (let index = 0; index < string2.length; index++) {\n            const codePoint = string2.codePointAt(index);\n            if (codePoint <= 31 || codePoint >= 127 && codePoint <= 159) {\n              continue;\n            }\n            if (codePoint >= 768 && codePoint <= 879) {\n              continue;\n            }\n            if (codePoint > 65535) {\n              index++;\n            }\n            width += isFullwidthCodePoint(codePoint) ? 2 : 1;\n          }\n          return width;\n        }\n        var import_emoji_regex;\n        var init_string_width = __esm({\n          \"node_modules/string-width/index.js\"() {\n            init_define_process();\n            init_strip_ansi();\n            init_is_fullwidth_code_point();\n            import_emoji_regex = __toESM(require_emoji_regex());\n          }\n        });\n        var require_get_string_width = __commonJS2({\n          \"src/utils/get-string-width.js\"(exports22, module22) {\n            init_define_process();\n            var stringWidth2 = (init_string_width(), __toCommonJS(string_width_exports)).default;\n            var notAsciiRegex = /[^\\x20-\\x7F]/;\n            function getStringWidth(text) {\n              if (!text) {\n                return 0;\n              }\n              if (!notAsciiRegex.test(text)) {\n                return text.length;\n              }\n              return stringWidth2(text);\n            }\n            module22.exports = getStringWidth;\n          }\n        });\n        var require_doc_utils = __commonJS2({\n          \"src/document/doc-utils.js\"(exports22, module22) {\n            init_define_process();\n            var getLast = require_get_last();\n            var {\n              literalline,\n              join\n            } = require_doc_builders();\n            var isConcat = (doc2) => Array.isArray(doc2) || doc2 && doc2.type === \"concat\";\n            var getDocParts = (doc2) => {\n              if (Array.isArray(doc2)) {\n                return doc2;\n              }\n              if (doc2.type !== \"concat\" && doc2.type !== \"fill\") {\n                throw new Error(\"Expect doc type to be `concat` or `fill`.\");\n              }\n              return doc2.parts;\n            };\n            var traverseDocOnExitStackMarker = {};\n            function traverseDoc(doc2, onEnter, onExit, shouldTraverseConditionalGroups) {\n              const docsStack = [doc2];\n              while (docsStack.length > 0) {\n                const doc22 = docsStack.pop();\n                if (doc22 === traverseDocOnExitStackMarker) {\n                  onExit(docsStack.pop());\n                  continue;\n                }\n                if (onExit) {\n                  docsStack.push(doc22, traverseDocOnExitStackMarker);\n                }\n                if (!onEnter || onEnter(doc22) !== false) {\n                  if (isConcat(doc22) || doc22.type === \"fill\") {\n                    const parts = getDocParts(doc22);\n                    for (let ic = parts.length, i = ic - 1; i >= 0; --i) {\n                      docsStack.push(parts[i]);\n                    }\n                  } else if (doc22.type === \"if-break\") {\n                    if (doc22.flatContents) {\n                      docsStack.push(doc22.flatContents);\n                    }\n                    if (doc22.breakContents) {\n                      docsStack.push(doc22.breakContents);\n                    }\n                  } else if (doc22.type === \"group\" && doc22.expandedStates) {\n                    if (shouldTraverseConditionalGroups) {\n                      for (let ic = doc22.expandedStates.length, i = ic - 1; i >= 0; --i) {\n                        docsStack.push(doc22.expandedStates[i]);\n                      }\n                    } else {\n                      docsStack.push(doc22.contents);\n                    }\n                  } else if (doc22.contents) {\n                    docsStack.push(doc22.contents);\n                  }\n                }\n              }\n            }\n            function mapDoc(doc2, cb) {\n              const mapped = /* @__PURE__ */ new Map();\n              return rec(doc2);\n              function rec(doc22) {\n                if (mapped.has(doc22)) {\n                  return mapped.get(doc22);\n                }\n                const result = process2(doc22);\n                mapped.set(doc22, result);\n                return result;\n              }\n              function process2(doc22) {\n                if (Array.isArray(doc22)) {\n                  return cb(doc22.map(rec));\n                }\n                if (doc22.type === \"concat\" || doc22.type === \"fill\") {\n                  const parts = doc22.parts.map(rec);\n                  return cb(Object.assign(Object.assign({}, doc22), {}, {\n                    parts\n                  }));\n                }\n                if (doc22.type === \"if-break\") {\n                  const breakContents = doc22.breakContents && rec(doc22.breakContents);\n                  const flatContents = doc22.flatContents && rec(doc22.flatContents);\n                  return cb(Object.assign(Object.assign({}, doc22), {}, {\n                    breakContents,\n                    flatContents\n                  }));\n                }\n                if (doc22.type === \"group\" && doc22.expandedStates) {\n                  const expandedStates = doc22.expandedStates.map(rec);\n                  const contents = expandedStates[0];\n                  return cb(Object.assign(Object.assign({}, doc22), {}, {\n                    contents,\n                    expandedStates\n                  }));\n                }\n                if (doc22.contents) {\n                  const contents = rec(doc22.contents);\n                  return cb(Object.assign(Object.assign({}, doc22), {}, {\n                    contents\n                  }));\n                }\n                return cb(doc22);\n              }\n            }\n            function findInDoc(doc2, fn, defaultValue) {\n              let result = defaultValue;\n              let hasStopped = false;\n              function findInDocOnEnterFn(doc22) {\n                const maybeResult = fn(doc22);\n                if (maybeResult !== void 0) {\n                  hasStopped = true;\n                  result = maybeResult;\n                }\n                if (hasStopped) {\n                  return false;\n                }\n              }\n              traverseDoc(doc2, findInDocOnEnterFn);\n              return result;\n            }\n            function willBreakFn(doc2) {\n              if (doc2.type === \"group\" && doc2.break) {\n                return true;\n              }\n              if (doc2.type === \"line\" && doc2.hard) {\n                return true;\n              }\n              if (doc2.type === \"break-parent\") {\n                return true;\n              }\n            }\n            function willBreak(doc2) {\n              return findInDoc(doc2, willBreakFn, false);\n            }\n            function breakParentGroup(groupStack) {\n              if (groupStack.length > 0) {\n                const parentGroup = getLast(groupStack);\n                if (!parentGroup.expandedStates && !parentGroup.break) {\n                  parentGroup.break = \"propagated\";\n                }\n              }\n              return null;\n            }\n            function propagateBreaks(doc2) {\n              const alreadyVisitedSet = /* @__PURE__ */ new Set();\n              const groupStack = [];\n              function propagateBreaksOnEnterFn(doc22) {\n                if (doc22.type === \"break-parent\") {\n                  breakParentGroup(groupStack);\n                }\n                if (doc22.type === \"group\") {\n                  groupStack.push(doc22);\n                  if (alreadyVisitedSet.has(doc22)) {\n                    return false;\n                  }\n                  alreadyVisitedSet.add(doc22);\n                }\n              }\n              function propagateBreaksOnExitFn(doc22) {\n                if (doc22.type === \"group\") {\n                  const group2 = groupStack.pop();\n                  if (group2.break) {\n                    breakParentGroup(groupStack);\n                  }\n                }\n              }\n              traverseDoc(doc2, propagateBreaksOnEnterFn, propagateBreaksOnExitFn, true);\n            }\n            function removeLinesFn(doc2) {\n              if (doc2.type === \"line\" && !doc2.hard) {\n                return doc2.soft ? \"\" : \" \";\n              }\n              if (doc2.type === \"if-break\") {\n                return doc2.flatContents || \"\";\n              }\n              return doc2;\n            }\n            function removeLines(doc2) {\n              return mapDoc(doc2, removeLinesFn);\n            }\n            var isHardline = (doc2, nextDoc) => doc2 && doc2.type === \"line\" && doc2.hard && nextDoc && nextDoc.type === \"break-parent\";\n            function stripDocTrailingHardlineFromDoc(doc2) {\n              if (!doc2) {\n                return doc2;\n              }\n              if (isConcat(doc2) || doc2.type === \"fill\") {\n                const parts = getDocParts(doc2);\n                while (parts.length > 1 && isHardline(...parts.slice(-2))) {\n                  parts.length -= 2;\n                }\n                if (parts.length > 0) {\n                  const lastPart = stripDocTrailingHardlineFromDoc(getLast(parts));\n                  parts[parts.length - 1] = lastPart;\n                }\n                return Array.isArray(doc2) ? parts : Object.assign(Object.assign({}, doc2), {}, {\n                  parts\n                });\n              }\n              switch (doc2.type) {\n                case \"align\":\n                case \"indent\":\n                case \"indent-if-break\":\n                case \"group\":\n                case \"line-suffix\":\n                case \"label\": {\n                  const contents = stripDocTrailingHardlineFromDoc(doc2.contents);\n                  return Object.assign(Object.assign({}, doc2), {}, {\n                    contents\n                  });\n                }\n                case \"if-break\": {\n                  const breakContents = stripDocTrailingHardlineFromDoc(doc2.breakContents);\n                  const flatContents = stripDocTrailingHardlineFromDoc(doc2.flatContents);\n                  return Object.assign(Object.assign({}, doc2), {}, {\n                    breakContents,\n                    flatContents\n                  });\n                }\n              }\n              return doc2;\n            }\n            function stripTrailingHardline(doc2) {\n              return stripDocTrailingHardlineFromDoc(cleanDoc(doc2));\n            }\n            function cleanDocFn(doc2) {\n              switch (doc2.type) {\n                case \"fill\":\n                  if (doc2.parts.every((part) => part === \"\")) {\n                    return \"\";\n                  }\n                  break;\n                case \"group\":\n                  if (!doc2.contents && !doc2.id && !doc2.break && !doc2.expandedStates) {\n                    return \"\";\n                  }\n                  if (doc2.contents.type === \"group\" && doc2.contents.id === doc2.id && doc2.contents.break === doc2.break && doc2.contents.expandedStates === doc2.expandedStates) {\n                    return doc2.contents;\n                  }\n                  break;\n                case \"align\":\n                case \"indent\":\n                case \"indent-if-break\":\n                case \"line-suffix\":\n                  if (!doc2.contents) {\n                    return \"\";\n                  }\n                  break;\n                case \"if-break\":\n                  if (!doc2.flatContents && !doc2.breakContents) {\n                    return \"\";\n                  }\n                  break;\n              }\n              if (!isConcat(doc2)) {\n                return doc2;\n              }\n              const parts = [];\n              for (const part of getDocParts(doc2)) {\n                if (!part) {\n                  continue;\n                }\n                const [currentPart, ...restParts] = isConcat(part) ? getDocParts(part) : [part];\n                if (typeof currentPart === \"string\" && typeof getLast(parts) === \"string\") {\n                  parts[parts.length - 1] += currentPart;\n                } else {\n                  parts.push(currentPart);\n                }\n                parts.push(...restParts);\n              }\n              if (parts.length === 0) {\n                return \"\";\n              }\n              if (parts.length === 1) {\n                return parts[0];\n              }\n              return Array.isArray(doc2) ? parts : Object.assign(Object.assign({}, doc2), {}, {\n                parts\n              });\n            }\n            function cleanDoc(doc2) {\n              return mapDoc(doc2, (currentDoc) => cleanDocFn(currentDoc));\n            }\n            function normalizeParts(parts) {\n              const newParts = [];\n              const restParts = parts.filter(Boolean);\n              while (restParts.length > 0) {\n                const part = restParts.shift();\n                if (!part) {\n                  continue;\n                }\n                if (isConcat(part)) {\n                  restParts.unshift(...getDocParts(part));\n                  continue;\n                }\n                if (newParts.length > 0 && typeof getLast(newParts) === \"string\" && typeof part === \"string\") {\n                  newParts[newParts.length - 1] += part;\n                  continue;\n                }\n                newParts.push(part);\n              }\n              return newParts;\n            }\n            function normalizeDoc(doc2) {\n              return mapDoc(doc2, (currentDoc) => {\n                if (Array.isArray(currentDoc)) {\n                  return normalizeParts(currentDoc);\n                }\n                if (!currentDoc.parts) {\n                  return currentDoc;\n                }\n                return Object.assign(Object.assign({}, currentDoc), {}, {\n                  parts: normalizeParts(currentDoc.parts)\n                });\n              });\n            }\n            function replaceEndOfLine(doc2) {\n              return mapDoc(doc2, (currentDoc) => typeof currentDoc === \"string\" && currentDoc.includes(\"\\n\") ? replaceTextEndOfLine(currentDoc) : currentDoc);\n            }\n            function replaceTextEndOfLine(text) {\n              let replacement = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : literalline;\n              return join(replacement, text.split(\"\\n\")).parts;\n            }\n            function canBreakFn(doc2) {\n              if (doc2.type === \"line\") {\n                return true;\n              }\n            }\n            function canBreak(doc2) {\n              return findInDoc(doc2, canBreakFn, false);\n            }\n            module22.exports = {\n              isConcat,\n              getDocParts,\n              willBreak,\n              traverseDoc,\n              findInDoc,\n              mapDoc,\n              propagateBreaks,\n              removeLines,\n              stripTrailingHardline,\n              normalizeParts,\n              normalizeDoc,\n              cleanDoc,\n              replaceTextEndOfLine,\n              replaceEndOfLine,\n              canBreak\n            };\n          }\n        });\n        var require_doc_printer = __commonJS2({\n          \"src/document/doc-printer.js\"(exports22, module22) {\n            init_define_process();\n            var {\n              convertEndOfLineToChars\n            } = require_end_of_line();\n            var getLast = require_get_last();\n            var getStringWidth = require_get_string_width();\n            var {\n              fill,\n              cursor,\n              indent\n            } = require_doc_builders();\n            var {\n              isConcat,\n              getDocParts\n            } = require_doc_utils();\n            var groupModeMap;\n            var MODE_BREAK = 1;\n            var MODE_FLAT = 2;\n            function rootIndent() {\n              return {\n                value: \"\",\n                length: 0,\n                queue: []\n              };\n            }\n            function makeIndent(ind, options) {\n              return generateInd(ind, {\n                type: \"indent\"\n              }, options);\n            }\n            function makeAlign(indent2, widthOrDoc, options) {\n              if (widthOrDoc === Number.NEGATIVE_INFINITY) {\n                return indent2.root || rootIndent();\n              }\n              if (widthOrDoc < 0) {\n                return generateInd(indent2, {\n                  type: \"dedent\"\n                }, options);\n              }\n              if (!widthOrDoc) {\n                return indent2;\n              }\n              if (widthOrDoc.type === \"root\") {\n                return Object.assign(Object.assign({}, indent2), {}, {\n                  root: indent2\n                });\n              }\n              const alignType = typeof widthOrDoc === \"string\" ? \"stringAlign\" : \"numberAlign\";\n              return generateInd(indent2, {\n                type: alignType,\n                n: widthOrDoc\n              }, options);\n            }\n            function generateInd(ind, newPart, options) {\n              const queue = newPart.type === \"dedent\" ? ind.queue.slice(0, -1) : [...ind.queue, newPart];\n              let value = \"\";\n              let length = 0;\n              let lastTabs = 0;\n              let lastSpaces = 0;\n              for (const part of queue) {\n                switch (part.type) {\n                  case \"indent\":\n                    flush();\n                    if (options.useTabs) {\n                      addTabs(1);\n                    } else {\n                      addSpaces(options.tabWidth);\n                    }\n                    break;\n                  case \"stringAlign\":\n                    flush();\n                    value += part.n;\n                    length += part.n.length;\n                    break;\n                  case \"numberAlign\":\n                    lastTabs += 1;\n                    lastSpaces += part.n;\n                    break;\n                  default:\n                    throw new Error(`Unexpected type '${part.type}'`);\n                }\n              }\n              flushSpaces();\n              return Object.assign(Object.assign({}, ind), {}, {\n                value,\n                length,\n                queue\n              });\n              function addTabs(count) {\n                value += \"\t\".repeat(count);\n                length += options.tabWidth * count;\n              }\n              function addSpaces(count) {\n                value += \" \".repeat(count);\n                length += count;\n              }\n              function flush() {\n                if (options.useTabs) {\n                  flushTabs();\n                } else {\n                  flushSpaces();\n                }\n              }\n              function flushTabs() {\n                if (lastTabs > 0) {\n                  addTabs(lastTabs);\n                }\n                resetLast();\n              }\n              function flushSpaces() {\n                if (lastSpaces > 0) {\n                  addSpaces(lastSpaces);\n                }\n                resetLast();\n              }\n              function resetLast() {\n                lastTabs = 0;\n                lastSpaces = 0;\n              }\n            }\n            function trim(out) {\n              if (out.length === 0) {\n                return 0;\n              }\n              let trimCount = 0;\n              while (out.length > 0 && typeof getLast(out) === \"string\" && /^[\\t ]*$/.test(getLast(out))) {\n                trimCount += out.pop().length;\n              }\n              if (out.length > 0 && typeof getLast(out) === \"string\") {\n                const trimmed = getLast(out).replace(/[\\t ]*$/, \"\");\n                trimCount += getLast(out).length - trimmed.length;\n                out[out.length - 1] = trimmed;\n              }\n              return trimCount;\n            }\n            function fits(next, restCommands, width, hasLineSuffix, mustBeFlat) {\n              let restIdx = restCommands.length;\n              const cmds = [next];\n              const out = [];\n              while (width >= 0) {\n                if (cmds.length === 0) {\n                  if (restIdx === 0) {\n                    return true;\n                  }\n                  cmds.push(restCommands[--restIdx]);\n                  continue;\n                }\n                const {\n                  mode,\n                  doc: doc2\n                } = cmds.pop();\n                if (typeof doc2 === \"string\") {\n                  out.push(doc2);\n                  width -= getStringWidth(doc2);\n                } else if (isConcat(doc2) || doc2.type === \"fill\") {\n                  const parts = getDocParts(doc2);\n                  for (let i = parts.length - 1; i >= 0; i--) {\n                    cmds.push({\n                      mode,\n                      doc: parts[i]\n                    });\n                  }\n                } else {\n                  switch (doc2.type) {\n                    case \"indent\":\n                    case \"align\":\n                    case \"indent-if-break\":\n                    case \"label\":\n                      cmds.push({\n                        mode,\n                        doc: doc2.contents\n                      });\n                      break;\n                    case \"trim\":\n                      width += trim(out);\n                      break;\n                    case \"group\": {\n                      if (mustBeFlat && doc2.break) {\n                        return false;\n                      }\n                      const groupMode = doc2.break ? MODE_BREAK : mode;\n                      const contents = doc2.expandedStates && groupMode === MODE_BREAK ? getLast(doc2.expandedStates) : doc2.contents;\n                      cmds.push({\n                        mode: groupMode,\n                        doc: contents\n                      });\n                      break;\n                    }\n                    case \"if-break\": {\n                      const groupMode = doc2.groupId ? groupModeMap[doc2.groupId] || MODE_FLAT : mode;\n                      const contents = groupMode === MODE_BREAK ? doc2.breakContents : doc2.flatContents;\n                      if (contents) {\n                        cmds.push({\n                          mode,\n                          doc: contents\n                        });\n                      }\n                      break;\n                    }\n                    case \"line\":\n                      if (mode === MODE_BREAK || doc2.hard) {\n                        return true;\n                      }\n                      if (!doc2.soft) {\n                        out.push(\" \");\n                        width--;\n                      }\n                      break;\n                    case \"line-suffix\":\n                      hasLineSuffix = true;\n                      break;\n                    case \"line-suffix-boundary\":\n                      if (hasLineSuffix) {\n                        return false;\n                      }\n                      break;\n                  }\n                }\n              }\n              return false;\n            }\n            function printDocToString(doc2, options) {\n              groupModeMap = {};\n              const width = options.printWidth;\n              const newLine = convertEndOfLineToChars(options.endOfLine);\n              let pos = 0;\n              const cmds = [{\n                ind: rootIndent(),\n                mode: MODE_BREAK,\n                doc: doc2\n              }];\n              const out = [];\n              let shouldRemeasure = false;\n              const lineSuffix = [];\n              while (cmds.length > 0) {\n                const {\n                  ind,\n                  mode,\n                  doc: doc22\n                } = cmds.pop();\n                if (typeof doc22 === \"string\") {\n                  const formatted = newLine !== \"\\n\" ? doc22.replace(/\\n/g, newLine) : doc22;\n                  out.push(formatted);\n                  pos += getStringWidth(formatted);\n                } else if (isConcat(doc22)) {\n                  const parts = getDocParts(doc22);\n                  for (let i = parts.length - 1; i >= 0; i--) {\n                    cmds.push({\n                      ind,\n                      mode,\n                      doc: parts[i]\n                    });\n                  }\n                } else {\n                  switch (doc22.type) {\n                    case \"cursor\":\n                      out.push(cursor.placeholder);\n                      break;\n                    case \"indent\":\n                      cmds.push({\n                        ind: makeIndent(ind, options),\n                        mode,\n                        doc: doc22.contents\n                      });\n                      break;\n                    case \"align\":\n                      cmds.push({\n                        ind: makeAlign(ind, doc22.n, options),\n                        mode,\n                        doc: doc22.contents\n                      });\n                      break;\n                    case \"trim\":\n                      pos -= trim(out);\n                      break;\n                    case \"group\":\n                      switch (mode) {\n                        case MODE_FLAT:\n                          if (!shouldRemeasure) {\n                            cmds.push({\n                              ind,\n                              mode: doc22.break ? MODE_BREAK : MODE_FLAT,\n                              doc: doc22.contents\n                            });\n                            break;\n                          }\n                        case MODE_BREAK: {\n                          shouldRemeasure = false;\n                          const next = {\n                            ind,\n                            mode: MODE_FLAT,\n                            doc: doc22.contents\n                          };\n                          const rem = width - pos;\n                          const hasLineSuffix = lineSuffix.length > 0;\n                          if (!doc22.break && fits(next, cmds, rem, hasLineSuffix)) {\n                            cmds.push(next);\n                          } else {\n                            if (doc22.expandedStates) {\n                              const mostExpanded = getLast(doc22.expandedStates);\n                              if (doc22.break) {\n                                cmds.push({\n                                  ind,\n                                  mode: MODE_BREAK,\n                                  doc: mostExpanded\n                                });\n                                break;\n                              } else {\n                                for (let i = 1; i < doc22.expandedStates.length + 1; i++) {\n                                  if (i >= doc22.expandedStates.length) {\n                                    cmds.push({\n                                      ind,\n                                      mode: MODE_BREAK,\n                                      doc: mostExpanded\n                                    });\n                                    break;\n                                  } else {\n                                    const state = doc22.expandedStates[i];\n                                    const cmd = {\n                                      ind,\n                                      mode: MODE_FLAT,\n                                      doc: state\n                                    };\n                                    if (fits(cmd, cmds, rem, hasLineSuffix)) {\n                                      cmds.push(cmd);\n                                      break;\n                                    }\n                                  }\n                                }\n                              }\n                            } else {\n                              cmds.push({\n                                ind,\n                                mode: MODE_BREAK,\n                                doc: doc22.contents\n                              });\n                            }\n                          }\n                          break;\n                        }\n                      }\n                      if (doc22.id) {\n                        groupModeMap[doc22.id] = getLast(cmds).mode;\n                      }\n                      break;\n                    case \"fill\": {\n                      const rem = width - pos;\n                      const {\n                        parts\n                      } = doc22;\n                      if (parts.length === 0) {\n                        break;\n                      }\n                      const [content, whitespace2] = parts;\n                      const contentFlatCmd = {\n                        ind,\n                        mode: MODE_FLAT,\n                        doc: content\n                      };\n                      const contentBreakCmd = {\n                        ind,\n                        mode: MODE_BREAK,\n                        doc: content\n                      };\n                      const contentFits = fits(contentFlatCmd, [], rem, lineSuffix.length > 0, true);\n                      if (parts.length === 1) {\n                        if (contentFits) {\n                          cmds.push(contentFlatCmd);\n                        } else {\n                          cmds.push(contentBreakCmd);\n                        }\n                        break;\n                      }\n                      const whitespaceFlatCmd = {\n                        ind,\n                        mode: MODE_FLAT,\n                        doc: whitespace2\n                      };\n                      const whitespaceBreakCmd = {\n                        ind,\n                        mode: MODE_BREAK,\n                        doc: whitespace2\n                      };\n                      if (parts.length === 2) {\n                        if (contentFits) {\n                          cmds.push(whitespaceFlatCmd, contentFlatCmd);\n                        } else {\n                          cmds.push(whitespaceBreakCmd, contentBreakCmd);\n                        }\n                        break;\n                      }\n                      parts.splice(0, 2);\n                      const remainingCmd = {\n                        ind,\n                        mode,\n                        doc: fill(parts)\n                      };\n                      const secondContent = parts[0];\n                      const firstAndSecondContentFlatCmd = {\n                        ind,\n                        mode: MODE_FLAT,\n                        doc: [content, whitespace2, secondContent]\n                      };\n                      const firstAndSecondContentFits = fits(firstAndSecondContentFlatCmd, [], rem, lineSuffix.length > 0, true);\n                      if (firstAndSecondContentFits) {\n                        cmds.push(remainingCmd, whitespaceFlatCmd, contentFlatCmd);\n                      } else if (contentFits) {\n                        cmds.push(remainingCmd, whitespaceBreakCmd, contentFlatCmd);\n                      } else {\n                        cmds.push(remainingCmd, whitespaceBreakCmd, contentBreakCmd);\n                      }\n                      break;\n                    }\n                    case \"if-break\":\n                    case \"indent-if-break\": {\n                      const groupMode = doc22.groupId ? groupModeMap[doc22.groupId] : mode;\n                      if (groupMode === MODE_BREAK) {\n                        const breakContents = doc22.type === \"if-break\" ? doc22.breakContents : doc22.negate ? doc22.contents : indent(doc22.contents);\n                        if (breakContents) {\n                          cmds.push({\n                            ind,\n                            mode,\n                            doc: breakContents\n                          });\n                        }\n                      }\n                      if (groupMode === MODE_FLAT) {\n                        const flatContents = doc22.type === \"if-break\" ? doc22.flatContents : doc22.negate ? indent(doc22.contents) : doc22.contents;\n                        if (flatContents) {\n                          cmds.push({\n                            ind,\n                            mode,\n                            doc: flatContents\n                          });\n                        }\n                      }\n                      break;\n                    }\n                    case \"line-suffix\":\n                      lineSuffix.push({\n                        ind,\n                        mode,\n                        doc: doc22.contents\n                      });\n                      break;\n                    case \"line-suffix-boundary\":\n                      if (lineSuffix.length > 0) {\n                        cmds.push({\n                          ind,\n                          mode,\n                          doc: {\n                            type: \"line\",\n                            hard: true\n                          }\n                        });\n                      }\n                      break;\n                    case \"line\":\n                      switch (mode) {\n                        case MODE_FLAT:\n                          if (!doc22.hard) {\n                            if (!doc22.soft) {\n                              out.push(\" \");\n                              pos += 1;\n                            }\n                            break;\n                          } else {\n                            shouldRemeasure = true;\n                          }\n                        case MODE_BREAK:\n                          if (lineSuffix.length > 0) {\n                            cmds.push({\n                              ind,\n                              mode,\n                              doc: doc22\n                            }, ...lineSuffix.reverse());\n                            lineSuffix.length = 0;\n                            break;\n                          }\n                          if (doc22.literal) {\n                            if (ind.root) {\n                              out.push(newLine, ind.root.value);\n                              pos = ind.root.length;\n                            } else {\n                              out.push(newLine);\n                              pos = 0;\n                            }\n                          } else {\n                            pos -= trim(out);\n                            out.push(newLine + ind.value);\n                            pos = ind.length;\n                          }\n                          break;\n                      }\n                      break;\n                    case \"label\":\n                      cmds.push({\n                        ind,\n                        mode,\n                        doc: doc22.contents\n                      });\n                      break;\n                  }\n                }\n                if (cmds.length === 0 && lineSuffix.length > 0) {\n                  cmds.push(...lineSuffix.reverse());\n                  lineSuffix.length = 0;\n                }\n              }\n              const cursorPlaceholderIndex = out.indexOf(cursor.placeholder);\n              if (cursorPlaceholderIndex !== -1) {\n                const otherCursorPlaceholderIndex = out.indexOf(cursor.placeholder, cursorPlaceholderIndex + 1);\n                const beforeCursor = out.slice(0, cursorPlaceholderIndex).join(\"\");\n                const aroundCursor = out.slice(cursorPlaceholderIndex + 1, otherCursorPlaceholderIndex).join(\"\");\n                const afterCursor = out.slice(otherCursorPlaceholderIndex + 1).join(\"\");\n                return {\n                  formatted: beforeCursor + aroundCursor + afterCursor,\n                  cursorNodeStart: beforeCursor.length,\n                  cursorNodeText: aroundCursor\n                };\n              }\n              return {\n                formatted: out.join(\"\")\n              };\n            }\n            module22.exports = {\n              printDocToString\n            };\n          }\n        });\n        var require_doc_debug = __commonJS2({\n          \"src/document/doc-debug.js\"(exports22, module22) {\n            init_define_process();\n            var {\n              isConcat,\n              getDocParts\n            } = require_doc_utils();\n            function flattenDoc(doc2) {\n              if (!doc2) {\n                return \"\";\n              }\n              if (isConcat(doc2)) {\n                const res = [];\n                for (const part of getDocParts(doc2)) {\n                  if (isConcat(part)) {\n                    res.push(...flattenDoc(part).parts);\n                  } else {\n                    const flattened = flattenDoc(part);\n                    if (flattened !== \"\") {\n                      res.push(flattened);\n                    }\n                  }\n                }\n                return {\n                  type: \"concat\",\n                  parts: res\n                };\n              }\n              if (doc2.type === \"if-break\") {\n                return Object.assign(Object.assign({}, doc2), {}, {\n                  breakContents: flattenDoc(doc2.breakContents),\n                  flatContents: flattenDoc(doc2.flatContents)\n                });\n              }\n              if (doc2.type === \"group\") {\n                return Object.assign(Object.assign({}, doc2), {}, {\n                  contents: flattenDoc(doc2.contents),\n                  expandedStates: doc2.expandedStates && doc2.expandedStates.map(flattenDoc)\n                });\n              }\n              if (doc2.type === \"fill\") {\n                return {\n                  type: \"fill\",\n                  parts: doc2.parts.map(flattenDoc)\n                };\n              }\n              if (doc2.contents) {\n                return Object.assign(Object.assign({}, doc2), {}, {\n                  contents: flattenDoc(doc2.contents)\n                });\n              }\n              return doc2;\n            }\n            function printDocToDebug(doc2) {\n              const printedSymbols = /* @__PURE__ */ Object.create(null);\n              const usedKeysForSymbols = /* @__PURE__ */ new Set();\n              return printDoc(flattenDoc(doc2));\n              function printDoc(doc22, index, parentParts) {\n                if (typeof doc22 === \"string\") {\n                  return JSON.stringify(doc22);\n                }\n                if (isConcat(doc22)) {\n                  const printed = getDocParts(doc22).map(printDoc).filter(Boolean);\n                  return printed.length === 1 ? printed[0] : `[${printed.join(\", \")}]`;\n                }\n                if (doc22.type === \"line\") {\n                  const withBreakParent = Array.isArray(parentParts) && parentParts[index + 1] && parentParts[index + 1].type === \"break-parent\";\n                  if (doc22.literal) {\n                    return withBreakParent ? \"literalline\" : \"literallineWithoutBreakParent\";\n                  }\n                  if (doc22.hard) {\n                    return withBreakParent ? \"hardline\" : \"hardlineWithoutBreakParent\";\n                  }\n                  if (doc22.soft) {\n                    return \"softline\";\n                  }\n                  return \"line\";\n                }\n                if (doc22.type === \"break-parent\") {\n                  const afterHardline = Array.isArray(parentParts) && parentParts[index - 1] && parentParts[index - 1].type === \"line\" && parentParts[index - 1].hard;\n                  return afterHardline ? void 0 : \"breakParent\";\n                }\n                if (doc22.type === \"trim\") {\n                  return \"trim\";\n                }\n                if (doc22.type === \"indent\") {\n                  return \"indent(\" + printDoc(doc22.contents) + \")\";\n                }\n                if (doc22.type === \"align\") {\n                  return doc22.n === Number.NEGATIVE_INFINITY ? \"dedentToRoot(\" + printDoc(doc22.contents) + \")\" : doc22.n < 0 ? \"dedent(\" + printDoc(doc22.contents) + \")\" : doc22.n.type === \"root\" ? \"markAsRoot(\" + printDoc(doc22.contents) + \")\" : \"align(\" + JSON.stringify(doc22.n) + \", \" + printDoc(doc22.contents) + \")\";\n                }\n                if (doc22.type === \"if-break\") {\n                  return \"ifBreak(\" + printDoc(doc22.breakContents) + (doc22.flatContents ? \", \" + printDoc(doc22.flatContents) : \"\") + (doc22.groupId ? (!doc22.flatContents ? ', \"\"' : \"\") + `, { groupId: ${printGroupId(doc22.groupId)} }` : \"\") + \")\";\n                }\n                if (doc22.type === \"indent-if-break\") {\n                  const optionsParts = [];\n                  if (doc22.negate) {\n                    optionsParts.push(\"negate: true\");\n                  }\n                  if (doc22.groupId) {\n                    optionsParts.push(`groupId: ${printGroupId(doc22.groupId)}`);\n                  }\n                  const options = optionsParts.length > 0 ? `, { ${optionsParts.join(\", \")} }` : \"\";\n                  return `indentIfBreak(${printDoc(doc22.contents)}${options})`;\n                }\n                if (doc22.type === \"group\") {\n                  const optionsParts = [];\n                  if (doc22.break && doc22.break !== \"propagated\") {\n                    optionsParts.push(\"shouldBreak: true\");\n                  }\n                  if (doc22.id) {\n                    optionsParts.push(`id: ${printGroupId(doc22.id)}`);\n                  }\n                  const options = optionsParts.length > 0 ? `, { ${optionsParts.join(\", \")} }` : \"\";\n                  if (doc22.expandedStates) {\n                    return `conditionalGroup([${doc22.expandedStates.map((part) => printDoc(part)).join(\",\")}]${options})`;\n                  }\n                  return `group(${printDoc(doc22.contents)}${options})`;\n                }\n                if (doc22.type === \"fill\") {\n                  return `fill([${doc22.parts.map((part) => printDoc(part)).join(\", \")}])`;\n                }\n                if (doc22.type === \"line-suffix\") {\n                  return \"lineSuffix(\" + printDoc(doc22.contents) + \")\";\n                }\n                if (doc22.type === \"line-suffix-boundary\") {\n                  return \"lineSuffixBoundary\";\n                }\n                if (doc22.type === \"label\") {\n                  return `label(${JSON.stringify(doc22.label)}, ${printDoc(doc22.contents)})`;\n                }\n                throw new Error(\"Unknown doc type \" + doc22.type);\n              }\n              function printGroupId(id) {\n                if (typeof id !== \"symbol\") {\n                  return JSON.stringify(String(id));\n                }\n                if (id in printedSymbols) {\n                  return printedSymbols[id];\n                }\n                const prefix = String(id).slice(7, -1) || \"symbol\";\n                for (let counter = 0; ; counter++) {\n                  const key = prefix + (counter > 0 ? ` #${counter}` : \"\");\n                  if (!usedKeysForSymbols.has(key)) {\n                    usedKeysForSymbols.add(key);\n                    return printedSymbols[id] = `Symbol.for(${JSON.stringify(key)})`;\n                  }\n                }\n              }\n            }\n            module22.exports = {\n              printDocToDebug\n            };\n          }\n        });\n        init_define_process();\n        module2.exports = {\n          builders: require_doc_builders(),\n          printer: require_doc_printer(),\n          utils: require_doc_utils(),\n          debug: require_doc_debug()\n        };\n      }\n    });\n    return require_doc_js_umd();\n  });\n})(doc);\nconst MAX_LINES = 4;\nconst defaultOptions = {\n  printWidth: 30,\n  tabWidth: 4,\n  useTabs: false\n};\nfunction prettierPrint(doc2) {\n  return docExports.printer.printDocToString(doc2, defaultOptions).formatted;\n}\nfunction addCursor(state, cursor = \"^\", error = false) {\n  const color = (error ? chalk.red : chalk.green).bold;\n  const lines = state.src.split(\"\\n\");\n  const lineIdx = Math.min(lines.length - 1, state.getLineNumber());\n  const startIdx = Math.max(lineIdx - MAX_LINES, 0);\n  const endIdx = Math.min(lineIdx + MAX_LINES + 1, lines.length);\n  const lineSummaries = lines.slice(startIdx, endIdx);\n  if (cursor) {\n    const cursorLine = \" \".repeat(state.getColumnNumber()) + color(cursor);\n    lineSummaries.splice(lineIdx - startIdx + 1, 0, cursorLine);\n  }\n  const resultLines = lineSummaries.map((line, idx) => {\n    const lineNum = startIdx + idx + 1;\n    let paddedLineNum = color.reset.black(String(lineNum));\n    line = lineNum === lineIdx + 1 ? color(line) : line;\n    const paddedLine = `      ${paddedLineNum}| ${line}`;\n    return paddedLine;\n  });\n  return resultLines.join(\"\\n\");\n}\nconst group = (docs, groupOptions = {}) => {\n  return docExports.builders.group(docs, { ...defaultOptions, ...groupOptions });\n};\nconst opStyle = (op) => chalk.gray(op);\nconst PARSER_STRINGS = /* @__PURE__ */ new Map();\nfunction parserPrint(parser) {\n  if (PARSER_STRINGS.has(parser.id)) {\n    return PARSER_STRINGS.get(parser.id);\n  }\n  const print = (innerParser, id) => {\n    if (PARSER_STRINGS.has(innerParser.id)) {\n      return PARSER_STRINGS.get(innerParser.id);\n    }\n    const { name, args, parser: innerInnerParser } = innerParser.context;\n    const parserString = innerInnerParser != null ? print(innerInnerParser, id) : chalk.red.bold(\"unknown\");\n    let s2 = (() => {\n      switch (name) {\n        case \"string\":\n          return chalk.yellow(`\"${args[0]}\"`);\n        case \"regex\":\n        case \"regexConcat\":\n        case \"regexWrap\":\n          return chalk.redBright(`${args[0]}`);\n        case \"wrap\":\n        case \"trim\": {\n          const [left, right] = args;\n          return group([\n            print(left, id),\n            docExports.builders.indent([docExports.builders.softline, parserString]),\n            docExports.builders.softline,\n            print(right, id)\n          ]);\n        }\n        case \"trimWhitespace\":\n          return group([parserString, opStyle(\"?w\")]);\n        case \"not\":\n          return group([\"!\", parserString]);\n        case \"opt\":\n          return group([parserString, opStyle(\"?\")]);\n        case \"next\":\n          const [next] = args;\n          return group([parserString, opStyle(\" >> \"), print(next, id)]);\n        case \"skip\":\n          const [skip] = args;\n          return group([parserString, opStyle(\" << \"), print(skip, id)]);\n        case \"map\":\n          return parserString;\n        case \"all\":\n        case \"then\": {\n          const delim = opStyle(\", \");\n          return group([\n            \"[\",\n            docExports.builders.indent([\n              docExports.builders.softline,\n              docExports.builders.join(\n                [delim, docExports.builders.softline],\n                args.map((x) => print(x, id))\n              )\n            ]),\n            docExports.builders.softline,\n            \"]\"\n          ]);\n        }\n        case \"any\":\n        case \"or\": {\n          const delim = opStyle(\"| \");\n          return group([\n            [\n              docExports.builders.join(\n                [docExports.builders.softline, docExports.builders.ifBreak(delim, \" \" + delim)],\n                args.map((x) => print(x, id))\n              )\n            ]\n          ]);\n        }\n        case \"many\":\n          const [min, max] = args;\n          let bounds = max === Infinity ? `${min},` : `${min},${max}`;\n          bounds = chalk.bold.gray(` {${bounds}}`);\n          return group([parserString, bounds]);\n        case \"sepBy\":\n          return group([\n            parserString,\n            docExports.builders.indent([\" sepBy \", print(args[0], id)])\n          ]);\n        case \"lazy\": {\n          const [lazy2] = args;\n          const p = getLazyParser(lazy2);\n          if (!id) {\n            const s3 = print(p, p.id);\n            PARSER_STRINGS.set(p.id, s3);\n            return s3;\n          } else {\n            return chalk.bold.blue(name);\n          }\n        }\n        case \"debug\":\n          return parserString;\n      }\n    })();\n    s2 ?? (s2 = chalk.red.bold(name));\n    if (id) {\n      PARSER_STRINGS.set(innerParser.id, s2);\n    }\n    return s2;\n  };\n  const doc2 = print(parser);\n  const s = prettierPrint(doc2);\n  PARSER_STRINGS.set(parser.id, s);\n  return s;\n}\nfunction statePrint(state, name = \"\", parserString = \"\") {\n  const stateBgColor = !state.isError ? chalk.bgGreen : chalk.bgRed;\n  const stateColor = !state.isError ? chalk.green : chalk.red;\n  const finished = state.offset >= state.src.length;\n  const stateSymbol = !state.isError ? finished ? \"\" : \"\" : \"\";\n  const stateName = !state.isError ? finished ? \"Done\" : \"Ok\" : \"Err\";\n  const stateString = \" \" + stateName + \" \" + stateSymbol + \" \";\n  const header = group([\n    stateBgColor.bold(stateString),\n    stateColor(`\t${name}\t${state.offset}`),\n    docExports.builders.softline,\n    \"\t\" + chalk.yellow(parserString)\n  ]);\n  const body = (() => {\n    if (state.offset >= state.src.length) {\n      return chalk.bold.greenBright(addCursor(state, \"\", state.isError));\n    }\n    return addCursor(state, \"^\", state.isError);\n  })();\n  const headerBody = group([header, docExports.builders.hardline, docExports.builders.indent([body])]);\n  return prettierPrint(headerBody);\n}\nfunction parserDebug(parser, name = \"\", recursivePrint = false, logger = console.log) {\n  const debug = (state) => {\n    const newState = parser.parser(state);\n    const parserString = recursivePrint ? parserPrint(parser) : parser.context.name;\n    const s = statePrint(newState, name, parserString);\n    logger(s);\n    return newState;\n  };\n  return new Parser(debug, createParserContext(\"debug\", parser, logger));\n}\nclass ParserState {\n  constructor(src, value = void 0, offset = 0, isError = false, furthest = 0) {\n    this.src = src;\n    this.value = value;\n    this.offset = offset;\n    this.isError = isError;\n    this.furthest = furthest;\n  }\n  ok(value, offset = 0) {\n    offset += this.offset;\n    return new ParserState(this.src, value, offset, false);\n  }\n  err(value, offset = 0) {\n    const nextState = this.ok(value, offset);\n    nextState.isError = true;\n    return nextState;\n  }\n  from(value, offset = 0) {\n    offset += this.offset;\n    return new ParserState(this.src, value, offset, this.isError);\n  }\n  getColumnNumber() {\n    const offset = this.offset;\n    const lastNewline = this.src.lastIndexOf(\"\\n\", offset);\n    const columnNumber = lastNewline === -1 ? offset : offset - (lastNewline + 1);\n    return Math.max(0, columnNumber);\n  }\n  getLineNumber() {\n    const newlineIndex = this.src.lastIndexOf(\"\\n\", this.offset);\n    return newlineIndex >= 0 ? this.src.slice(0, newlineIndex).split(\"\\n\").length : 0;\n  }\n  toString() {\n    return statePrint(this);\n  }\n}\nfunction createParserContext(name, parser, ...args) {\n  return {\n    name,\n    parser,\n    args\n  };\n}\nlet PARSER_ID = 0;\nconst MEMO = /* @__PURE__ */ new Map();\nconst LEFT_RECURSION_COUNTS = /* @__PURE__ */ new Map();\nlet lastState;\nfunction mergeErrorState(state) {\n  if (!lastState || lastState && state.offset > lastState.offset) {\n    lastState = state;\n  }\n  return lastState;\n}\nfunction getLazyParser(fn) {\n  if (fn.parser) {\n    return fn.parser;\n  }\n  return fn.parser = fn();\n}\nclass Parser {\n  constructor(parser, context = {}) {\n    __publicField(this, \"id\", PARSER_ID++);\n    __publicField(this, \"state\");\n    this.parser = parser;\n    this.context = context;\n  }\n  reset() {\n    lastState = void 0;\n    MEMO.clear();\n    LEFT_RECURSION_COUNTS.clear();\n  }\n  parse(val) {\n    this.reset();\n    const newState = this.parser(new ParserState(val));\n    this.state = mergeErrorState(newState);\n    this.state.isError = newState.isError;\n    if (this.state.isError) {\n      console.log(this.state.toString());\n    }\n    return newState.value;\n  }\n  getCijKey(state) {\n    return `${this.id}${state.offset}`;\n  }\n  atLeftRecursionLimit(state) {\n    const cij = LEFT_RECURSION_COUNTS.get(this.getCijKey(state)) ?? 0;\n    return cij > state.src.length - state.offset;\n  }\n  memoize() {\n    const memoize = (state) => {\n      const cijKey = this.getCijKey(state);\n      const cij = LEFT_RECURSION_COUNTS.get(cijKey) ?? 0;\n      let cached = MEMO.get(this.id);\n      if (cached && cached.offset >= state.offset) {\n        return cached;\n      } else if (this.atLeftRecursionLimit(state)) {\n        return state.err(void 0);\n      }\n      LEFT_RECURSION_COUNTS.set(cijKey, cij + 1);\n      const newState = this.parser(state);\n      cached = MEMO.get(this.id);\n      if (cached && cached.offset > newState.offset) {\n        newState.offset = cached.offset;\n      } else if (!cached) {\n        MEMO.set(this.id, newState);\n      }\n      return newState;\n    };\n    return new Parser(\n      memoize,\n      createParserContext(\"memoize\", this)\n    );\n  }\n  mergeMemos() {\n    const mergeMemo = (state) => {\n      let cached = MEMO.get(this.id);\n      if (cached) {\n        return cached;\n      } else if (this.atLeftRecursionLimit(state)) {\n        return state.err(void 0);\n      }\n      const newState = this.parser(state);\n      cached = MEMO.get(this.id);\n      if (!cached) {\n        MEMO.set(this.id, newState);\n      }\n      return newState;\n    };\n    return new Parser(\n      mergeMemo,\n      createParserContext(\"mergeMemo\", this)\n    );\n  }\n  then(next) {\n    if (isStringParsers(this, next)) {\n      return concatStringParsers([this, next], \"\", (m) => [m == null ? void 0 : m[0], m == null ? void 0 : m[1]]);\n    }\n    const then = (state) => {\n      const nextState1 = this.parser(state);\n      if (!nextState1.isError) {\n        const nextState2 = next.parser(nextState1);\n        if (!nextState2.isError) {\n          return nextState2.ok([nextState1.value, nextState2.value]);\n        }\n      }\n      mergeErrorState(state);\n      return state.err(void 0);\n    };\n    return new Parser(\n      then,\n      createParserContext(\"then\", this, this, next)\n    );\n  }\n  or(other) {\n    if (isStringParsers(this, other)) {\n      return concatStringParsers([this, other], \"|\");\n    }\n    const or = (state) => {\n      const newState = this.parser(state);\n      if (!newState.isError) {\n        return newState;\n      }\n      return other.parser(state);\n    };\n    return new Parser(\n      or,\n      createParserContext(\"or\", this, this, other)\n    );\n  }\n  chain(fn, chainError = false) {\n    const chain = (state) => {\n      const newState = this.parser(state);\n      if (newState.isError) {\n        return newState;\n      } else if (newState.value || chainError) {\n        return fn(newState.value).parser(newState);\n      }\n      return state;\n    };\n    return new Parser(chain, createParserContext(\"chain\", this, fn));\n  }\n  map(fn, mapError = false) {\n    const map = (state) => {\n      const newState = this.parser(state);\n      if (!newState.isError || mapError) {\n        return newState.ok(fn(newState.value));\n      }\n      return newState;\n    };\n    return new Parser(map, createParserContext(\"map\", this));\n  }\n  mapState(fn) {\n    const mapState = (state) => {\n      const newState = this.parser(state);\n      return fn(newState);\n    };\n    return new Parser(\n      mapState,\n      createParserContext(\"mapState\", this)\n    );\n  }\n  skip(parser) {\n    const skip = (state) => {\n      const nextState1 = this.parser(state);\n      if (!nextState1.isError) {\n        const nextState2 = parser.parser(nextState1);\n        if (!nextState2.isError) {\n          return nextState2.ok(nextState1.value);\n        }\n      }\n      mergeErrorState(state);\n      return state.err(void 0);\n    };\n    return new Parser(\n      skip,\n      createParserContext(\"skip\", this, parser)\n    );\n  }\n  next(parser) {\n    const next = this.then(parser).map(([, b]) => {\n      return b;\n    });\n    next.context = createParserContext(\"next\", this, parser);\n    return next;\n  }\n  opt() {\n    const opt = (state) => {\n      const newState = this.parser(state);\n      if (newState.isError) {\n        mergeErrorState(state);\n        return state.ok(void 0);\n      }\n      return newState;\n    };\n    return new Parser(opt, createParserContext(\"opt\", this));\n  }\n  not(parser) {\n    const negate = (state) => {\n      const newState = this.parser(state);\n      if (newState.isError) {\n        mergeErrorState(state);\n        return state.ok(state.value);\n      } else {\n        return state.err(void 0);\n      }\n    };\n    const not = (state) => {\n      const newState = this.parser(state);\n      if (newState.isError) {\n        mergeErrorState(state);\n        return newState;\n      } else {\n        const nextState = parser.parser(state);\n        if (nextState.isError) {\n          return newState;\n        } else {\n          mergeErrorState(state);\n          return state.err(void 0);\n        }\n      }\n    };\n    return new Parser(\n      parser ? not : negate,\n      createParserContext(\"not\", this, parser)\n    );\n  }\n  wrap(start, end, discard = true) {\n    if (!discard) {\n      return all(start, this, end);\n    }\n    if (isStringParsers(start, this, end)) {\n      return wrapStringParsers(start, this, end);\n    }\n    const wrap = start.next(this).skip(end);\n    wrap.context = createParserContext(\"wrap\", this, start, end);\n    return wrap;\n  }\n  trim(parser = whitespace, discard = true) {\n    var _a;\n    if (!discard) {\n      return all(parser, this, parser);\n    }\n    if (((_a = parser.context) == null ? void 0 : _a.name) === \"whitespace\") {\n      if (isStringParsers(this, parser)) {\n        return concatStringParsers(\n          [parser, this, parser],\n          \"\",\n          (m) => m == null ? void 0 : m[2]\n        );\n      }\n      const whitespaceTrim = (state) => {\n        const newState = trimStateWhitespace(state);\n        const tmpState = this.parser(newState);\n        if (tmpState.isError) {\n          mergeErrorState(state);\n          return state.err(void 0);\n        } else {\n          return trimStateWhitespace(tmpState);\n        }\n      };\n      return new Parser(\n        whitespaceTrim,\n        createParserContext(\"trimWhitespace\", this)\n      );\n    }\n    return this.wrap(parser, parser);\n  }\n  many(min = 0, max = Infinity) {\n    const many = (state) => {\n      const matches = [];\n      let newState = state;\n      for (let i = 0; i < max; i += 1) {\n        const tmpState = this.parser(newState);\n        if (tmpState.isError) {\n          break;\n        }\n        matches.push(tmpState.value);\n        newState = tmpState;\n      }\n      if (matches.length >= min) {\n        return newState.ok(matches);\n      }\n      mergeErrorState(state);\n      return state.err([]);\n    };\n    return new Parser(\n      many,\n      createParserContext(\"many\", this, min, max)\n    );\n  }\n  sepBy(sep, min = 0, max = Infinity) {\n    const sepBy = (state) => {\n      const matches = [];\n      let newState = state;\n      for (let i = 0; i < max; i += 1) {\n        const tmpState = this.parser(newState);\n        if (tmpState.isError) {\n          break;\n        }\n        newState = tmpState;\n        matches.push(newState.value);\n        const sepState = sep.parser(newState);\n        if (sepState.isError) {\n          break;\n        }\n        newState = sepState;\n      }\n      if (matches.length > min) {\n        return newState.ok(matches);\n      }\n      mergeErrorState(state);\n      return state.err([]);\n    };\n    return new Parser(\n      sepBy,\n      createParserContext(\"sepBy\", this, sep)\n    );\n  }\n  eof() {\n    const p = this.skip(eof());\n    p.context = createParserContext(\"eof\", this);\n    return p;\n  }\n  debug(name = \"\", recursivePrint = false, logger = console.log) {\n    return parserDebug(this, name, recursivePrint, logger);\n  }\n  toString() {\n    return parserPrint(this);\n  }\n  static lazy(fn) {\n    const lazy2 = (state) => {\n      return getLazyParser(fn).parser(state);\n    };\n    return new Parser(lazy2, createParserContext(\"lazy\", void 0, fn));\n  }\n}\nfunction isStringParsers(...parsers) {\n  return parsers.every(\n    (p) => {\n      var _a, _b, _c, _d;\n      return (((_a = p.context) == null ? void 0 : _a.name) === \"string\" || ((_b = p.context) == null ? void 0 : _b.name) === \"regex\" || ((_c = p.context) == null ? void 0 : _c.name) === \"whitespace\") && ((_d = p.context) == null ? void 0 : _d.args);\n    }\n  );\n}\nfunction stringParserValue(p) {\n  var _a, _b, _c, _d, _e;\n  if (((_a = p.context) == null ? void 0 : _a.name) === \"string\") {\n    return (_b = p.context) == null ? void 0 : _b.args[0].replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n  } else if (((_c = p.context) == null ? void 0 : _c.name) === \"regex\" || ((_d = p.context) == null ? void 0 : _d.name) === \"whitespace\") {\n    return (_e = p.context) == null ? void 0 : _e.args[0].source;\n  }\n}\nfunction concatStringParsers(parsers, delim = \"\", matchFunction) {\n  const s = parsers.map((s2) => `(${stringParserValue(s2)})`).join(delim);\n  const r = new RegExp(s);\n  const rP = regex(r, matchFunction);\n  if (delim !== \"|\") {\n    rP.context = createParserContext(\"regexConcat\", this, r);\n  }\n  return rP;\n}\nfunction wrapStringParsers(left, p, right) {\n  const rP = concatStringParsers([left, p, right], \"\", (m) => {\n    return m == null ? void 0 : m[2];\n  });\n  rP.context.name = \"regexWrap\";\n  return rP;\n}\nfunction eof() {\n  const eof2 = (state) => {\n    if (state.offset >= state.src.length) {\n      return state.ok(void 0);\n    } else {\n      mergeErrorState(state);\n      return state.err();\n    }\n  };\n  return new Parser(eof2, createParserContext(\"eof\", void 0));\n}\nfunction lazy(target, propertyName, descriptor) {\n  const method = descriptor.value.bind(target);\n  descriptor.value = function() {\n    const lazy2 = (state) => {\n      return getLazyParser(method).parser(state);\n    };\n    return new Parser(lazy2, createParserContext(\"lazy\", void 0, method));\n  };\n}\nfunction any(...parsers) {\n  if (isStringParsers(...parsers)) {\n    return concatStringParsers(parsers, \"|\");\n  }\n  const any2 = (state) => {\n    for (const parser of parsers) {\n      const newState = parser.parser(state);\n      if (!newState.isError) {\n        return newState;\n      }\n    }\n    mergeErrorState(state);\n    return state.err(void 0);\n  };\n  return new Parser(\n    parsers.length === 1 ? parsers[0].parser : any2,\n    createParserContext(\"any\", void 0, ...parsers)\n  );\n}\nfunction all(...parsers) {\n  const all2 = (state) => {\n    const matches = [];\n    for (const parser of parsers) {\n      const newState = parser.parser(state);\n      if (newState.isError) {\n        return newState;\n      }\n      if (newState.value !== void 0) {\n        matches.push(newState.value);\n      }\n      state = newState;\n    }\n    mergeErrorState(state);\n    return state.ok(matches);\n  };\n  return new Parser(\n    parsers.length === 1 ? parsers[0].parser : all2,\n    createParserContext(\"all\", void 0, ...parsers)\n  );\n}\nfunction string(str) {\n  const string2 = (state) => {\n    if (state.offset >= state.src.length) {\n      return state.err(void 0);\n    }\n    const s = state.src.slice(state.offset, state.offset + str.length);\n    if (s === str) {\n      return state.ok(s, s.length);\n    }\n    mergeErrorState(state);\n    return state.err(void 0);\n  };\n  return new Parser(\n    string2,\n    createParserContext(\"string\", void 0, str)\n  );\n}\nfunction regex(r, matchFunction = (m) => m == null ? void 0 : m[0]) {\n  const flags = r.flags.replace(/y/g, \"\");\n  const sticky = new RegExp(r, flags + \"y\");\n  const regex2 = (state) => {\n    if (state.offset >= state.src.length) {\n      return state.err(void 0);\n    }\n    sticky.lastIndex = state.offset;\n    const match = matchFunction(state.src.match(sticky));\n    if (match) {\n      return state.ok(match, sticky.lastIndex - state.offset);\n    } else if (match === \"\") {\n      return state.ok(void 0);\n    }\n    mergeErrorState(state);\n    return state.err(void 0);\n  };\n  return new Parser(\n    regex2,\n    createParserContext(\"regex\", void 0, r)\n  );\n}\nconst WHITESPACE = /\\s*/y;\nconst trimStateWhitespace = (state) => {\n  var _a;\n  if (state.offset >= state.src.length) {\n    return state;\n  }\n  WHITESPACE.lastIndex = state.offset;\n  const match = ((_a = state.src.match(WHITESPACE)) == null ? void 0 : _a[0]) ?? \"\";\n  return state.ok(state.value, match.length);\n};\nconst whitespace = regex(/\\s*/);\nwhitespace.context.name = \"whitespace\";\nexport {\n  Parser,\n  all,\n  any,\n  eof,\n  getLazyParser,\n  lazy,\n  mergeErrorState,\n  regex,\n  string,\n  whitespace\n};\n//# sourceMappingURL=parse.js.map\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { regex, any, string, all, lazy, eof, Parser } from \"./parse.js\";\nimport \"chalk\";\nvar __defProp2 = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp2(target, key, result);\n  return result;\n};\nconst operatorToType = {\n  \"|\": \"alternation\",\n  \",\": \"concatenation\",\n  \"-\": \"minus\",\n  \"<<\": \"skip\",\n  \">>\": \"next\",\n  \"*\": \"many\",\n  \"+\": \"many1\",\n  \"?\": \"optional\",\n  \"?w\": \"optionalWhitespace\"\n};\nconst reduceBinaryExpression = ([left, rightExpression]) => {\n  if (rightExpression.length === 0) {\n    return left;\n  }\n  return rightExpression.reduce((acc, [op, right]) => {\n    return {\n      type: operatorToType[op],\n      value: [acc, right]\n    };\n  }, left);\n};\nconst mapFactor = ([term, op]) => {\n  if (op === void 0) {\n    return term;\n  }\n  const type = operatorToType[op];\n  return {\n    type,\n    value: term\n  };\n};\nfunction mapStatePosition(parser) {\n  return parser.mapState((state) => {\n    if (state.value) {\n      state.value.column = state.getColumnNumber();\n      state.value.line = state.getLineNumber();\n      state.value.offset = state.offset;\n    }\n    return state;\n  });\n}\nconst defaultOptions = {\n  debug: false,\n  comments: true\n};\nclass EBNFGrammar {\n  constructor(options) {\n    __publicField(this, \"options\");\n    this.options = {\n      ...defaultOptions,\n      ...options ?? {}\n    };\n  }\n  identifier() {\n    return regex(/[_a-zA-Z][_a-zA-Z0-9]*/).trim();\n  }\n  literal() {\n    return this.trimBigComment(\n      any(\n        regex(/[^\"]+/).wrap(string('\"'), string('\"')),\n        regex(/[^']+/).wrap(string(\"'\"), string(\"'\"))\n      ).map((value) => {\n        return {\n          type: \"literal\",\n          value\n        };\n      })\n    );\n  }\n  epsilon() {\n    return any(string(\"epsilon\"), string(\"\")).trim().map(() => {\n      return {\n        type: \"epsilon\",\n        value: void 0\n      };\n    });\n  }\n  nonterminal() {\n    return this.identifier().map((value) => {\n      return {\n        type: \"nonterminal\",\n        value\n      };\n    });\n  }\n  bigComment() {\n    return regex(/\\/\\*[^\\*]*\\*\\//).trim();\n  }\n  comment() {\n    return regex(/\\/\\/.*/).or(this.bigComment()).trim();\n  }\n  trimBigComment(e) {\n    return e.trim(this.bigComment().many(), false).map(([left, expression, right]) => {\n      expression.comment = {\n        left,\n        right\n      };\n      return expression;\n    });\n  }\n  group() {\n    return this.rhs().trim().wrap(string(\"(\"), string(\")\")).map((value) => {\n      return {\n        type: \"group\",\n        value\n      };\n    });\n  }\n  regex() {\n    return regex(/[^\\/]*/).wrap(string(\"/\"), string(\"/\")).then(regex(/[gimuy]*/).opt()).map(([r, flags]) => {\n      return {\n        type: \"regex\",\n        value: new RegExp(r, flags)\n      };\n    });\n  }\n  optionalGroup() {\n    return this.rhs().trim().wrap(string(\"[\"), string(\"]\")).map((value) => {\n      return {\n        type: \"optional\",\n        value: {\n          type: \"group\",\n          value\n        }\n      };\n    });\n  }\n  manyGroup() {\n    return this.rhs().trim().wrap(string(\"{\"), string(\"}\")).map((value) => {\n      return {\n        type: \"many\",\n        value: {\n          type: \"group\",\n          value\n        }\n      };\n    });\n  }\n  lhs() {\n    return this.identifier();\n  }\n  term() {\n    return mapStatePosition(\n      any(\n        this.epsilon(),\n        this.group(),\n        this.optionalGroup(),\n        this.manyGroup(),\n        this.nonterminal(),\n        this.literal(),\n        this.regex()\n      )\n    );\n  }\n  factor() {\n    return this.trimBigComment(\n      all(\n        this.term(),\n        any(\n          string(\"?w\").trim(),\n          string(\"?\").trim(),\n          string(\"*\").trim(),\n          string(\"+\").trim()\n        ).opt()\n      ).map(mapFactor)\n    );\n  }\n  binaryFactor() {\n    return all(\n      this.factor(),\n      all(\n        any(string(\"<<\").trim(), string(\">>\").trim(), string(\"-\").trim()),\n        this.factor()\n      ).many()\n    ).map(reduceBinaryExpression);\n  }\n  concatenation() {\n    return this.binaryFactor().sepBy(string(\",\").trim()).map((value) => {\n      if (value.length === 1) {\n        return value[0];\n      }\n      return {\n        type: \"concatenation\",\n        value\n      };\n    });\n  }\n  alternation() {\n    return this.concatenation().sepBy(string(\"|\").trim()).map((value) => {\n      if (value.length === 1) {\n        return value[0];\n      }\n      return {\n        type: \"alternation\",\n        value\n      };\n    });\n  }\n  rhs() {\n    return this.alternation();\n  }\n  productionRule() {\n    return all(\n      this.lhs(),\n      string(\"=\").trim(),\n      this.rhs(),\n      any(string(\";\"), string(\".\")).trim()\n    ).map(([name, , expression]) => {\n      return { name, expression };\n    });\n  }\n  grammar() {\n    return this.productionRule().trim(this.comment().many(), false).map(([above, rule, below]) => {\n      rule.comment = {\n        above,\n        below\n      };\n      return rule;\n    }).many(1);\n  }\n}\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"bigComment\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"comment\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"group\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"regex\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"optionalGroup\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"manyGroup\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"lhs\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"term\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"factor\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"binaryFactor\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"concatenation\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"alternation\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"rhs\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"productionRule\", 1);\n__decorateClass([\n  lazy\n], EBNFGrammar.prototype, \"grammar\", 1);\nfunction topologicalSort(ast) {\n  const visited = /* @__PURE__ */ new Set();\n  const order = [];\n  function visit(node, stack) {\n    if (stack.has(node) || visited.has(node)) {\n      return;\n    }\n    stack.add(node);\n    const productionRule = ast.get(node);\n    if (!productionRule) {\n      return;\n    }\n    const expr = productionRule.expression;\n    if (expr.type === \"nonterminal\") {\n      visit(expr.value, stack);\n    } else if (expr.value instanceof Array) {\n      for (const child of expr.value) {\n        if (child.type === \"nonterminal\") {\n          visit(child.value, stack);\n        }\n      }\n    }\n    visited.add(node);\n    stack.delete(node);\n    order.unshift(ast.get(node));\n  }\n  for (const [name] of ast) {\n    visit(name, /* @__PURE__ */ new Set());\n  }\n  const newAST = /* @__PURE__ */ new Map();\n  for (const rule of order) {\n    newAST.set(rule.name, rule);\n  }\n  return newAST;\n}\nconst findCommonPrefix = (e1, e2) => {\n  if (!(e1 == null ? void 0 : e1.type) || !(e2 == null ? void 0 : e2.type) || e1.type !== e2.type) {\n    return void 0;\n  }\n  switch (e1.type) {\n    case \"literal\":\n    case \"nonterminal\": {\n      if (e1.value !== e2.value) {\n        return void 0;\n      } else {\n        return [e1, { type: \"epsilon\" }, { type: \"epsilon\" }];\n      }\n    }\n    case \"group\":\n    case \"optional\":\n    case \"optionalWhitespace\":\n    case \"many\":\n    case \"many1\": {\n      const common = findCommonPrefix(e1.value, e2.value);\n      if (!common) {\n        return void 0;\n      } else {\n        return [\n          {\n            type: e1.type,\n            value: common[0]\n          },\n          {\n            type: e1.type,\n            value: common[1]\n          },\n          {\n            type: e1.type,\n            value: common[2]\n          }\n        ];\n      }\n    }\n    case \"concatenation\": {\n      const commons = e1.value.map(\n        (_, i) => findCommonPrefix(e1.value[i], e2.value[i])\n      );\n      if (commons.some((x) => x === void 0)) {\n        return void 0;\n      }\n      const prefixes = commons.map((x) => x[0]);\n      const e1s = commons.map((x) => x[1]);\n      const e2s = commons.map((x) => x[2]);\n      const startIx = prefixes.lastIndexOf(null);\n      if (startIx === prefixes.length - 1) {\n        return void 0;\n      }\n      const prefix = prefixes.slice(startIx + 1);\n      return [\n        {\n          type: \"concatenation\",\n          value: prefix\n        },\n        {\n          type: \"concatenation\",\n          value: e1s\n        },\n        {\n          type: \"concatenation\",\n          value: e2s\n        }\n      ];\n    }\n    case \"alternation\":\n      for (const e of e1.value) {\n        const common = findCommonPrefix(e, e2);\n        if (common) {\n          return common;\n        }\n      }\n      for (const e of e2.value) {\n        const common = findCommonPrefix(e1, e);\n        if (common) {\n          return common;\n        }\n      }\n      return void 0;\n  }\n  return void 0;\n};\nconst comparePrefix = (prefix, expr) => {\n  if (prefix.type !== expr.type) {\n    return false;\n  }\n  switch (prefix.type) {\n    case \"literal\":\n    case \"nonterminal\":\n      return prefix.value === expr.value;\n    case \"group\":\n    case \"optional\":\n    case \"many\":\n    case \"many1\":\n      return comparePrefix(prefix.value, expr.value);\n    case \"minus\":\n    case \"skip\":\n    case \"next\":\n      return comparePrefix(prefix.value[0], expr.value[0]) && comparePrefix(prefix.value[1], expr.value[1]);\n    case \"concatenation\":\n      return prefix.value.every((e, i) => comparePrefix(e, expr.value[i]));\n    case \"alternation\":\n      return prefix.value.some((e, i) => comparePrefix(e, expr.value[i]));\n    case \"epsilon\":\n      return true;\n  }\n};\nfunction rewriteTreeLeftRecursion(name, expr) {\n  const prefixMap = /* @__PURE__ */ new Map();\n  let commonPrefix = null;\n  for (let i = 0; i < expr.value.length - 1; i++) {\n    const e1 = expr.value[i];\n    const e2 = expr.value[i + 1];\n    const common = findCommonPrefix(e1, e2);\n    if (common) {\n      const [prefix, te1, te2] = common;\n      if (commonPrefix !== null && comparePrefix(prefix, commonPrefix)) {\n        prefixMap.get(commonPrefix).push(te2);\n      } else {\n        prefixMap.set(prefix, [te1, te2]);\n        commonPrefix = prefix;\n      }\n      if (i === expr.value.length - 2) {\n        expr.value.shift();\n      }\n      expr.value.shift();\n      i -= 1;\n    }\n  }\n  for (const [prefix, expressions] of prefixMap) {\n    const alternation = {\n      type: \"alternation\",\n      value: expressions\n    };\n    const newExpr = {\n      type: \"concatenation\",\n      value: [\n        {\n          type: \"group\",\n          value: alternation\n        },\n        {\n          type: \"group\",\n          value: prefix\n        }\n      ]\n    };\n    expr.value.push(newExpr);\n  }\n}\nconst removeDirectLeftRecursionProduction = (name, expr, tailName) => {\n  const head = [];\n  const tail = [];\n  const APrime = {\n    type: \"nonterminal\",\n    value: tailName\n  };\n  for (let i = 0; i < expr.value.length; i++) {\n    const e = expr.value[i];\n    if (e.type === \"concatenation\" && e.value[0].value === name) {\n      tail.push({\n        type: \"concatenation\",\n        value: [...e.value.slice(1), APrime]\n      });\n    } else {\n      head.push({\n        type: \"concatenation\",\n        value: [e, APrime]\n      });\n    }\n  }\n  if (tail.length === 0) {\n    return [void 0, void 0];\n  }\n  tail.push({\n    type: \"epsilon\"\n  });\n  return [\n    {\n      type: \"alternation\",\n      value: head\n    },\n    {\n      type: \"alternation\",\n      value: tail\n    }\n  ];\n};\nfunction removeDirectLeftRecursion(ast) {\n  const newNodes = /* @__PURE__ */ new Map();\n  let uniqueIndex = 0;\n  for (const [name, productionRule] of ast) {\n    const { expression } = productionRule;\n    if (expression.type === \"alternation\") {\n      const tailName = `${name}_${uniqueIndex++}`;\n      const [head, tail] = removeDirectLeftRecursionProduction(\n        name,\n        expression,\n        tailName\n      );\n      if (head) {\n        newNodes.set(tailName, {\n          name: tailName,\n          expression: tail\n        });\n        newNodes.set(name, {\n          name,\n          expression: head,\n          comment: productionRule.comment\n        });\n      }\n    }\n  }\n  if (newNodes.size === 0) {\n    return ast;\n  }\n  for (const [name, productionRule] of newNodes) {\n    ast.set(name, productionRule);\n  }\n  for (const [name, productionRule] of ast) {\n    const { expression } = productionRule;\n    if (expression.type === \"alternation\") {\n      rewriteTreeLeftRecursion(name, expression);\n    }\n  }\n}\nfunction removeIndirectLeftRecursion(ast) {\n  for (const [name, expression] of ast) {\n  }\n}\nfunction removeAllLeftRecursion(ast) {\n  const newAST = topologicalSort(ast);\n  removeDirectLeftRecursion(newAST);\n  return newAST;\n}\nfunction generateASTFromEBNF(input) {\n  const parser = new EBNFGrammar().grammar().eof();\n  const parsed = parser.parse(input);\n  if (!parsed) {\n    return [parser];\n  }\n  const ast = parsed.reduce((acc, productionRule, ix) => {\n    return acc.set(productionRule.name, productionRule);\n  }, /* @__PURE__ */ new Map());\n  return [parser, ast];\n}\nfunction generateParserFromAST(ast) {\n  function generateParser(name, expr) {\n    var _a, _b;\n    switch (expr.type) {\n      case \"literal\":\n        return string(expr.value);\n      case \"nonterminal\":\n        const l = Parser.lazy(() => {\n          return nonterminals[expr.value];\n        });\n        l.context.name = expr.value;\n        return l;\n      case \"epsilon\":\n        return eof().opt();\n      case \"group\":\n        return generateParser(name, expr.value);\n      case \"regex\":\n        return regex(expr.value);\n      case \"optionalWhitespace\":\n        return generateParser(name, expr.value).trim();\n      case \"optional\":\n        return generateParser(name, expr.value).opt();\n      case \"many\":\n        return generateParser(name, expr.value).many();\n      case \"many1\":\n        return generateParser(name, expr.value).many(1);\n      case \"skip\":\n        return generateParser(name, expr.value[0]).skip(\n          generateParser(name, expr.value[1])\n        );\n      case \"next\":\n        return generateParser(name, expr.value[0]).next(\n          generateParser(name, expr.value[1])\n        );\n      case \"minus\":\n        return generateParser(name, expr.value[0]).not(\n          generateParser(name, expr.value[1])\n        );\n      case \"concatenation\": {\n        const parsers = expr.value.map((x) => generateParser(name, x));\n        if (((_b = (_a = parsers.at(-1)) == null ? void 0 : _a.context) == null ? void 0 : _b.name) === \"eof\") {\n          parsers.pop();\n        }\n        return all(...parsers);\n      }\n      case \"alternation\": {\n        return any(...expr.value.map((x) => generateParser(name, x)));\n      }\n    }\n  }\n  const nonterminals = {};\n  for (const [name, productionRule] of ast.entries()) {\n    nonterminals[name] = generateParser(name, productionRule.expression);\n  }\n  return nonterminals;\n}\nfunction generateParserFromEBNF(input, optimizeGraph = false) {\n  let [parser, ast] = generateASTFromEBNF(input);\n  if (optimizeGraph) {\n    ast = removeAllLeftRecursion(ast);\n  }\n  const nonterminals = generateParserFromAST(ast);\n  return [nonterminals, ast];\n}\nexport {\n  EBNFGrammar,\n  comparePrefix,\n  findCommonPrefix,\n  generateASTFromEBNF,\n  generateParserFromAST,\n  generateParserFromEBNF,\n  removeAllLeftRecursion,\n  removeDirectLeftRecursion,\n  removeIndirectLeftRecursion,\n  rewriteTreeLeftRecursion,\n  topologicalSort\n};\n//# sourceMappingURL=ebnf.js.map\n","(function (factory) {\n  if (typeof exports === \"object\" && typeof module === \"object\") {\n    module.exports = factory();\n  } else if (typeof define === \"function\" && define.amd) {\n    define(factory);\n  } else {\n    var root =\n      typeof globalThis !== \"undefined\"\n        ? globalThis\n        : typeof global !== \"undefined\"\n        ? global\n        : typeof self !== \"undefined\"\n        ? self\n        : this || {};\n    root.doc = factory();\n  }\n})(function() {\n  \"use strict\";\n  var __getOwnPropNames = Object.getOwnPropertyNames;\n  var __commonJS = (cb, mod) => function __require() {\n    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n  };\n\n  // dist/_doc.js.umd.js\n  var require_doc_js_umd = __commonJS({\n    \"dist/_doc.js.umd.js\"(exports, module) {\n      var __create = Object.create;\n      var __defProp = Object.defineProperty;\n      var __getOwnPropDesc = Object.getOwnPropertyDescriptor;\n      var __getOwnPropNames2 = Object.getOwnPropertyNames;\n      var __getProtoOf = Object.getPrototypeOf;\n      var __hasOwnProp = Object.prototype.hasOwnProperty;\n      var __esm = (fn, res) => function __init() {\n        return fn && (res = (0, fn[__getOwnPropNames2(fn)[0]])(fn = 0)), res;\n      };\n      var __commonJS2 = (cb, mod) => function __require() {\n        return mod || (0, cb[__getOwnPropNames2(cb)[0]])((mod = {\n          exports: {}\n        }).exports, mod), mod.exports;\n      };\n      var __export = (target, all) => {\n        for (var name in all)\n          __defProp(target, name, {\n            get: all[name],\n            enumerable: true\n          });\n      };\n      var __copyProps = (to, from, except, desc) => {\n        if (from && typeof from === \"object\" || typeof from === \"function\") {\n          for (let key of __getOwnPropNames2(from))\n            if (!__hasOwnProp.call(to, key) && key !== except)\n              __defProp(to, key, {\n                get: () => from[key],\n                enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n              });\n        }\n        return to;\n      };\n      var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", {\n        value: mod,\n        enumerable: true\n      }) : target, mod));\n      var __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", {\n        value: true\n      }), mod);\n      var init_define_process = __esm({\n        \"<define:process>\"() {\n        }\n      });\n      var require_doc_builders = __commonJS2({\n        \"src/document/doc-builders.js\"(exports2, module2) {\n          \"use strict\";\n          init_define_process();\n          function concat(parts) {\n            if (false) {\n              for (const part of parts) {\n                assertDoc(part);\n              }\n            }\n            return {\n              type: \"concat\",\n              parts\n            };\n          }\n          function indent(contents) {\n            if (false) {\n              assertDoc(contents);\n            }\n            return {\n              type: \"indent\",\n              contents\n            };\n          }\n          function align(widthOrString, contents) {\n            if (false) {\n              assertDoc(contents);\n            }\n            return {\n              type: \"align\",\n              contents,\n              n: widthOrString\n            };\n          }\n          function group(contents) {\n            let opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n            if (false) {\n              assertDoc(contents);\n            }\n            return {\n              type: \"group\",\n              id: opts.id,\n              contents,\n              break: Boolean(opts.shouldBreak),\n              expandedStates: opts.expandedStates\n            };\n          }\n          function dedentToRoot(contents) {\n            return align(Number.NEGATIVE_INFINITY, contents);\n          }\n          function markAsRoot(contents) {\n            return align({\n              type: \"root\"\n            }, contents);\n          }\n          function dedent(contents) {\n            return align(-1, contents);\n          }\n          function conditionalGroup(states, opts) {\n            return group(states[0], Object.assign(Object.assign({}, opts), {}, {\n              expandedStates: states\n            }));\n          }\n          function fill(parts) {\n            if (false) {\n              for (const part of parts) {\n                assertDoc(part);\n              }\n            }\n            return {\n              type: \"fill\",\n              parts\n            };\n          }\n          function ifBreak(breakContents, flatContents) {\n            let opts = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n            if (false) {\n              if (breakContents) {\n                assertDoc(breakContents);\n              }\n              if (flatContents) {\n                assertDoc(flatContents);\n              }\n            }\n            return {\n              type: \"if-break\",\n              breakContents,\n              flatContents,\n              groupId: opts.groupId\n            };\n          }\n          function indentIfBreak(contents, opts) {\n            return {\n              type: \"indent-if-break\",\n              contents,\n              groupId: opts.groupId,\n              negate: opts.negate\n            };\n          }\n          function lineSuffix(contents) {\n            if (false) {\n              assertDoc(contents);\n            }\n            return {\n              type: \"line-suffix\",\n              contents\n            };\n          }\n          var lineSuffixBoundary = {\n            type: \"line-suffix-boundary\"\n          };\n          var breakParent = {\n            type: \"break-parent\"\n          };\n          var trim = {\n            type: \"trim\"\n          };\n          var hardlineWithoutBreakParent = {\n            type: \"line\",\n            hard: true\n          };\n          var literallineWithoutBreakParent = {\n            type: \"line\",\n            hard: true,\n            literal: true\n          };\n          var line = {\n            type: \"line\"\n          };\n          var softline = {\n            type: \"line\",\n            soft: true\n          };\n          var hardline = concat([hardlineWithoutBreakParent, breakParent]);\n          var literalline = concat([literallineWithoutBreakParent, breakParent]);\n          var cursor = {\n            type: \"cursor\",\n            placeholder: Symbol(\"cursor\")\n          };\n          function join(sep, arr) {\n            const res = [];\n            for (let i = 0; i < arr.length; i++) {\n              if (i !== 0) {\n                res.push(sep);\n              }\n              res.push(arr[i]);\n            }\n            return concat(res);\n          }\n          function addAlignmentToDoc(doc, size, tabWidth) {\n            let aligned = doc;\n            if (size > 0) {\n              for (let i = 0; i < Math.floor(size / tabWidth); ++i) {\n                aligned = indent(aligned);\n              }\n              aligned = align(size % tabWidth, aligned);\n              aligned = align(Number.NEGATIVE_INFINITY, aligned);\n            }\n            return aligned;\n          }\n          function label(label2, contents) {\n            return {\n              type: \"label\",\n              label: label2,\n              contents\n            };\n          }\n          module2.exports = {\n            concat,\n            join,\n            line,\n            softline,\n            hardline,\n            literalline,\n            group,\n            conditionalGroup,\n            fill,\n            lineSuffix,\n            lineSuffixBoundary,\n            cursor,\n            breakParent,\n            ifBreak,\n            trim,\n            indent,\n            indentIfBreak,\n            align,\n            addAlignmentToDoc,\n            markAsRoot,\n            dedentToRoot,\n            dedent,\n            hardlineWithoutBreakParent,\n            literallineWithoutBreakParent,\n            label\n          };\n        }\n      });\n      var require_end_of_line = __commonJS2({\n        \"src/common/end-of-line.js\"(exports2, module2) {\n          \"use strict\";\n          init_define_process();\n          function guessEndOfLine(text) {\n            const index = text.indexOf(\"\\r\");\n            if (index >= 0) {\n              return text.charAt(index + 1) === \"\\n\" ? \"crlf\" : \"cr\";\n            }\n            return \"lf\";\n          }\n          function convertEndOfLineToChars(value) {\n            switch (value) {\n              case \"cr\":\n                return \"\\r\";\n              case \"crlf\":\n                return \"\\r\\n\";\n              default:\n                return \"\\n\";\n            }\n          }\n          function countEndOfLineChars(text, eol) {\n            let regex;\n            switch (eol) {\n              case \"\\n\":\n                regex = /\\n/g;\n                break;\n              case \"\\r\":\n                regex = /\\r/g;\n                break;\n              case \"\\r\\n\":\n                regex = /\\r\\n/g;\n                break;\n              default:\n                throw new Error(`Unexpected \"eol\" ${JSON.stringify(eol)}.`);\n            }\n            const endOfLines = text.match(regex);\n            return endOfLines ? endOfLines.length : 0;\n          }\n          function normalizeEndOfLine(text) {\n            return text.replace(/\\r\\n?/g, \"\\n\");\n          }\n          module2.exports = {\n            guessEndOfLine,\n            convertEndOfLineToChars,\n            countEndOfLineChars,\n            normalizeEndOfLine\n          };\n        }\n      });\n      var require_get_last = __commonJS2({\n        \"src/utils/get-last.js\"(exports2, module2) {\n          \"use strict\";\n          init_define_process();\n          var getLast = (arr) => arr[arr.length - 1];\n          module2.exports = getLast;\n        }\n      });\n      function ansiRegex() {\n        let {\n          onlyFirst = false\n        } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n        const pattern = [\"[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]+)*|[a-zA-Z\\\\d]+(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)\", \"(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-ntqry=><~]))\"].join(\"|\");\n        return new RegExp(pattern, onlyFirst ? void 0 : \"g\");\n      }\n      var init_ansi_regex = __esm({\n        \"node_modules/strip-ansi/node_modules/ansi-regex/index.js\"() {\n          init_define_process();\n        }\n      });\n      function stripAnsi(string) {\n        if (typeof string !== \"string\") {\n          throw new TypeError(`Expected a \\`string\\`, got \\`${typeof string}\\``);\n        }\n        return string.replace(ansiRegex(), \"\");\n      }\n      var init_strip_ansi = __esm({\n        \"node_modules/strip-ansi/index.js\"() {\n          init_define_process();\n          init_ansi_regex();\n        }\n      });\n      function isFullwidthCodePoint(codePoint) {\n        if (!Number.isInteger(codePoint)) {\n          return false;\n        }\n        return codePoint >= 4352 && (codePoint <= 4447 || codePoint === 9001 || codePoint === 9002 || 11904 <= codePoint && codePoint <= 12871 && codePoint !== 12351 || 12880 <= codePoint && codePoint <= 19903 || 19968 <= codePoint && codePoint <= 42182 || 43360 <= codePoint && codePoint <= 43388 || 44032 <= codePoint && codePoint <= 55203 || 63744 <= codePoint && codePoint <= 64255 || 65040 <= codePoint && codePoint <= 65049 || 65072 <= codePoint && codePoint <= 65131 || 65281 <= codePoint && codePoint <= 65376 || 65504 <= codePoint && codePoint <= 65510 || 110592 <= codePoint && codePoint <= 110593 || 127488 <= codePoint && codePoint <= 127569 || 131072 <= codePoint && codePoint <= 262141);\n      }\n      var init_is_fullwidth_code_point = __esm({\n        \"node_modules/is-fullwidth-code-point/index.js\"() {\n          init_define_process();\n        }\n      });\n      var require_emoji_regex = __commonJS2({\n        \"node_modules/emoji-regex/index.js\"(exports2, module2) {\n          \"use strict\";\n          init_define_process();\n          module2.exports = function() {\n            return /\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62(?:\\uDB40\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73|\\uDB40\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDB40\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67)\\uDB40\\uDC7F|(?:\\uD83E\\uDDD1\\uD83C\\uDFFF\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB-\\uDFFE])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFE\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFD\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFC\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFB\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFC-\\uDFFF])|\\uD83D\\uDC68(?:\\uD83C\\uDFFB(?:\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF]))|\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFC-\\uDFFF])|[\\u2695\\u2696\\u2708]\\uFE0F|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))?|(?:\\uD83C[\\uDFFC-\\uDFFF])\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF]))|\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83D\\uDC68|(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFE])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])\\uFE0F|\\u200D(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83D[\\uDC66\\uDC67])|\\uD83C\\uDFFF|\\uD83C\\uDFFE|\\uD83C\\uDFFD|\\uD83C\\uDFFC)?|(?:\\uD83D\\uDC69(?:\\uD83C\\uDFFB\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69])|(?:\\uD83C[\\uDFFC-\\uDFFF])\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69]))|\\uD83E\\uDDD1(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1)(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC69(?:\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFB\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))|\\uD83E\\uDDD1(?:\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFB\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|(?:\\uD83D\\uDC41\\uFE0F\\u200D\\uD83D\\uDDE8|\\uD83E\\uDDD1(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])|\\uD83D\\uDC69(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])|\\uD83D\\uDE36\\u200D\\uD83C\\uDF2B|\\uD83C\\uDFF3\\uFE0F\\u200D\\u26A7|\\uD83D\\uDC3B\\u200D\\u2744|(?:(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC6F|\\uD83E[\\uDD3C\\uDDDE\\uDDDF])\\u200D[\\u2640\\u2642]|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642]|\\uD83C\\uDFF4\\u200D\\u2620|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD])\\u200D[\\u2640\\u2642]|[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u2328\\u23CF\\u23ED-\\u23EF\\u23F1\\u23F2\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB\\u25FC\\u2600-\\u2604\\u260E\\u2611\\u2618\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u2692\\u2694-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A7\\u26B0\\u26B1\\u26C8\\u26CF\\u26D1\\u26D3\\u26E9\\u26F0\\u26F1\\u26F4\\u26F7\\u26F8\\u2702\\u2708\\u2709\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2733\\u2734\\u2744\\u2747\\u2763\\u27A1\\u2934\\u2935\\u2B05-\\u2B07\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDE02\\uDE37\\uDF21\\uDF24-\\uDF2C\\uDF36\\uDF7D\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E\\uDF9F\\uDFCD\\uDFCE\\uDFD4-\\uDFDF\\uDFF5\\uDFF7]|\\uD83D[\\uDC3F\\uDCFD\\uDD49\\uDD4A\\uDD6F\\uDD70\\uDD73\\uDD76-\\uDD79\\uDD87\\uDD8A-\\uDD8D\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA\\uDECB\\uDECD-\\uDECF\\uDEE0-\\uDEE5\\uDEE9\\uDEF0\\uDEF3])\\uFE0F|\\uD83C\\uDFF3\\uFE0F\\u200D\\uD83C\\uDF08|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66|\\uD83D\\uDE35\\u200D\\uD83D\\uDCAB|\\uD83D\\uDE2E\\u200D\\uD83D\\uDCA8|\\uD83D\\uDC15\\u200D\\uD83E\\uDDBA|\\uD83E\\uDDD1(?:\\uD83C\\uDFFF|\\uD83C\\uDFFE|\\uD83C\\uDFFD|\\uD83C\\uDFFC|\\uD83C\\uDFFB)?|\\uD83D\\uDC69(?:\\uD83C\\uDFFF|\\uD83C\\uDFFE|\\uD83C\\uDFFD|\\uD83C\\uDFFC|\\uD83C\\uDFFB)?|\\uD83C\\uDDFD\\uD83C\\uDDF0|\\uD83C\\uDDF6\\uD83C\\uDDE6|\\uD83C\\uDDF4\\uD83C\\uDDF2|\\uD83D\\uDC08\\u200D\\u2B1B|\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDD25|\\uD83E\\uDE79)|\\uD83D\\uDC41\\uFE0F|\\uD83C\\uDFF3\\uFE0F|\\uD83C\\uDDFF(?:\\uD83C[\\uDDE6\\uDDF2\\uDDFC])|\\uD83C\\uDDFE(?:\\uD83C[\\uDDEA\\uDDF9])|\\uD83C\\uDDFC(?:\\uD83C[\\uDDEB\\uDDF8])|\\uD83C\\uDDFB(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA])|\\uD83C\\uDDFA(?:\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF])|\\uD83C\\uDDF9(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF])|\\uD83C\\uDDF8(?:\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF])|\\uD83C\\uDDF7(?:\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC])|\\uD83C\\uDDF5(?:\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE])|\\uD83C\\uDDF3(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF])|\\uD83C\\uDDF2(?:\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF])|\\uD83C\\uDDF1(?:\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE])|\\uD83C\\uDDF0(?:\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDEF(?:\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5])|\\uD83C\\uDDEE(?:\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9])|\\uD83C\\uDDED(?:\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA])|\\uD83C\\uDDEC(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE])|\\uD83C\\uDDEB(?:\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7])|\\uD83C\\uDDEA(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA])|\\uD83C\\uDDE9(?:\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF])|\\uD83C\\uDDE8(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF5\\uDDF7\\uDDFA-\\uDDFF])|\\uD83C\\uDDE7(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDE6(?:\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF])|[#\\*0-9]\\uFE0F\\u20E3|\\u2764\\uFE0F|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])|\\uD83C\\uDFF4|(?:[\\u270A\\u270B]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDC8F\\uDC91\\uDCAA\\uDD7A\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2\\uDDD3\\uDDD5])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u261D\\u270C\\u270D]|\\uD83D[\\uDD74\\uDD90])(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])|[\\u270A\\u270B]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC08\\uDC15\\uDC3B\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDC8F\\uDC91\\uDCAA\\uDD7A\\uDD95\\uDD96\\uDE2E\\uDE35\\uDE36\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2\\uDDD3\\uDDD5]|\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD]|\\uD83D\\uDC6F|\\uD83E[\\uDD3C\\uDDDE\\uDDDF]|[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF84\\uDF86-\\uDF93\\uDFA0-\\uDFC1\\uDFC5\\uDFC6\\uDFC8\\uDFC9\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC07\\uDC09-\\uDC14\\uDC16-\\uDC3A\\uDC3C-\\uDC3E\\uDC40\\uDC44\\uDC45\\uDC51-\\uDC65\\uDC6A\\uDC79-\\uDC7B\\uDC7D-\\uDC80\\uDC84\\uDC88-\\uDC8E\\uDC90\\uDC92-\\uDCA9\\uDCAB-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDDA4\\uDDFB-\\uDE2D\\uDE2F-\\uDE34\\uDE37-\\uDE44\\uDE48-\\uDE4A\\uDE80-\\uDEA2\\uDEA4-\\uDEB3\\uDEB7-\\uDEBF\\uDEC1-\\uDEC5\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0D\\uDD0E\\uDD10-\\uDD17\\uDD1D\\uDD20-\\uDD25\\uDD27-\\uDD2F\\uDD3A\\uDD3F-\\uDD45\\uDD47-\\uDD76\\uDD78\\uDD7A-\\uDDB4\\uDDB7\\uDDBA\\uDDBC-\\uDDCB\\uDDD0\\uDDE0-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6]|(?:[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u270A\\u270B\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF93\\uDFA0-\\uDFCA\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF4\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC3E\\uDC40\\uDC42-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDD7A\\uDD95\\uDD96\\uDDA4\\uDDFB-\\uDE4F\\uDE80-\\uDEC5\\uDECC\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6])|(?:[#\\*0-9\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u261D\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A1\\u26A7\\u26AA\\u26AB\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C5\\u26C8\\u26CE\\u26CF\\u26D1\\u26D3\\u26D4\\u26E9\\u26EA\\u26F0-\\u26F5\\u26F7-\\u26FA\\u26FD\\u2702\\u2705\\u2708-\\u270D\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763\\u2764\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE02\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF21\\uDF24-\\uDF93\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E-\\uDFF0\\uDFF3-\\uDFF5\\uDFF7-\\uDFFF]|\\uD83D[\\uDC00-\\uDCFD\\uDCFF-\\uDD3D\\uDD49-\\uDD4E\\uDD50-\\uDD67\\uDD6F\\uDD70\\uDD73-\\uDD7A\\uDD87\\uDD8A-\\uDD8D\\uDD90\\uDD95\\uDD96\\uDDA4\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA-\\uDE4F\\uDE80-\\uDEC5\\uDECB-\\uDED2\\uDED5-\\uDED7\\uDEE0-\\uDEE5\\uDEE9\\uDEEB\\uDEEC\\uDEF0\\uDEF3-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6])\\uFE0F|(?:[\\u261D\\u26F9\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2-\\uDFC4\\uDFC7\\uDFCA-\\uDFCC]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66-\\uDC78\\uDC7C\\uDC81-\\uDC83\\uDC85-\\uDC87\\uDC8F\\uDC91\\uDCAA\\uDD74\\uDD75\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE45-\\uDE47\\uDE4B-\\uDE4F\\uDEA3\\uDEB4-\\uDEB6\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1F\\uDD26\\uDD30-\\uDD39\\uDD3C-\\uDD3E\\uDD77\\uDDB5\\uDDB6\\uDDB8\\uDDB9\\uDDBB\\uDDCD-\\uDDCF\\uDDD1-\\uDDDD])/g;\n          };\n        }\n      });\n      var string_width_exports = {};\n      __export(string_width_exports, {\n        default: () => stringWidth\n      });\n      function stringWidth(string) {\n        if (typeof string !== \"string\" || string.length === 0) {\n          return 0;\n        }\n        string = stripAnsi(string);\n        if (string.length === 0) {\n          return 0;\n        }\n        string = string.replace((0, import_emoji_regex.default)(), \"  \");\n        let width = 0;\n        for (let index = 0; index < string.length; index++) {\n          const codePoint = string.codePointAt(index);\n          if (codePoint <= 31 || codePoint >= 127 && codePoint <= 159) {\n            continue;\n          }\n          if (codePoint >= 768 && codePoint <= 879) {\n            continue;\n          }\n          if (codePoint > 65535) {\n            index++;\n          }\n          width += isFullwidthCodePoint(codePoint) ? 2 : 1;\n        }\n        return width;\n      }\n      var import_emoji_regex;\n      var init_string_width = __esm({\n        \"node_modules/string-width/index.js\"() {\n          init_define_process();\n          init_strip_ansi();\n          init_is_fullwidth_code_point();\n          import_emoji_regex = __toESM(require_emoji_regex());\n        }\n      });\n      var require_get_string_width = __commonJS2({\n        \"src/utils/get-string-width.js\"(exports2, module2) {\n          \"use strict\";\n          init_define_process();\n          var stringWidth2 = (init_string_width(), __toCommonJS(string_width_exports)).default;\n          var notAsciiRegex = /[^\\x20-\\x7F]/;\n          function getStringWidth(text) {\n            if (!text) {\n              return 0;\n            }\n            if (!notAsciiRegex.test(text)) {\n              return text.length;\n            }\n            return stringWidth2(text);\n          }\n          module2.exports = getStringWidth;\n        }\n      });\n      var require_doc_utils = __commonJS2({\n        \"src/document/doc-utils.js\"(exports2, module2) {\n          \"use strict\";\n          init_define_process();\n          var getLast = require_get_last();\n          var {\n            literalline,\n            join\n          } = require_doc_builders();\n          var isConcat = (doc) => Array.isArray(doc) || doc && doc.type === \"concat\";\n          var getDocParts = (doc) => {\n            if (Array.isArray(doc)) {\n              return doc;\n            }\n            if (doc.type !== \"concat\" && doc.type !== \"fill\") {\n              throw new Error(\"Expect doc type to be `concat` or `fill`.\");\n            }\n            return doc.parts;\n          };\n          var traverseDocOnExitStackMarker = {};\n          function traverseDoc(doc, onEnter, onExit, shouldTraverseConditionalGroups) {\n            const docsStack = [doc];\n            while (docsStack.length > 0) {\n              const doc2 = docsStack.pop();\n              if (doc2 === traverseDocOnExitStackMarker) {\n                onExit(docsStack.pop());\n                continue;\n              }\n              if (onExit) {\n                docsStack.push(doc2, traverseDocOnExitStackMarker);\n              }\n              if (!onEnter || onEnter(doc2) !== false) {\n                if (isConcat(doc2) || doc2.type === \"fill\") {\n                  const parts = getDocParts(doc2);\n                  for (let ic = parts.length, i = ic - 1; i >= 0; --i) {\n                    docsStack.push(parts[i]);\n                  }\n                } else if (doc2.type === \"if-break\") {\n                  if (doc2.flatContents) {\n                    docsStack.push(doc2.flatContents);\n                  }\n                  if (doc2.breakContents) {\n                    docsStack.push(doc2.breakContents);\n                  }\n                } else if (doc2.type === \"group\" && doc2.expandedStates) {\n                  if (shouldTraverseConditionalGroups) {\n                    for (let ic = doc2.expandedStates.length, i = ic - 1; i >= 0; --i) {\n                      docsStack.push(doc2.expandedStates[i]);\n                    }\n                  } else {\n                    docsStack.push(doc2.contents);\n                  }\n                } else if (doc2.contents) {\n                  docsStack.push(doc2.contents);\n                }\n              }\n            }\n          }\n          function mapDoc(doc, cb) {\n            const mapped = /* @__PURE__ */ new Map();\n            return rec(doc);\n            function rec(doc2) {\n              if (mapped.has(doc2)) {\n                return mapped.get(doc2);\n              }\n              const result = process2(doc2);\n              mapped.set(doc2, result);\n              return result;\n            }\n            function process2(doc2) {\n              if (Array.isArray(doc2)) {\n                return cb(doc2.map(rec));\n              }\n              if (doc2.type === \"concat\" || doc2.type === \"fill\") {\n                const parts = doc2.parts.map(rec);\n                return cb(Object.assign(Object.assign({}, doc2), {}, {\n                  parts\n                }));\n              }\n              if (doc2.type === \"if-break\") {\n                const breakContents = doc2.breakContents && rec(doc2.breakContents);\n                const flatContents = doc2.flatContents && rec(doc2.flatContents);\n                return cb(Object.assign(Object.assign({}, doc2), {}, {\n                  breakContents,\n                  flatContents\n                }));\n              }\n              if (doc2.type === \"group\" && doc2.expandedStates) {\n                const expandedStates = doc2.expandedStates.map(rec);\n                const contents = expandedStates[0];\n                return cb(Object.assign(Object.assign({}, doc2), {}, {\n                  contents,\n                  expandedStates\n                }));\n              }\n              if (doc2.contents) {\n                const contents = rec(doc2.contents);\n                return cb(Object.assign(Object.assign({}, doc2), {}, {\n                  contents\n                }));\n              }\n              return cb(doc2);\n            }\n          }\n          function findInDoc(doc, fn, defaultValue) {\n            let result = defaultValue;\n            let hasStopped = false;\n            function findInDocOnEnterFn(doc2) {\n              const maybeResult = fn(doc2);\n              if (maybeResult !== void 0) {\n                hasStopped = true;\n                result = maybeResult;\n              }\n              if (hasStopped) {\n                return false;\n              }\n            }\n            traverseDoc(doc, findInDocOnEnterFn);\n            return result;\n          }\n          function willBreakFn(doc) {\n            if (doc.type === \"group\" && doc.break) {\n              return true;\n            }\n            if (doc.type === \"line\" && doc.hard) {\n              return true;\n            }\n            if (doc.type === \"break-parent\") {\n              return true;\n            }\n          }\n          function willBreak(doc) {\n            return findInDoc(doc, willBreakFn, false);\n          }\n          function breakParentGroup(groupStack) {\n            if (groupStack.length > 0) {\n              const parentGroup = getLast(groupStack);\n              if (!parentGroup.expandedStates && !parentGroup.break) {\n                parentGroup.break = \"propagated\";\n              }\n            }\n            return null;\n          }\n          function propagateBreaks(doc) {\n            const alreadyVisitedSet = /* @__PURE__ */ new Set();\n            const groupStack = [];\n            function propagateBreaksOnEnterFn(doc2) {\n              if (doc2.type === \"break-parent\") {\n                breakParentGroup(groupStack);\n              }\n              if (doc2.type === \"group\") {\n                groupStack.push(doc2);\n                if (alreadyVisitedSet.has(doc2)) {\n                  return false;\n                }\n                alreadyVisitedSet.add(doc2);\n              }\n            }\n            function propagateBreaksOnExitFn(doc2) {\n              if (doc2.type === \"group\") {\n                const group = groupStack.pop();\n                if (group.break) {\n                  breakParentGroup(groupStack);\n                }\n              }\n            }\n            traverseDoc(doc, propagateBreaksOnEnterFn, propagateBreaksOnExitFn, true);\n          }\n          function removeLinesFn(doc) {\n            if (doc.type === \"line\" && !doc.hard) {\n              return doc.soft ? \"\" : \" \";\n            }\n            if (doc.type === \"if-break\") {\n              return doc.flatContents || \"\";\n            }\n            return doc;\n          }\n          function removeLines(doc) {\n            return mapDoc(doc, removeLinesFn);\n          }\n          var isHardline = (doc, nextDoc) => doc && doc.type === \"line\" && doc.hard && nextDoc && nextDoc.type === \"break-parent\";\n          function stripDocTrailingHardlineFromDoc(doc) {\n            if (!doc) {\n              return doc;\n            }\n            if (isConcat(doc) || doc.type === \"fill\") {\n              const parts = getDocParts(doc);\n              while (parts.length > 1 && isHardline(...parts.slice(-2))) {\n                parts.length -= 2;\n              }\n              if (parts.length > 0) {\n                const lastPart = stripDocTrailingHardlineFromDoc(getLast(parts));\n                parts[parts.length - 1] = lastPart;\n              }\n              return Array.isArray(doc) ? parts : Object.assign(Object.assign({}, doc), {}, {\n                parts\n              });\n            }\n            switch (doc.type) {\n              case \"align\":\n              case \"indent\":\n              case \"indent-if-break\":\n              case \"group\":\n              case \"line-suffix\":\n              case \"label\": {\n                const contents = stripDocTrailingHardlineFromDoc(doc.contents);\n                return Object.assign(Object.assign({}, doc), {}, {\n                  contents\n                });\n              }\n              case \"if-break\": {\n                const breakContents = stripDocTrailingHardlineFromDoc(doc.breakContents);\n                const flatContents = stripDocTrailingHardlineFromDoc(doc.flatContents);\n                return Object.assign(Object.assign({}, doc), {}, {\n                  breakContents,\n                  flatContents\n                });\n              }\n            }\n            return doc;\n          }\n          function stripTrailingHardline(doc) {\n            return stripDocTrailingHardlineFromDoc(cleanDoc(doc));\n          }\n          function cleanDocFn(doc) {\n            switch (doc.type) {\n              case \"fill\":\n                if (doc.parts.every((part) => part === \"\")) {\n                  return \"\";\n                }\n                break;\n              case \"group\":\n                if (!doc.contents && !doc.id && !doc.break && !doc.expandedStates) {\n                  return \"\";\n                }\n                if (doc.contents.type === \"group\" && doc.contents.id === doc.id && doc.contents.break === doc.break && doc.contents.expandedStates === doc.expandedStates) {\n                  return doc.contents;\n                }\n                break;\n              case \"align\":\n              case \"indent\":\n              case \"indent-if-break\":\n              case \"line-suffix\":\n                if (!doc.contents) {\n                  return \"\";\n                }\n                break;\n              case \"if-break\":\n                if (!doc.flatContents && !doc.breakContents) {\n                  return \"\";\n                }\n                break;\n            }\n            if (!isConcat(doc)) {\n              return doc;\n            }\n            const parts = [];\n            for (const part of getDocParts(doc)) {\n              if (!part) {\n                continue;\n              }\n              const [currentPart, ...restParts] = isConcat(part) ? getDocParts(part) : [part];\n              if (typeof currentPart === \"string\" && typeof getLast(parts) === \"string\") {\n                parts[parts.length - 1] += currentPart;\n              } else {\n                parts.push(currentPart);\n              }\n              parts.push(...restParts);\n            }\n            if (parts.length === 0) {\n              return \"\";\n            }\n            if (parts.length === 1) {\n              return parts[0];\n            }\n            return Array.isArray(doc) ? parts : Object.assign(Object.assign({}, doc), {}, {\n              parts\n            });\n          }\n          function cleanDoc(doc) {\n            return mapDoc(doc, (currentDoc) => cleanDocFn(currentDoc));\n          }\n          function normalizeParts(parts) {\n            const newParts = [];\n            const restParts = parts.filter(Boolean);\n            while (restParts.length > 0) {\n              const part = restParts.shift();\n              if (!part) {\n                continue;\n              }\n              if (isConcat(part)) {\n                restParts.unshift(...getDocParts(part));\n                continue;\n              }\n              if (newParts.length > 0 && typeof getLast(newParts) === \"string\" && typeof part === \"string\") {\n                newParts[newParts.length - 1] += part;\n                continue;\n              }\n              newParts.push(part);\n            }\n            return newParts;\n          }\n          function normalizeDoc(doc) {\n            return mapDoc(doc, (currentDoc) => {\n              if (Array.isArray(currentDoc)) {\n                return normalizeParts(currentDoc);\n              }\n              if (!currentDoc.parts) {\n                return currentDoc;\n              }\n              return Object.assign(Object.assign({}, currentDoc), {}, {\n                parts: normalizeParts(currentDoc.parts)\n              });\n            });\n          }\n          function replaceEndOfLine(doc) {\n            return mapDoc(doc, (currentDoc) => typeof currentDoc === \"string\" && currentDoc.includes(\"\\n\") ? replaceTextEndOfLine(currentDoc) : currentDoc);\n          }\n          function replaceTextEndOfLine(text) {\n            let replacement = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : literalline;\n            return join(replacement, text.split(\"\\n\")).parts;\n          }\n          function canBreakFn(doc) {\n            if (doc.type === \"line\") {\n              return true;\n            }\n          }\n          function canBreak(doc) {\n            return findInDoc(doc, canBreakFn, false);\n          }\n          module2.exports = {\n            isConcat,\n            getDocParts,\n            willBreak,\n            traverseDoc,\n            findInDoc,\n            mapDoc,\n            propagateBreaks,\n            removeLines,\n            stripTrailingHardline,\n            normalizeParts,\n            normalizeDoc,\n            cleanDoc,\n            replaceTextEndOfLine,\n            replaceEndOfLine,\n            canBreak\n          };\n        }\n      });\n      var require_doc_printer = __commonJS2({\n        \"src/document/doc-printer.js\"(exports2, module2) {\n          \"use strict\";\n          init_define_process();\n          var {\n            convertEndOfLineToChars\n          } = require_end_of_line();\n          var getLast = require_get_last();\n          var getStringWidth = require_get_string_width();\n          var {\n            fill,\n            cursor,\n            indent\n          } = require_doc_builders();\n          var {\n            isConcat,\n            getDocParts\n          } = require_doc_utils();\n          var groupModeMap;\n          var MODE_BREAK = 1;\n          var MODE_FLAT = 2;\n          function rootIndent() {\n            return {\n              value: \"\",\n              length: 0,\n              queue: []\n            };\n          }\n          function makeIndent(ind, options) {\n            return generateInd(ind, {\n              type: \"indent\"\n            }, options);\n          }\n          function makeAlign(indent2, widthOrDoc, options) {\n            if (widthOrDoc === Number.NEGATIVE_INFINITY) {\n              return indent2.root || rootIndent();\n            }\n            if (widthOrDoc < 0) {\n              return generateInd(indent2, {\n                type: \"dedent\"\n              }, options);\n            }\n            if (!widthOrDoc) {\n              return indent2;\n            }\n            if (widthOrDoc.type === \"root\") {\n              return Object.assign(Object.assign({}, indent2), {}, {\n                root: indent2\n              });\n            }\n            const alignType = typeof widthOrDoc === \"string\" ? \"stringAlign\" : \"numberAlign\";\n            return generateInd(indent2, {\n              type: alignType,\n              n: widthOrDoc\n            }, options);\n          }\n          function generateInd(ind, newPart, options) {\n            const queue = newPart.type === \"dedent\" ? ind.queue.slice(0, -1) : [...ind.queue, newPart];\n            let value = \"\";\n            let length = 0;\n            let lastTabs = 0;\n            let lastSpaces = 0;\n            for (const part of queue) {\n              switch (part.type) {\n                case \"indent\":\n                  flush();\n                  if (options.useTabs) {\n                    addTabs(1);\n                  } else {\n                    addSpaces(options.tabWidth);\n                  }\n                  break;\n                case \"stringAlign\":\n                  flush();\n                  value += part.n;\n                  length += part.n.length;\n                  break;\n                case \"numberAlign\":\n                  lastTabs += 1;\n                  lastSpaces += part.n;\n                  break;\n                default:\n                  throw new Error(`Unexpected type '${part.type}'`);\n              }\n            }\n            flushSpaces();\n            return Object.assign(Object.assign({}, ind), {}, {\n              value,\n              length,\n              queue\n            });\n            function addTabs(count) {\n              value += \"\t\".repeat(count);\n              length += options.tabWidth * count;\n            }\n            function addSpaces(count) {\n              value += \" \".repeat(count);\n              length += count;\n            }\n            function flush() {\n              if (options.useTabs) {\n                flushTabs();\n              } else {\n                flushSpaces();\n              }\n            }\n            function flushTabs() {\n              if (lastTabs > 0) {\n                addTabs(lastTabs);\n              }\n              resetLast();\n            }\n            function flushSpaces() {\n              if (lastSpaces > 0) {\n                addSpaces(lastSpaces);\n              }\n              resetLast();\n            }\n            function resetLast() {\n              lastTabs = 0;\n              lastSpaces = 0;\n            }\n          }\n          function trim(out) {\n            if (out.length === 0) {\n              return 0;\n            }\n            let trimCount = 0;\n            while (out.length > 0 && typeof getLast(out) === \"string\" && /^[\\t ]*$/.test(getLast(out))) {\n              trimCount += out.pop().length;\n            }\n            if (out.length > 0 && typeof getLast(out) === \"string\") {\n              const trimmed = getLast(out).replace(/[\\t ]*$/, \"\");\n              trimCount += getLast(out).length - trimmed.length;\n              out[out.length - 1] = trimmed;\n            }\n            return trimCount;\n          }\n          function fits(next, restCommands, width, hasLineSuffix, mustBeFlat) {\n            let restIdx = restCommands.length;\n            const cmds = [next];\n            const out = [];\n            while (width >= 0) {\n              if (cmds.length === 0) {\n                if (restIdx === 0) {\n                  return true;\n                }\n                cmds.push(restCommands[--restIdx]);\n                continue;\n              }\n              const {\n                mode,\n                doc\n              } = cmds.pop();\n              if (typeof doc === \"string\") {\n                out.push(doc);\n                width -= getStringWidth(doc);\n              } else if (isConcat(doc) || doc.type === \"fill\") {\n                const parts = getDocParts(doc);\n                for (let i = parts.length - 1; i >= 0; i--) {\n                  cmds.push({\n                    mode,\n                    doc: parts[i]\n                  });\n                }\n              } else {\n                switch (doc.type) {\n                  case \"indent\":\n                  case \"align\":\n                  case \"indent-if-break\":\n                  case \"label\":\n                    cmds.push({\n                      mode,\n                      doc: doc.contents\n                    });\n                    break;\n                  case \"trim\":\n                    width += trim(out);\n                    break;\n                  case \"group\": {\n                    if (mustBeFlat && doc.break) {\n                      return false;\n                    }\n                    const groupMode = doc.break ? MODE_BREAK : mode;\n                    const contents = doc.expandedStates && groupMode === MODE_BREAK ? getLast(doc.expandedStates) : doc.contents;\n                    cmds.push({\n                      mode: groupMode,\n                      doc: contents\n                    });\n                    break;\n                  }\n                  case \"if-break\": {\n                    const groupMode = doc.groupId ? groupModeMap[doc.groupId] || MODE_FLAT : mode;\n                    const contents = groupMode === MODE_BREAK ? doc.breakContents : doc.flatContents;\n                    if (contents) {\n                      cmds.push({\n                        mode,\n                        doc: contents\n                      });\n                    }\n                    break;\n                  }\n                  case \"line\":\n                    if (mode === MODE_BREAK || doc.hard) {\n                      return true;\n                    }\n                    if (!doc.soft) {\n                      out.push(\" \");\n                      width--;\n                    }\n                    break;\n                  case \"line-suffix\":\n                    hasLineSuffix = true;\n                    break;\n                  case \"line-suffix-boundary\":\n                    if (hasLineSuffix) {\n                      return false;\n                    }\n                    break;\n                }\n              }\n            }\n            return false;\n          }\n          function printDocToString(doc, options) {\n            groupModeMap = {};\n            const width = options.printWidth;\n            const newLine = convertEndOfLineToChars(options.endOfLine);\n            let pos = 0;\n            const cmds = [{\n              ind: rootIndent(),\n              mode: MODE_BREAK,\n              doc\n            }];\n            const out = [];\n            let shouldRemeasure = false;\n            const lineSuffix = [];\n            while (cmds.length > 0) {\n              const {\n                ind,\n                mode,\n                doc: doc2\n              } = cmds.pop();\n              if (typeof doc2 === \"string\") {\n                const formatted = newLine !== \"\\n\" ? doc2.replace(/\\n/g, newLine) : doc2;\n                out.push(formatted);\n                pos += getStringWidth(formatted);\n              } else if (isConcat(doc2)) {\n                const parts = getDocParts(doc2);\n                for (let i = parts.length - 1; i >= 0; i--) {\n                  cmds.push({\n                    ind,\n                    mode,\n                    doc: parts[i]\n                  });\n                }\n              } else {\n                switch (doc2.type) {\n                  case \"cursor\":\n                    out.push(cursor.placeholder);\n                    break;\n                  case \"indent\":\n                    cmds.push({\n                      ind: makeIndent(ind, options),\n                      mode,\n                      doc: doc2.contents\n                    });\n                    break;\n                  case \"align\":\n                    cmds.push({\n                      ind: makeAlign(ind, doc2.n, options),\n                      mode,\n                      doc: doc2.contents\n                    });\n                    break;\n                  case \"trim\":\n                    pos -= trim(out);\n                    break;\n                  case \"group\":\n                    switch (mode) {\n                      case MODE_FLAT:\n                        if (!shouldRemeasure) {\n                          cmds.push({\n                            ind,\n                            mode: doc2.break ? MODE_BREAK : MODE_FLAT,\n                            doc: doc2.contents\n                          });\n                          break;\n                        }\n                      case MODE_BREAK: {\n                        shouldRemeasure = false;\n                        const next = {\n                          ind,\n                          mode: MODE_FLAT,\n                          doc: doc2.contents\n                        };\n                        const rem = width - pos;\n                        const hasLineSuffix = lineSuffix.length > 0;\n                        if (!doc2.break && fits(next, cmds, rem, hasLineSuffix)) {\n                          cmds.push(next);\n                        } else {\n                          if (doc2.expandedStates) {\n                            const mostExpanded = getLast(doc2.expandedStates);\n                            if (doc2.break) {\n                              cmds.push({\n                                ind,\n                                mode: MODE_BREAK,\n                                doc: mostExpanded\n                              });\n                              break;\n                            } else {\n                              for (let i = 1; i < doc2.expandedStates.length + 1; i++) {\n                                if (i >= doc2.expandedStates.length) {\n                                  cmds.push({\n                                    ind,\n                                    mode: MODE_BREAK,\n                                    doc: mostExpanded\n                                  });\n                                  break;\n                                } else {\n                                  const state = doc2.expandedStates[i];\n                                  const cmd = {\n                                    ind,\n                                    mode: MODE_FLAT,\n                                    doc: state\n                                  };\n                                  if (fits(cmd, cmds, rem, hasLineSuffix)) {\n                                    cmds.push(cmd);\n                                    break;\n                                  }\n                                }\n                              }\n                            }\n                          } else {\n                            cmds.push({\n                              ind,\n                              mode: MODE_BREAK,\n                              doc: doc2.contents\n                            });\n                          }\n                        }\n                        break;\n                      }\n                    }\n                    if (doc2.id) {\n                      groupModeMap[doc2.id] = getLast(cmds).mode;\n                    }\n                    break;\n                  case \"fill\": {\n                    const rem = width - pos;\n                    const {\n                      parts\n                    } = doc2;\n                    if (parts.length === 0) {\n                      break;\n                    }\n                    const [content, whitespace] = parts;\n                    const contentFlatCmd = {\n                      ind,\n                      mode: MODE_FLAT,\n                      doc: content\n                    };\n                    const contentBreakCmd = {\n                      ind,\n                      mode: MODE_BREAK,\n                      doc: content\n                    };\n                    const contentFits = fits(contentFlatCmd, [], rem, lineSuffix.length > 0, true);\n                    if (parts.length === 1) {\n                      if (contentFits) {\n                        cmds.push(contentFlatCmd);\n                      } else {\n                        cmds.push(contentBreakCmd);\n                      }\n                      break;\n                    }\n                    const whitespaceFlatCmd = {\n                      ind,\n                      mode: MODE_FLAT,\n                      doc: whitespace\n                    };\n                    const whitespaceBreakCmd = {\n                      ind,\n                      mode: MODE_BREAK,\n                      doc: whitespace\n                    };\n                    if (parts.length === 2) {\n                      if (contentFits) {\n                        cmds.push(whitespaceFlatCmd, contentFlatCmd);\n                      } else {\n                        cmds.push(whitespaceBreakCmd, contentBreakCmd);\n                      }\n                      break;\n                    }\n                    parts.splice(0, 2);\n                    const remainingCmd = {\n                      ind,\n                      mode,\n                      doc: fill(parts)\n                    };\n                    const secondContent = parts[0];\n                    const firstAndSecondContentFlatCmd = {\n                      ind,\n                      mode: MODE_FLAT,\n                      doc: [content, whitespace, secondContent]\n                    };\n                    const firstAndSecondContentFits = fits(firstAndSecondContentFlatCmd, [], rem, lineSuffix.length > 0, true);\n                    if (firstAndSecondContentFits) {\n                      cmds.push(remainingCmd, whitespaceFlatCmd, contentFlatCmd);\n                    } else if (contentFits) {\n                      cmds.push(remainingCmd, whitespaceBreakCmd, contentFlatCmd);\n                    } else {\n                      cmds.push(remainingCmd, whitespaceBreakCmd, contentBreakCmd);\n                    }\n                    break;\n                  }\n                  case \"if-break\":\n                  case \"indent-if-break\": {\n                    const groupMode = doc2.groupId ? groupModeMap[doc2.groupId] : mode;\n                    if (groupMode === MODE_BREAK) {\n                      const breakContents = doc2.type === \"if-break\" ? doc2.breakContents : doc2.negate ? doc2.contents : indent(doc2.contents);\n                      if (breakContents) {\n                        cmds.push({\n                          ind,\n                          mode,\n                          doc: breakContents\n                        });\n                      }\n                    }\n                    if (groupMode === MODE_FLAT) {\n                      const flatContents = doc2.type === \"if-break\" ? doc2.flatContents : doc2.negate ? indent(doc2.contents) : doc2.contents;\n                      if (flatContents) {\n                        cmds.push({\n                          ind,\n                          mode,\n                          doc: flatContents\n                        });\n                      }\n                    }\n                    break;\n                  }\n                  case \"line-suffix\":\n                    lineSuffix.push({\n                      ind,\n                      mode,\n                      doc: doc2.contents\n                    });\n                    break;\n                  case \"line-suffix-boundary\":\n                    if (lineSuffix.length > 0) {\n                      cmds.push({\n                        ind,\n                        mode,\n                        doc: {\n                          type: \"line\",\n                          hard: true\n                        }\n                      });\n                    }\n                    break;\n                  case \"line\":\n                    switch (mode) {\n                      case MODE_FLAT:\n                        if (!doc2.hard) {\n                          if (!doc2.soft) {\n                            out.push(\" \");\n                            pos += 1;\n                          }\n                          break;\n                        } else {\n                          shouldRemeasure = true;\n                        }\n                      case MODE_BREAK:\n                        if (lineSuffix.length > 0) {\n                          cmds.push({\n                            ind,\n                            mode,\n                            doc: doc2\n                          }, ...lineSuffix.reverse());\n                          lineSuffix.length = 0;\n                          break;\n                        }\n                        if (doc2.literal) {\n                          if (ind.root) {\n                            out.push(newLine, ind.root.value);\n                            pos = ind.root.length;\n                          } else {\n                            out.push(newLine);\n                            pos = 0;\n                          }\n                        } else {\n                          pos -= trim(out);\n                          out.push(newLine + ind.value);\n                          pos = ind.length;\n                        }\n                        break;\n                    }\n                    break;\n                  case \"label\":\n                    cmds.push({\n                      ind,\n                      mode,\n                      doc: doc2.contents\n                    });\n                    break;\n                  default:\n                }\n              }\n              if (cmds.length === 0 && lineSuffix.length > 0) {\n                cmds.push(...lineSuffix.reverse());\n                lineSuffix.length = 0;\n              }\n            }\n            const cursorPlaceholderIndex = out.indexOf(cursor.placeholder);\n            if (cursorPlaceholderIndex !== -1) {\n              const otherCursorPlaceholderIndex = out.indexOf(cursor.placeholder, cursorPlaceholderIndex + 1);\n              const beforeCursor = out.slice(0, cursorPlaceholderIndex).join(\"\");\n              const aroundCursor = out.slice(cursorPlaceholderIndex + 1, otherCursorPlaceholderIndex).join(\"\");\n              const afterCursor = out.slice(otherCursorPlaceholderIndex + 1).join(\"\");\n              return {\n                formatted: beforeCursor + aroundCursor + afterCursor,\n                cursorNodeStart: beforeCursor.length,\n                cursorNodeText: aroundCursor\n              };\n            }\n            return {\n              formatted: out.join(\"\")\n            };\n          }\n          module2.exports = {\n            printDocToString\n          };\n        }\n      });\n      var require_doc_debug = __commonJS2({\n        \"src/document/doc-debug.js\"(exports2, module2) {\n          \"use strict\";\n          init_define_process();\n          var {\n            isConcat,\n            getDocParts\n          } = require_doc_utils();\n          function flattenDoc(doc) {\n            if (!doc) {\n              return \"\";\n            }\n            if (isConcat(doc)) {\n              const res = [];\n              for (const part of getDocParts(doc)) {\n                if (isConcat(part)) {\n                  res.push(...flattenDoc(part).parts);\n                } else {\n                  const flattened = flattenDoc(part);\n                  if (flattened !== \"\") {\n                    res.push(flattened);\n                  }\n                }\n              }\n              return {\n                type: \"concat\",\n                parts: res\n              };\n            }\n            if (doc.type === \"if-break\") {\n              return Object.assign(Object.assign({}, doc), {}, {\n                breakContents: flattenDoc(doc.breakContents),\n                flatContents: flattenDoc(doc.flatContents)\n              });\n            }\n            if (doc.type === \"group\") {\n              return Object.assign(Object.assign({}, doc), {}, {\n                contents: flattenDoc(doc.contents),\n                expandedStates: doc.expandedStates && doc.expandedStates.map(flattenDoc)\n              });\n            }\n            if (doc.type === \"fill\") {\n              return {\n                type: \"fill\",\n                parts: doc.parts.map(flattenDoc)\n              };\n            }\n            if (doc.contents) {\n              return Object.assign(Object.assign({}, doc), {}, {\n                contents: flattenDoc(doc.contents)\n              });\n            }\n            return doc;\n          }\n          function printDocToDebug(doc) {\n            const printedSymbols = /* @__PURE__ */ Object.create(null);\n            const usedKeysForSymbols = /* @__PURE__ */ new Set();\n            return printDoc(flattenDoc(doc));\n            function printDoc(doc2, index, parentParts) {\n              if (typeof doc2 === \"string\") {\n                return JSON.stringify(doc2);\n              }\n              if (isConcat(doc2)) {\n                const printed = getDocParts(doc2).map(printDoc).filter(Boolean);\n                return printed.length === 1 ? printed[0] : `[${printed.join(\", \")}]`;\n              }\n              if (doc2.type === \"line\") {\n                const withBreakParent = Array.isArray(parentParts) && parentParts[index + 1] && parentParts[index + 1].type === \"break-parent\";\n                if (doc2.literal) {\n                  return withBreakParent ? \"literalline\" : \"literallineWithoutBreakParent\";\n                }\n                if (doc2.hard) {\n                  return withBreakParent ? \"hardline\" : \"hardlineWithoutBreakParent\";\n                }\n                if (doc2.soft) {\n                  return \"softline\";\n                }\n                return \"line\";\n              }\n              if (doc2.type === \"break-parent\") {\n                const afterHardline = Array.isArray(parentParts) && parentParts[index - 1] && parentParts[index - 1].type === \"line\" && parentParts[index - 1].hard;\n                return afterHardline ? void 0 : \"breakParent\";\n              }\n              if (doc2.type === \"trim\") {\n                return \"trim\";\n              }\n              if (doc2.type === \"indent\") {\n                return \"indent(\" + printDoc(doc2.contents) + \")\";\n              }\n              if (doc2.type === \"align\") {\n                return doc2.n === Number.NEGATIVE_INFINITY ? \"dedentToRoot(\" + printDoc(doc2.contents) + \")\" : doc2.n < 0 ? \"dedent(\" + printDoc(doc2.contents) + \")\" : doc2.n.type === \"root\" ? \"markAsRoot(\" + printDoc(doc2.contents) + \")\" : \"align(\" + JSON.stringify(doc2.n) + \", \" + printDoc(doc2.contents) + \")\";\n              }\n              if (doc2.type === \"if-break\") {\n                return \"ifBreak(\" + printDoc(doc2.breakContents) + (doc2.flatContents ? \", \" + printDoc(doc2.flatContents) : \"\") + (doc2.groupId ? (!doc2.flatContents ? ', \"\"' : \"\") + `, { groupId: ${printGroupId(doc2.groupId)} }` : \"\") + \")\";\n              }\n              if (doc2.type === \"indent-if-break\") {\n                const optionsParts = [];\n                if (doc2.negate) {\n                  optionsParts.push(\"negate: true\");\n                }\n                if (doc2.groupId) {\n                  optionsParts.push(`groupId: ${printGroupId(doc2.groupId)}`);\n                }\n                const options = optionsParts.length > 0 ? `, { ${optionsParts.join(\", \")} }` : \"\";\n                return `indentIfBreak(${printDoc(doc2.contents)}${options})`;\n              }\n              if (doc2.type === \"group\") {\n                const optionsParts = [];\n                if (doc2.break && doc2.break !== \"propagated\") {\n                  optionsParts.push(\"shouldBreak: true\");\n                }\n                if (doc2.id) {\n                  optionsParts.push(`id: ${printGroupId(doc2.id)}`);\n                }\n                const options = optionsParts.length > 0 ? `, { ${optionsParts.join(\", \")} }` : \"\";\n                if (doc2.expandedStates) {\n                  return `conditionalGroup([${doc2.expandedStates.map((part) => printDoc(part)).join(\",\")}]${options})`;\n                }\n                return `group(${printDoc(doc2.contents)}${options})`;\n              }\n              if (doc2.type === \"fill\") {\n                return `fill([${doc2.parts.map((part) => printDoc(part)).join(\", \")}])`;\n              }\n              if (doc2.type === \"line-suffix\") {\n                return \"lineSuffix(\" + printDoc(doc2.contents) + \")\";\n              }\n              if (doc2.type === \"line-suffix-boundary\") {\n                return \"lineSuffixBoundary\";\n              }\n              if (doc2.type === \"label\") {\n                return `label(${JSON.stringify(doc2.label)}, ${printDoc(doc2.contents)})`;\n              }\n              throw new Error(\"Unknown doc type \" + doc2.type);\n            }\n            function printGroupId(id) {\n              if (typeof id !== \"symbol\") {\n                return JSON.stringify(String(id));\n              }\n              if (id in printedSymbols) {\n                return printedSymbols[id];\n              }\n              const prefix = String(id).slice(7, -1) || \"symbol\";\n              for (let counter = 0; ; counter++) {\n                const key = prefix + (counter > 0 ? ` #${counter}` : \"\");\n                if (!usedKeysForSymbols.has(key)) {\n                  usedKeysForSymbols.add(key);\n                  return printedSymbols[id] = `Symbol.for(${JSON.stringify(key)})`;\n                }\n              }\n            }\n          }\n          module2.exports = {\n            printDocToDebug\n          };\n        }\n      });\n      init_define_process();\n      module.exports = {\n        builders: require_doc_builders(),\n        printer: require_doc_printer(),\n        utils: require_doc_utils(),\n        debug: require_doc_debug()\n      };\n    }\n  });\n  return require_doc_js_umd();\n});","import { builders as b, printer } from \"prettier/doc\";\nimport { Expression, ProductionRule } from \"@mkbabb/parse-that/ebnf\";\nimport { AST, AstPath, Doc, Options } from \"prettier\";\n\nfunction printScope(node: Expression, scope?: AST): Doc {\n    function print(node: Expression): Doc {\n        if (!node) {\n            return \"\";\n        }\n\n        const innerPrint = () => {\n            switch (node.type) {\n                case \"literal\":\n                    if (node.value === '\"') {\n                        return b.group([\"'\", node.value, \"'\"]);\n                    }\n                    const s = node.value;\n                    return b.group(['\"', s, '\"']);\n                case \"nonterminal\":\n                    return node.value;\n                case \"epsilon\":\n                    return \"\";\n                case \"group\":\n                    return b.group([\n                        \"( \",\n                        b.indent(print(node.value)),\n                        b.softline,\n                        \" )\",\n                    ]);\n                case \"regex\":\n                    return b.group([\"/\", node.value.source, \"/\", node.value.flags]);\n                case \"optional\":\n                    return b.group([print(node.value), \"?\"]);\n                case \"optionalWhitespace\":\n                    return b.group([print(node.value), \"?w\"]);\n                case \"minus\":\n                    return b.group([print(node.value[0]), \" - \", print(node.value[1])]);\n                case \"many\":\n                    return b.group([print(node.value), \"*\"]);\n                case \"many1\":\n                    return b.group([print(node.value), \"+\"]);\n                case \"skip\":\n                    return b.group([\n                        print(node.value[0]),\n                        \" << \",\n                        print(node.value[1]),\n                    ]);\n                case \"next\":\n                    return b.group([\n                        print(node.value[0]),\n                        \" >> \",\n                        print(node.value[1]),\n                    ]);\n                case \"concatenation\": {\n                    const delim = \" , \";\n                    return b.group([\n                        b.indent([\n                            b.softline,\n                            b.join(\n                                [b.conditionalGroup([b.softline]), delim],\n                                node.value.map((x) => print(x))\n                            ),\n                        ]),\n                    ]);\n                }\n                case \"alternation\": {\n                    const delim = \" | \";\n                    return b.group([\n                        b.indent([\n                            b.softline,\n\n                            b.join(\n                                [b.conditionalGroup([b.softline]), delim],\n                                node.value.map((x) => print(x))\n                            ),\n                        ]),\n                    ]);\n                }\n            }\n        };\n\n        const s = innerPrint();\n        if (node.comment) {\n            const left = node.comment.left.length ? node.comment.left + \" \" : \"\";\n            const right = node.comment.right.length ? \" \" + node.comment.right : \"\";\n            return b.group([left, s, right]);\n        }\n\n        return s;\n    }\n\n    return print(node);\n}\n\nexport function printBBNF(path: AstPath, options: Options): Doc {\n    const ast = path.getValue() as AST;\n    if (!ast) {\n        return \"\";\n    }\n\n    options.printWidth = 66;\n\n    const d = b.join(\n        b.hardline,\n        [...ast.entries()].map(([name, rule]: [string, ProductionRule]) => {\n            const { expression, comment } = rule;\n\n            const line = [name, \" = \", printScope(expression, ast), \" ;\"];\n            const above = comment?.above?.length\n                ? [b.join(b.hardline, comment.above), b.hardline]\n                : [];\n            const below = comment?.below?.length\n                ? [b.join(b.hardline, comment.below)]\n                : [];\n\n            const commentedLine = b.group([above, line, \" \", b.lineSuffix(below)]);\n\n            if (\n                expression.type === \"concatenation\" ||\n                expression.type === \"alternation\"\n            ) {\n                return b.group([commentedLine, b.hardline]);\n            }\n            return commentedLine;\n        })\n    );\n\n    return d;\n}\n\nexport function printExpressionToString(node: Expression): string {\n    if (!node) {\n        return \"\";\n    }\n\n    if (typeof node === \"string\") {\n        return node;\n    }\n\n    return printer.printDocToString(printScope(node), {\n        printWidth: 66,\n        tabWidth: 2,\n        useTabs: false,\n    }).formatted;\n}\n","import {\n    Expression,\n    generateASTFromEBNF,\n    Nonterminal,\n    ProductionRule,\n    removeAllLeftRecursion,\n    topologicalSort,\n} from \"@mkbabb/parse-that/ebnf\";\n\nexport function locStart(node: object): number {\n    return 0;\n}\nexport function locEnd(node: object): number {\n    return 0;\n}\nexport function preprocess(text: string, options: object): string {\n    return text;\n}\n\nexport function traverseAST(\n    ast: Map<string, any>,\n    callback: (node: Expression) => void\n) {\n    const stack: Expression[] = [...ast.values()].map((x) => x.expression).reverse();\n\n    while (stack.length > 0) {\n        const node = stack.pop();\n        if (!node?.type) continue;\n\n        callback(node);\n\n        if (node.value instanceof Array) {\n            for (let i = node.value.length - 1; i >= 0; i--) {\n                stack.push(node.value[i]);\n            }\n        } else {\n            stack.push(node.value as any);\n        }\n    }\n}\n\nexport function findUndefinedNonterminals(ast: Map<string, any>) {\n    const undefinedNonterminals = new Map() as Map<string, Nonterminal>;\n\n    traverseAST(ast, (node) => {\n        if (\n            node.type === \"nonterminal\" &&\n            !ast.has(node.value) &&\n            !undefinedNonterminals.has(node.value)\n        ) {\n            undefinedNonterminals.set(node.value, node);\n        }\n    });\n    return [...undefinedNonterminals.values()];\n}\n\nexport function findUnusedNonterminals(ast: Map<string, any>) {\n    const usedNonterminals = new Set();\n\n    traverseAST(ast, (node) => {\n        if (node.type === \"nonterminal\") {\n            usedNonterminals.add(node.value);\n        }\n    });\n    const unusedNonterminals = [] as ProductionRule[];\n    for (const [name, value] of ast.entries()) {\n        if (!usedNonterminals.has(name)) {\n            unusedNonterminals.push(value);\n        }\n    }\n    return unusedNonterminals;\n}\n\nexport function parse(text: string, parsers: object, options: object) {\n    let [parser, ast] = generateASTFromEBNF(text);\n\n    if (parser.state.isError) {\n        throw new Error(`Error parsing EBNF: ${parser.state}`, {\n            cause: parser,\n        });\n    }\n\n    // ast = removeAllLeftRecursion(ast);\n    let prettierAST;\n    // @ts-ignore\n    if (options.sort) {\n        prettierAST = [...topologicalSort(ast).entries()].reverse();\n    } else {\n        prettierAST = [...ast.entries()];\n    }\n\n    return prettierAST\n        .filter(([key]) => key)\n        .reduce((acc, [key, value]) => {\n            return acc.set(key, value);\n        }, new Map());\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message = exports.Message || (exports.Message = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = void 0;\nconst cancellation_1 = require(\"./cancellation\");\nvar CancellationState;\n(function (CancellationState) {\n    CancellationState.Continue = 0;\n    CancellationState.Cancelled = 1;\n})(CancellationState || (CancellationState = {}));\nclass SharedArraySenderStrategy {\n    constructor() {\n        this.buffers = new Map();\n    }\n    enableCancellation(request) {\n        if (request.id === null) {\n            return;\n        }\n        const buffer = new SharedArrayBuffer(4);\n        const data = new Int32Array(buffer, 0, 1);\n        data[0] = CancellationState.Continue;\n        this.buffers.set(request.id, buffer);\n        request.$cancellationData = buffer;\n    }\n    async sendCancellation(_conn, id) {\n        const buffer = this.buffers.get(id);\n        if (buffer === undefined) {\n            return;\n        }\n        const data = new Int32Array(buffer, 0, 1);\n        Atomics.store(data, 0, CancellationState.Cancelled);\n    }\n    cleanup(id) {\n        this.buffers.delete(id);\n    }\n    dispose() {\n        this.buffers.clear();\n    }\n}\nexports.SharedArraySenderStrategy = SharedArraySenderStrategy;\nclass SharedArrayBufferCancellationToken {\n    constructor(buffer) {\n        this.data = new Int32Array(buffer, 0, 1);\n    }\n    get isCancellationRequested() {\n        return Atomics.load(this.data, 0) === CancellationState.Cancelled;\n    }\n    get onCancellationRequested() {\n        throw new Error(`Cancellation over SharedArrayBuffer doesn't support cancellation events`);\n    }\n}\nclass SharedArrayBufferCancellationTokenSource {\n    constructor(buffer) {\n        this.token = new SharedArrayBufferCancellationToken(buffer);\n    }\n    cancel() {\n    }\n    dispose() {\n    }\n}\nclass SharedArrayReceiverStrategy {\n    constructor() {\n        this.kind = 'request';\n    }\n    createCancellationTokenSource(request) {\n        const buffer = request.$cancellationData;\n        if (buffer === undefined) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n        return new SharedArrayBufferCancellationTokenSource(buffer);\n    }\n}\nexports.SharedArrayReceiverStrategy = SharedArrayReceiverStrategy;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nconst semaphore_1 = require(\"./semaphore\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.readSemaphore = new semaphore_1.Semaphore(1);\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders(true);\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('content-length');\n                if (!contentLength) {\n                    this.fireError(new Error('Header must provide a Content-Length property.'));\n                    return;\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    this.fireError(new Error('Content-Length value must be a number.'));\n                    return;\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            // Make sure that we convert one received message after the\n            // other. Otherwise it could happen that a decoding of a second\n            // smaller message finished before the decoding of a first larger\n            // message and then we would deliver the second message first.\n            this.readSemaphore.lock(async () => {\n                const bytes = this.options.contentDecoder !== undefined\n                    ? await this.options.contentDecoder.decode(body)\n                    : body;\n                const message = await this.options.contentTypeDecoder.decode(bytes, this.options);\n                this.callback(message);\n            }).catch((error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders(lowerCaseKeys = false) {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(lowerCaseKeys ? key.toLowerCase() : key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.RequestCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken = exports.ProgressToken || (exports.ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues = exports.TraceValues || (exports.TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar IdCancellationReceiverStrategy;\n(function (IdCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.kind === undefined || candidate.kind === 'id') && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    IdCancellationReceiverStrategy.is = is;\n})(IdCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy || (exports.IdCancellationReceiverStrategy = {}));\nvar RequestCancellationReceiverStrategy;\n(function (RequestCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'request' && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    RequestCancellationReceiverStrategy.is = is;\n})(RequestCancellationReceiverStrategy = exports.RequestCancellationReceiverStrategy || (exports.RequestCancellationReceiverStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        return IdCancellationReceiverStrategy.is(value) || RequestCancellationReceiverStrategy.is(value);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar MessageStrategy;\n(function (MessageStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.handleMessage);\n    }\n    MessageStrategy.is = is;\n})(MessageStrategy = exports.MessageStrategy || (exports.MessageStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy) || MessageStrategy.is(candidate.messageStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function handleMessage(message) {\n        if (messages_1.Message.isRequest(message)) {\n            handleRequest(message);\n        }\n        else if (messages_1.Message.isNotification(message)) {\n            handleNotification(message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            handleResponse(message);\n        }\n        else {\n            handleInvalidMessage(message);\n        }\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            const messageStrategy = options?.messageStrategy;\n            if (MessageStrategy.is(messageStrategy)) {\n                messageStrategy.handleMessage(message, handleMessage);\n            }\n            else {\n                handleMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = IdCancellationReceiverStrategy.is(cancellationStrategy.receiver)\n                ? cancellationStrategy.receiver.createCancellationTokenSource(tokenKey)\n                : cancellationStrategy.receiver.createCancellationTokenSource(requestMessage);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch((error) => {\n                logger.error(`Sending notification failed.`);\n                throw error;\n            });\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            // This should not await but simple return to ensure that we don't have another\n            // async scheduling. Otherwise one send could overtake another send.\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const requestMessage = {\n                jsonrpc: version,\n                id: id,\n                method: method,\n                params: messageParams\n            };\n            traceSendingRequest(requestMessage);\n            if (typeof cancellationStrategy.sender.enableCancellation === 'function') {\n                cancellationStrategy.sender.enableCancellation(requestMessage);\n            }\n            return new Promise(async (resolve, reject) => {\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                try {\n                    await messageWriter.write(requestMessage);\n                    responsePromises.set(id, responsePromise);\n                }\n                catch (error) {\n                    logger.error(`Sending request failed.`);\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, error.message ? error.message : 'Unknown reason'));\n                    throw error;\n                }\n            });\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.AbstractMessageBuffer = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst sharedArrayCancellation_1 = require(\"./sharedArrayCancellation\");\nObject.defineProperty(exports, \"SharedArraySenderStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArraySenderStrategy; } });\nObject.defineProperty(exports, \"SharedArrayReceiverStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArrayReceiverStrategy; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst messageBuffer_1 = require(\"./messageBuffer\");\nObject.defineProperty(exports, \"AbstractMessageBuffer\", { enumerable: true, get: function () { return messageBuffer_1.AbstractMessageBuffer; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nObject.defineProperty(exports, \"MessageStrategy\", { enumerable: true, get: function () { return connection_1.MessageStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst api_1 = require(\"../common/api\");\nclass MessageBuffer extends api_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n        this.asciiDecoder = new TextDecoder('ascii');\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, _encoding) {\n        return (new TextEncoder()).encode(value);\n    }\n    toString(value, encoding) {\n        if (encoding === 'ascii') {\n            return this.asciiDecoder.decode(value);\n        }\n        else {\n            return (new TextDecoder(encoding)).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer;\n        }\n        else {\n            return buffer.slice(0, length);\n        }\n    }\n    allocNative(length) {\n        return new Uint8Array(length);\n    }\n}\nMessageBuffer.emptyBuffer = new Uint8Array(0);\nclass ReadableStreamWrapper {\n    constructor(socket) {\n        this.socket = socket;\n        this._onData = new api_1.Emitter();\n        this._messageListener = (event) => {\n            const blob = event.data;\n            blob.arrayBuffer().then((buffer) => {\n                this._onData.fire(new Uint8Array(buffer));\n            }, () => {\n                (0, api_1.RAL)().console.error(`Converting blob to array buffer failed.`);\n            });\n        };\n        this.socket.addEventListener('message', this._messageListener);\n    }\n    onClose(listener) {\n        this.socket.addEventListener('close', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('close', listener));\n    }\n    onError(listener) {\n        this.socket.addEventListener('error', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('error', listener));\n    }\n    onEnd(listener) {\n        this.socket.addEventListener('end', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('end', listener));\n    }\n    onData(listener) {\n        return this._onData.event(listener);\n    }\n}\nclass WritableStreamWrapper {\n    constructor(socket) {\n        this.socket = socket;\n    }\n    onClose(listener) {\n        this.socket.addEventListener('close', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('close', listener));\n    }\n    onError(listener) {\n        this.socket.addEventListener('error', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('error', listener));\n    }\n    onEnd(listener) {\n        this.socket.addEventListener('end', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('end', listener));\n    }\n    write(data, encoding) {\n        if (typeof data === 'string') {\n            if (encoding !== undefined && encoding !== 'utf-8') {\n                throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${encoding}`);\n            }\n            this.socket.send(data);\n        }\n        else {\n            this.socket.send(data);\n        }\n        return Promise.resolve();\n    }\n    end() {\n        this.socket.close();\n    }\n}\nconst _textEncoder = new TextEncoder();\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                if (options.charset !== 'utf-8') {\n                    throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${options.charset}`);\n                }\n                return Promise.resolve(_textEncoder.encode(JSON.stringify(msg, undefined, 0)));\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                if (!(buffer instanceof Uint8Array)) {\n                    throw new Error(`In a Browser environments only Uint8Arrays are supported.`);\n                }\n                return Promise.resolve(JSON.parse(new TextDecoder(options.charset).decode(buffer)));\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (socket) => new ReadableStreamWrapper(socket),\n        asWritableStream: (socket) => new WritableStreamWrapper(socket)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setTimeout(callback, 0, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        },\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        api_1.RAL.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.BrowserMessageWriter = exports.BrowserMessageReader = void 0;\nconst ril_1 = require(\"./ril\");\n// Install the browser runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"../common/api\"), exports);\nclass BrowserMessageReader extends api_1.AbstractMessageReader {\n    constructor(port) {\n        super();\n        this._onData = new api_1.Emitter();\n        this._messageListener = (event) => {\n            this._onData.fire(event.data);\n        };\n        port.addEventListener('error', (event) => this.fireError(event));\n        port.onmessage = this._messageListener;\n    }\n    listen(callback) {\n        return this._onData.event(callback);\n    }\n}\nexports.BrowserMessageReader = BrowserMessageReader;\nclass BrowserMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(port) {\n        super();\n        this.port = port;\n        this.errorCount = 0;\n        port.addEventListener('error', (event) => this.fireError(event));\n    }\n    write(msg) {\n        try {\n            this.port.postMessage(msg);\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.BrowserMessageWriter = BrowserMessageWriter;\nfunction createMessageConnection(reader, writer, logger, options) {\n    if (logger === undefined) {\n        logger = api_1.NullLogger;\n    }\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/browser/main');","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * {@link Position} literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Position} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * {@link Range} literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Range} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * {@link Location} literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Location} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * {@link LocationLink} literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link LocationLink} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link Color} literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Color} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * {@link ColorInformation} literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link ColorPresentation} literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * {@link FoldingRange} literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * {@link DiagnosticRelatedInformation} literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * {@link Diagnostic} literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * {@link Command} literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Command} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying {@link WorkspaceEdit} literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * {@link TextDocumentIdentifier} literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link VersionedTextDocumentIdentifier} literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link OptionalVersionedTextDocumentIdentifier} literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * {@link TextDocumentItem} literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the {@link MarkupKind} type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the {@link MarkupContent} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the {@link MarkedString} type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the {@link Hover} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * {@link ParameterInformation} literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * {@link SignatureInformation} literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * {@link DocumentHighlight} literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * {@link CodeActionContext} literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * {@link CodeLens} literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeLens} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * {@link FormattingOptions} literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * {@link DocumentLink} literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * {@link InlineValueContext} literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection = exports.MessageDirection || (exports.MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type {@link Definition} or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type {@link Definition} or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type {@link DocumentColorParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type {@link ColorPresentationParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type {@link FoldingRangeParams}, the\n * response is of type {@link FoldingRangeList} or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type {@link Declaration}\n * or a typed array of {@link DeclarationLink} or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type {@link SelectionRangeParams}, the\n * response is of type {@link SelectionRange SelectionRange[]} or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * The request can return a `WorkspaceEdit` which will be applied to workspace before the\n * files are created. Hence the `WorkspaceEdit` can not manipulate the content of the file\n * to be created.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type {@link TextDocumentPositionParams}.\n * The response is of type {@link Moniker Moniker[]} or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest = exports.TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest = exports.TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest = exports.TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type {@link InlineValueParams}, the response is of type\n * {@link InlineValue InlineValue[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest = exports.InlineValueRequest || (exports.InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest = exports.InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type {@link InlayHintsParams}, the response is of type\n * {@link InlayHint InlayHint[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest = exports.InlayHintRequest || (exports.InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type {@link InlayHint}, the response is\n * of type {@link InlayHint} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest = exports.InlayHintResolveRequest || (exports.InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest = exports.InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData = exports.DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind = exports.DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest = exports.DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest = exports.WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest = exports.DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind = exports.NotebookCellKind || (exports.NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary = exports.ExecutionSummary || (exports.ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell = exports.NotebookCell || (exports.NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument = exports.NotebookDocument || (exports.NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType = exports.NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification = exports.DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange = exports.NotebookCellArrayChange || (exports.NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification = exports.DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * {@link TextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter = exports.TextDocumentFilter || (exports.TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * {@link NotebookDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter = exports.NotebookDocumentFilter || (exports.NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * {@link NotebookCellTextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter = exports.NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * {@link DocumentSelector}s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units (e.g. bytes).\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode codepoints,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind = exports.PositionEncodingKind || (exports.PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * {@link StaticRegistrationOptions} literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * {@link TextDocumentRegistrationOptions} literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * {@link WorkDoneProgressOptions} literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type {@link InitializeParams}\n * the response if of type {@link InitializeResult} of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes = exports.InitializeErrorCodes || (exports.InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern = exports.RelativePattern || (exports.RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response\n * is of type {@link CompletionItem CompletionItem[]} or {@link CompletionList}\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the {@link CompletionItem.detail `detail`}\n * and {@link CompletionItem.documentation `documentation`} properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type {@link CompletionItem} the response\n * is of type {@link CompletionItem} or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response is of\n * type {@link Hover} or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type {@link Definition}\n * or a typed array of {@link DefinitionLink} or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type {@link ReferenceParams} the response is of type\n * {@link Location Location[]} or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a {@link DocumentHighlight} for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type {@link TextDocumentIdentifier} the\n * response is of type {@link SymbolInformation SymbolInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type {@link CodeAction} the response\n * is of type {@link CodeAction} or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the {@link WorkspaceSymbolParams}. The response is\n * of type {@link SymbolInformation SymbolInformation[]} or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type {@link DocumentLink} the response\n * is of type {@link DocumentLink} or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst browser_1 = require(\"vscode-jsonrpc/browser\");\n__exportStar(require(\"vscode-jsonrpc/browser\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(reader, writer, logger, options) {\n    return (0, browser_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensDiff = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensDiff {\n    constructor(originalSequence, modifiedSequence) {\n        this.originalSequence = originalSequence;\n        this.modifiedSequence = modifiedSequence;\n    }\n    computeDiff() {\n        const originalLength = this.originalSequence.length;\n        const modifiedLength = this.modifiedSequence.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && this.originalSequence[startIndex] === this.modifiedSequence[startIndex]) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= startIndex && modifiedEndIndex >= startIndex && this.originalSequence[originalEndIndex] === this.modifiedSequence[modifiedEndIndex]) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            // if one moved behind the start index move them forward again\n            if (originalEndIndex < startIndex || modifiedEndIndex < startIndex) {\n                originalEndIndex++;\n                modifiedEndIndex++;\n            }\n            const deleteCount = originalEndIndex - startIndex + 1;\n            const newData = this.modifiedSequence.slice(startIndex, modifiedEndIndex + 1);\n            // If we moved behind the start index we could have missed a simple delete.\n            if (newData.length === 1 && newData[0] === this.originalSequence[originalEndIndex]) {\n                return [\n                    { start: startIndex, deleteCount: deleteCount - 1 }\n                ];\n            }\n            else {\n                return [\n                    { start: startIndex, deleteCount, data: newData }\n                ];\n            }\n        }\n        else if (startIndex < modifiedLength) {\n            return [\n                { start: startIndex, deleteCount: 0, data: this.modifiedSequence.slice(startIndex) }\n            ];\n        }\n        else if (startIndex < originalLength) {\n            return [\n                { start: startIndex, deleteCount: originalLength - startIndex }\n            ];\n        }\n        else {\n            // The two arrays are the same.\n            return [];\n        }\n    }\n}\nexports.SemanticTokensDiff = SemanticTokensDiff;\nclass SemanticTokensBuilder {\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataLen = 0;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        this._data[this._dataLen++] = pushLine;\n        this._data[this._dataLen++] = pushChar;\n        this._data[this._dataLen++] = length;\n        this._data[this._dataLen++] = tokenType;\n        this._data[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this._data;\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this._data\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            return {\n                resultId: this.id,\n                edits: (new SemanticTokensDiff(this._prevData, this._data)).computeDiff()\n            };\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\n/**\n * A manager for simple text documents. The manager requires at a minimum that\n * the server registered for the following text document sync events in the\n * initialize handler or via dynamic registration:\n *\n * - open and close events.\n * - change events.\n *\n * Registering for save and will save events is optional.\n */\nclass TextDocuments {\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._configuration = configuration;\n        this._syncedDocuments = new Map();\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._syncedDocuments.get(uri);\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Array.from(this._syncedDocuments.values());\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Array.from(this._syncedDocuments.keys());\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n        const disposables = [];\n        disposables.push(connection.onDidOpenTextDocument((event) => {\n            const td = event.textDocument;\n            const document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._syncedDocuments.set(td.uri, document);\n            const toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        }));\n        disposables.push(connection.onDidChangeTextDocument((event) => {\n            const td = event.textDocument;\n            const changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            let syncedDocument = this._syncedDocuments.get(td.uri);\n            if (syncedDocument !== undefined) {\n                syncedDocument = this._configuration.update(syncedDocument, changes, version);\n                this._syncedDocuments.set(td.uri, syncedDocument);\n                this._onDidChangeContent.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onDidCloseTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._syncedDocuments.delete(event.textDocument.uri);\n                this._onDidClose.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onWillSave.fire(Object.freeze({ document: syncedDocument, reason: event.reason }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document: syncedDocument, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        }));\n        disposables.push(connection.onDidSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onDidSave.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n}\nexports.TextDocuments = TextDocuments;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocuments = exports.NotebookSyncFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst textDocuments_1 = require(\"./textDocuments\");\nconst NotebookSyncFeature = (Base) => {\n    return class extends Base {\n        get synchronization() {\n            return {\n                onDidOpenNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidOpenNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidChangeNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidSaveNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidSaveNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidCloseNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidCloseNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.NotebookSyncFeature = NotebookSyncFeature;\nclass CellTextDocumentConnection {\n    onDidOpenTextDocument(handler) {\n        this.openHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.openHandler = undefined; });\n    }\n    openTextDocument(params) {\n        this.openHandler && this.openHandler(params);\n    }\n    onDidChangeTextDocument(handler) {\n        this.changeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.changeHandler = handler; });\n    }\n    changeTextDocument(params) {\n        this.changeHandler && this.changeHandler(params);\n    }\n    onDidCloseTextDocument(handler) {\n        this.closeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.closeHandler = undefined; });\n    }\n    closeTextDocument(params) {\n        this.closeHandler && this.closeHandler(params);\n    }\n    onWillSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onWillSaveTextDocumentWaitUntil() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onDidSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n}\nCellTextDocumentConnection.NULL_DISPOSE = Object.freeze({ dispose: () => { } });\nclass NotebookDocuments {\n    constructor(configurationOrTextDocuments) {\n        if (configurationOrTextDocuments instanceof textDocuments_1.TextDocuments) {\n            this._cellTextDocuments = configurationOrTextDocuments;\n        }\n        else {\n            this._cellTextDocuments = new textDocuments_1.TextDocuments(configurationOrTextDocuments);\n        }\n        this.notebookDocuments = new Map();\n        this.notebookCellMap = new Map();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidChange = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n    }\n    get cellTextDocuments() {\n        return this._cellTextDocuments;\n    }\n    getCellTextDocument(cell) {\n        return this._cellTextDocuments.get(cell.document);\n    }\n    getNotebookDocument(uri) {\n        return this.notebookDocuments.get(uri);\n    }\n    getNotebookCell(uri) {\n        const value = this.notebookCellMap.get(uri);\n        return value && value[0];\n    }\n    findNotebookDocumentForCell(cell) {\n        const key = typeof cell === 'string' ? cell : cell.document;\n        const value = this.notebookCellMap.get(key);\n        return value && value[1];\n    }\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    get onDidChange() {\n        return this._onDidChange.event;\n    }\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the notebook documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenNotebookDocument`, `onDidChangeNotebookDocument`, `onDidSaveNotebookDocument`,\n     *  and `onDidCloseNotebookDocument`.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        const cellTextDocumentConnection = new CellTextDocumentConnection();\n        const disposables = [];\n        disposables.push(this.cellTextDocuments.listen(cellTextDocumentConnection));\n        disposables.push(connection.notebooks.synchronization.onDidOpenNotebookDocument((params) => {\n            this.notebookDocuments.set(params.notebookDocument.uri, params.notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.openTextDocument({ textDocument: cellTextDocument });\n            }\n            this.updateCellMap(params.notebookDocument);\n            this._onDidOpen.fire(params.notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidChangeNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            notebookDocument.version = params.notebookDocument.version;\n            const oldMetadata = notebookDocument.metadata;\n            let metadataChanged = false;\n            const change = params.change;\n            if (change.metadata !== undefined) {\n                metadataChanged = true;\n                notebookDocument.metadata = change.metadata;\n            }\n            const opened = [];\n            const closed = [];\n            const data = [];\n            const text = [];\n            if (change.cells !== undefined) {\n                const changedCells = change.cells;\n                if (changedCells.structure !== undefined) {\n                    const array = changedCells.structure.array;\n                    notebookDocument.cells.splice(array.start, array.deleteCount, ...(array.cells !== undefined ? array.cells : []));\n                    // Additional open cell text documents.\n                    if (changedCells.structure.didOpen !== undefined) {\n                        for (const open of changedCells.structure.didOpen) {\n                            cellTextDocumentConnection.openTextDocument({ textDocument: open });\n                            opened.push(open.uri);\n                        }\n                    }\n                    // Additional closed cell test documents.\n                    if (changedCells.structure.didClose) {\n                        for (const close of changedCells.structure.didClose) {\n                            cellTextDocumentConnection.closeTextDocument({ textDocument: close });\n                            closed.push(close.uri);\n                        }\n                    }\n                }\n                if (changedCells.data !== undefined) {\n                    const cellUpdates = new Map(changedCells.data.map(cell => [cell.document, cell]));\n                    for (let i = 0; i <= notebookDocument.cells.length; i++) {\n                        const change = cellUpdates.get(notebookDocument.cells[i].document);\n                        if (change !== undefined) {\n                            const old = notebookDocument.cells.splice(i, 1, change);\n                            data.push({ old: old[0], new: change });\n                            cellUpdates.delete(change.document);\n                            if (cellUpdates.size === 0) {\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (changedCells.textContent !== undefined) {\n                    for (const cellTextDocument of changedCells.textContent) {\n                        cellTextDocumentConnection.changeTextDocument({ textDocument: cellTextDocument.document, contentChanges: cellTextDocument.changes });\n                        text.push(cellTextDocument.document.uri);\n                    }\n                }\n            }\n            // Update internal data structure.\n            this.updateCellMap(notebookDocument);\n            const changeEvent = { notebookDocument };\n            if (metadataChanged) {\n                changeEvent.metadata = { old: oldMetadata, new: notebookDocument.metadata };\n            }\n            const added = [];\n            for (const open of opened) {\n                added.push(this.getNotebookCell(open));\n            }\n            const removed = [];\n            for (const close of closed) {\n                removed.push(this.getNotebookCell(close));\n            }\n            const textContent = [];\n            for (const change of text) {\n                textContent.push(this.getNotebookCell(change));\n            }\n            if (added.length > 0 || removed.length > 0 || data.length > 0 || textContent.length > 0) {\n                changeEvent.cells = { added, removed, changed: { data, textContent } };\n            }\n            if (changeEvent.metadata !== undefined || changeEvent.cells !== undefined) {\n                this._onDidChange.fire(changeEvent);\n            }\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidSaveNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidSave.fire(notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidCloseNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidClose.fire(notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.closeTextDocument({ textDocument: cellTextDocument });\n            }\n            this.notebookDocuments.delete(params.notebookDocument.uri);\n            for (const cell of notebookDocument.cells) {\n                this.notebookCellMap.delete(cell.document);\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n    updateCellMap(notebookDocument) {\n        for (const cell of notebookDocument.cells) {\n            this.notebookCellMap.set(cell.document, [cell, notebookDocument]);\n        }\n    }\n}\nexports.NotebookDocuments = NotebookDocuments;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        let param = {\n            kind: 'begin',\n            title,\n            percentage,\n            message,\n            cancellable\n        };\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        let param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            param.percentage = arg0;\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nWorkDoneProgressReporterImpl.Instances = new Map();\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nexports.attachWorkDone = attachWorkDone;\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            if (capabilities?.window?.workDoneProgress === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    let progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = (0, uuid_1.generateUuid)();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\nexports.attachPartialResult = attachPartialResult;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            let params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                if (Array.isArray(result)) {\n                    return Array.isArray(arg) ? result : result[0];\n                }\n                else {\n                    return Array.isArray(arg) ? [] : null;\n                }\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._notificationIsAutoRegistered = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            let workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        fillServerCapabilities(capabilities) {\n            super.fillServerCapabilities(capabilities);\n            const changeNotifications = capabilities.workspace?.workspaceFolders?.changeNotifications;\n            this._notificationIsAutoRegistered = changeNotifications === true || typeof changeNotifications === 'string';\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._notificationIsAutoRegistered && !this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TypeHierarchyFeature = (Base) => {\n    return class extends Base {\n        get typeHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onSupertypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onSubtypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineValueFeature = (Base) => {\n    return class extends Base {\n        get inlineValue() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineValueFeature = InlineValueFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlayHintFeature = (Base) => {\n    return class extends Base {\n        get inlayHint() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                },\n                resolve: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlayHintFeature = InlayHintFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst DiagnosticFeature = (Base) => {\n    return class extends Base {\n        get diagnostics() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.partialResult, params));\n                    });\n                },\n                onWorkspace: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.DiagnosticFeature = DiagnosticFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.combineFeatures = exports.combineNotebooksFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._NotebooksImpl = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst inlayHint_1 = require(\"./inlayHint\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message }).catch(() => {\n                (0, vscode_languageserver_protocol_1.RAL)().console.error(`Sending log message failed`);\n            });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = (0, showDocument_1.ShowDocumentFeature)((0, progress_1.ProgressFeature)(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration = exports.BulkRegistration || (exports.BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    constructor() {\n        this._registrations = [];\n        this._registered = new Set();\n    }\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration = exports.BulkUnregistration || (exports.BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        this._unregistrations = new Map();\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        let unregistrations = [];\n        for (let unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        let params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        let params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method).catch(() => { this.connection.console.info(`Un-registering capability with id ${id} failed.`); });\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        let params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        let params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = (0, fileOperations_1.FileOperationsFeature)((0, workspaceFolder_1.WorkspaceFoldersFeature)((0, configuration_1.ConfigurationFeature)(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        }).catch(() => {\n            // Very hard to decide what to do. We tried to send a log\n            // message which failed so we can't simply send another :-(.\n        });\n    }\n}\nclass TelemetryImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data).catch(() => {\n            this.connection.console.log(`Sending TelemetryEventNotification failed`);\n        });\n    }\n}\nclass _LanguagesImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = (0, moniker_1.MonikerFeature)((0, diagnostic_1.DiagnosticFeature)((0, inlayHint_1.InlayHintFeature)((0, inlineValue_1.InlineValueFeature)((0, typeHierarchy_1.TypeHierarchyFeature)((0, linkedEditingRange_1.LinkedEditingRangeFeature)((0, semanticTokens_1.SemanticTokensFeature)((0, callHierarchy_1.CallHierarchyFeature)(_LanguagesImpl))))))));\nclass _NotebooksImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._NotebooksImpl = _NotebooksImpl;\nconst NotebooksImpl = (0, notebook_1.NotebookSyncFeature)(_NotebooksImpl);\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineConsoleFeatures = combineConsoleFeatures;\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTracerFeatures = combineTracerFeatures;\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineClientFeatures = combineClientFeatures;\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWindowFeatures = combineWindowFeatures;\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nfunction combineNotebooksFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineNotebooksFeatures = combineNotebooksFeatures;\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    let result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures),\n        languages: combine(one.languages, two.languages, combineLanguagesFeatures),\n        notebooks: combine(one.notebooks, two.notebooks, combineNotebooksFeatures)\n    };\n    return result;\n}\nexports.combineFeatures = combineFeatures;\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const notebooks = (factories && factories.notebooks ? new (factories.notebooks(NotebooksImpl))() : new NotebooksImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages, notebooks];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    let protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            if (arguments.length === 1) {\n                return connection.sendNotification(method);\n            }\n            else {\n                return connection.sendNotification(method, param);\n            }\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => {\n            initializeHandler = handler;\n            return {\n                dispose: () => {\n                    initializeHandler = undefined;\n                }\n            };\n        },\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => {\n            shutdownHandler = handler;\n            return {\n                dispose: () => {\n                    shutdownHandler = undefined;\n                }\n            };\n        },\n        onExit: (handler) => {\n            exitHandler = handler;\n            return {\n                dispose: () => {\n                    exitHandler = undefined;\n                }\n            };\n        },\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        get notebooks() { return notebooks; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbolResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, handler),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (let remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (let remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, (0, progress_1.attachWorkDone)(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (let remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (let remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\nexports.createConnection = createConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.NotebookDocuments = exports.TextDocuments = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\n__exportStar(require(\"vscode-languageserver-protocol/\"), exports);\nconst textDocuments_1 = require(\"./textDocuments\");\nObject.defineProperty(exports, \"TextDocuments\", { enumerable: true, get: function () { return textDocuments_1.TextDocuments; } });\nconst notebook_1 = require(\"./notebook\");\nObject.defineProperty(exports, \"NotebookDocuments\", { enumerable: true, get: function () { return notebook_1.NotebookDocuments; } });\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features',\n    };\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/browser/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = void 0;\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"vscode-languageserver-protocol/browser\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nlet _shutdownReceived = false;\nconst watchDog = {\n    initialize: (_params) => {\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (_code) => {\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let reader;\n    let writer;\n    let options;\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (api_1.ConnectionStrategy.is(arg1) || api_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        reader = arg1;\n        writer = arg2;\n        options = arg3;\n    }\n    const connectionFactory = (logger) => {\n        return (0, api_1.createProtocolConnection)(reader, writer, logger, options);\n    };\n    return (0, api_1.createConnection)(connectionFactory, watchDog, factories);\n}\nexports.createConnection = createConnection;\n","import { Parser } from \"@mkbabb/parse-that\";\nimport { AST, generateASTFromEBNF } from \"@mkbabb/parse-that/ebnf\";\n\nimport { printExpressionToString } from \"../../src/utils/printer\";\nimport {\n    findUndefinedNonterminals,\n    findUnusedNonterminals,\n} from \"../../src/utils/parser\";\n\nimport { TextDocument } from \"vscode-languageserver-textdocument\";\nimport { Diagnostic, DiagnosticSeverity, Range } from \"vscode-languageserver\";\n\nimport { hasDiagnosticRelatedInformationCapability } from \"./server\";\n\nexport const diagnoseParsingError = (parser: Parser<any>) => {\n    const state = parser.state;\n\n    const lineNumber = state?.getLineNumber() ?? 0;\n    const columnNumber = state?.getColumnNumber() ?? 0;\n\n    return {\n        range: {\n            start: { line: lineNumber, character: columnNumber },\n            end: { line: lineNumber, character: columnNumber + 1 },\n        },\n        message:\n            \"Error parsing BBNF, last value was: \" +\n            printExpressionToString(state?.value),\n        severity: DiagnosticSeverity.Error,\n    } as Diagnostic;\n};\n\nexport const diagnoseUndefinedVariables = (ast: AST, document: TextDocument) => {\n    const undefinedNonterminals = findUndefinedNonterminals(ast);\n\n    const diagnostics = [] as Diagnostic[];\n\n    for (const match of undefinedNonterminals) {\n        let { value: name, offset } = match;\n        offset ??= 0;\n\n        const diagnostic = {\n            range: {\n                start: document.positionAt(offset - name.length - 1),\n                end: document.positionAt(offset - 1),\n            },\n            code: \"undefined-variable\",\n            message: `Undefined variable: \"${name}\"`,\n            severity: DiagnosticSeverity.Warning,\n        } as Diagnostic;\n\n        if (hasDiagnosticRelatedInformationCapability) {\n            diagnostic.relatedInformation = [\n                {\n                    location: {\n                        uri: document.uri,\n                        range: Object.assign({}, diagnostic.range),\n                    },\n                    message: \"Undefined variable\",\n                },\n            ];\n        }\n\n        diagnostics.push(diagnostic);\n    }\n\n    return diagnostics;\n};\n\nexport const diagnoseUnusedVariables = (ast: AST, document: TextDocument) => {\n    const unusedNonterminals = findUnusedNonterminals(ast);\n    const diagnostics = [] as Diagnostic[];\n\n    for (const match of unusedNonterminals) {\n        let { name } = match;\n\n        const diagnostic = {\n            message: `Unused variable: \"${name}\"`,\n            code: \"unused-variable\",\n            severity: DiagnosticSeverity.Information,\n            range: Range.create(0, 0, 0, 0),\n        } as Diagnostic;\n\n        if (hasDiagnosticRelatedInformationCapability) {\n            diagnostic.relatedInformation = [\n                {\n                    location: {\n                        uri: document.uri,\n                        range: Object.assign({}, diagnostic.range),\n                    },\n                    message: \"Unused variable\",\n                },\n            ];\n        }\n\n        diagnostics.push(diagnostic);\n    }\n    return diagnostics;\n};\n\nexport const diagnose = (text: string, document: TextDocument): Diagnostic[] => {\n    try {\n        let [parser, ast] =generateASTFromEBNF(text);\n\n        if (parser.state?.isError || !ast) {\n            return [diagnoseParsingError(parser)];\n        }\n        return [\n            ...diagnoseUndefinedVariables(ast, document),\n            ...diagnoseUnusedVariables(ast, document),\n        ].filter((x) => x !== undefined);\n    } catch (e) {\n        const q = e;\n\n        console.log(q);\n\n        return [\n            {\n                range: {\n                    start: { line: 0, character: 0 },\n                    end: { line: 0, character: 0 },\n                },\n                message: \"Error diagnosing BBNF\",\n                severity: DiagnosticSeverity.Error,\n            },\n        ];\n    }\n};\n","import { locStart, parse, preprocess, locEnd } from \"../utils/parser\";\nimport { printBBNF } from \"../utils/printer\";\n\nimport prettier, { Plugin } from \"prettier\";\n\nexport const languages = [\n    {\n        name: \"BBNF\",\n        since: \"0.1\",\n        parsers: [\"bbnf\"],\n        extensions: [\".bbnf\"],\n        tmScope: \"bbnf.bbnf\",\n        aceMode: \"text\",\n        linguistLanguageId: 666,\n        vscodeLanguageIds: [\"bbnf\"],\n    },\n];\n\nconst printers = {\n    bbnf: {\n        print: printBBNF,\n    },\n};\n\nconst parsers = {\n    bbnf: {\n        parse,\n        astFormat: \"bbnf\",\n        locStart,\n        locEnd,\n        preprocess,\n    },\n};\n\nconst defaultOptions = {\n    bbnf: {\n        printWidth: 66,\n        tabWidth: 4,\n        useTabs: false,\n    },\n};\n\nexport const BBNFPlugin = {\n    languages,\n    printers,\n    parsers,\n    defaultOptions,\n} as Plugin;\n\nexport const formatBBNF = (grammar: string, options?) => {\n    return prettier.format(grammar, {\n        parser: \"bbnf\",\n        plugins: [BBNFPlugin],\n\n        ...defaultOptions,\n        ...(options ?? {}),\n    });\n};\n","import {\n    createConnection,\n    TextDocuments,\n    Diagnostic,\n    DiagnosticSeverity,\n    ProposedFeatures,\n    InitializeParams,\n    DidChangeConfigurationNotification,\n    CompletionItem,\n    CompletionItemKind,\n    TextDocumentPositionParams,\n    TextDocumentSyncKind,\n    InitializeResult,\n    TextEdit,\n    Range,\n} from \"vscode-languageserver/node\";\n\nimport { TextDocument } from \"vscode-languageserver-textdocument\";\nimport { diagnose } from \"./diagnostics\";\nimport { formatBBNF } from \"../../src/prettier-plugin-bbnf\";\n\n// Create a connection for the server, using Node's IPC as a transport.\n// Also include all preview / proposed LSP features.\nconst connection = createConnection(ProposedFeatures.all);\n\n// Create a simple text document manager.\nconst documents: TextDocuments<TextDocument> = new TextDocuments(TextDocument);\n\nexport let hasConfigurationCapability = false;\nexport let hasWorkspaceFolderCapability = false;\nexport let hasDiagnosticRelatedInformationCapability = false;\n\nconnection.onInitialize((params: InitializeParams) => {\n    const capabilities = params.capabilities;\n\n    // Does the client support the `workspace/configuration` request?\n    // If not, we fall back using global settings.\n    hasConfigurationCapability = !!(\n        capabilities.workspace && !!capabilities.workspace.configuration\n    );\n    hasWorkspaceFolderCapability = !!(\n        capabilities.workspace && !!capabilities.workspace.workspaceFolders\n    );\n    hasDiagnosticRelatedInformationCapability = !!(\n        capabilities.textDocument &&\n        capabilities.textDocument.publishDiagnostics &&\n        capabilities.textDocument.publishDiagnostics.relatedInformation\n    );\n\n    const result: InitializeResult = {\n        capabilities: {\n            textDocumentSync: TextDocumentSyncKind.Incremental,\n            // Tell the client that this server supports code completion.\n            completionProvider: {\n                resolveProvider: true,\n            },\n            documentFormattingProvider: true,\n            semanticTokensProvider: {\n                legend: {\n                    tokenModifiers: [\n                        \"declaration\",\n                        \"documentation\",\n                        \"readonly\",\n                        \"static\",\n                        \"abstract\",\n                        \"deprecated\",\n                        \"modification\",\n                        \"async\",\n                    ],\n                    tokenTypes: [\n                        \"comment\",\n                        \"keyword\",\n                        \"string\",\n                        \"regexp\",\n                        \"number\",\n                        \"operator\",\n                    ],\n                },\n            },\n        },\n    };\n    if (hasWorkspaceFolderCapability) {\n        result.capabilities.workspace = {\n            workspaceFolders: {\n                supported: true,\n            },\n        };\n    }\n    return result;\n});\n\nconnection.onInitialized(() => {\n    if (hasConfigurationCapability) {\n        // Register for all configuration changes.\n        connection.client.register(DidChangeConfigurationNotification.type, undefined);\n    }\n\n    if (hasWorkspaceFolderCapability) {\n        connection.workspace.onDidChangeWorkspaceFolders((_event) => {\n            connection.console.log(\"Workspace folder change event received.\");\n        });\n    }\n});\n\n// The example settings\ninterface ExampleSettings {\n    maxNumberOfProblems: number;\n}\n\n// The global settings, used when the `workspace/configuration` request is not supported by the client.\n// Please note that this is not the case when using this server with the client provided in this example\n// but could happen with other clients.\nconst defaultSettings: ExampleSettings = { maxNumberOfProblems: 1000 };\nlet globalSettings: ExampleSettings = defaultSettings;\n\n// Cache the settings of all open documents\nconst documentSettings: Map<string, Thenable<ExampleSettings>> = new Map();\n\nconnection.onDidChangeConfiguration((change) => {\n    if (hasConfigurationCapability) {\n        // Reset all cached document settings\n        documentSettings.clear();\n    } else {\n        globalSettings = <ExampleSettings>(change.settings.BBNF || defaultSettings);\n    }\n    // Revalidate all open text documents\n    documents.all().forEach(validateTextDocument);\n});\n\nfunction getDocumentSettings(resource: string): Thenable<ExampleSettings> {\n    if (!hasConfigurationCapability) {\n        return Promise.resolve(globalSettings);\n    }\n    let result = documentSettings.get(resource);\n    if (!result) {\n        result = connection.workspace.getConfiguration({\n            scopeUri: resource,\n            section: \"BBNF\",\n        });\n\n        documentSettings.set(resource, result);\n    }\n    return result;\n}\n\n// Only keep settings for open documents\ndocuments.onDidClose((e) => {\n    documentSettings.delete(e.document.uri);\n});\n\n// The content of a text document has changed. This event is emitted\n// when the text document first opened or when its content has changed.\ndocuments.onDidChangeContent((change) => {\n    validateTextDocument(change.document);\n});\n\nconnection.onDocumentFormatting((params) => {\n    const document = documents.get(params.textDocument.uri);\n    if (!document) {\n        return [];\n    }\n\n    const text = document.getText();\n    if (text.length === 0) {\n        return [];\n    }\n\n    const formatted = formatBBNF(text);\n    if (!formatted) {\n        return [];\n    }\n\n    return [\n        TextEdit.replace(\n            Range.create(\n                document.positionAt(0),\n                document.positionAt(document.getText().length)\n            ),\n            formatted\n        ),\n    ];\n});\n\nasync function validateTextDocument(textDocument: TextDocument): Promise<void> {\n    const settings = await getDocumentSettings(textDocument.uri);\n\n    const text = textDocument.getText();\n    const diagnostics = diagnose(text, textDocument).slice(\n        0,\n        settings.maxNumberOfProblems\n    );\n\n    connection.sendDiagnostics({ uri: textDocument.uri, diagnostics });\n}\n\nconnection.onDidChangeWatchedFiles((_change) => {\n    // Monitored files have change in VSCode\n    connection.console.log(\"We received an file change event\");\n});\n\n// This handler provides the initial list of the completion items.\nconnection.onCompletion(\n    (_textDocumentPosition: TextDocumentPositionParams): CompletionItem[] => {\n        // The pass parameter contains the position of the text document in\n        // which code complete got requested. For the example we ignore this\n        // info and always provide the same completion items.\n        return [\n            {\n                label: \"TypeScript\",\n                kind: CompletionItemKind.Text,\n                data: 1,\n            },\n            {\n                label: \"JavaScript\",\n                kind: CompletionItemKind.Text,\n                data: 2,\n            },\n        ];\n    }\n);\n\n// This handler resolves additional information for the item selected in\n// the completion list.\nconnection.onCompletionResolve((item: CompletionItem): CompletionItem => {\n    if (item.data === 1) {\n        item.detail = \"TypeScript details\";\n        item.documentation = \"TypeScript documentation\";\n    } else if (item.data === 2) {\n        item.detail = \"JavaScript details\";\n        item.documentation = \"JavaScript documentation\";\n    }\n    return item;\n});\n\n// Make the text document manager listen on the connection\n// for open, change and close text document events\ndocuments.listen(connection);\n\n// Listen on the connection\nconnection.listen();\n"],"names":["__defProp","__defNormalProp","obj","key","value","__publicField","docExports","doc","v","module","exports","factory","__getOwnPropNames","__commonJS","cb","mod","require_doc_js_umd","exports2","module2","__create","__defProp2","__getOwnPropDesc","__getOwnPropNames2","__getProtoOf","__hasOwnProp","__esm","fn","res","__commonJS2","__export","target","all2","name","__copyProps","to","from","except","desc","__toESM","isNodeMode","__toCommonJS","init_define_process","require_doc_builders","exports22","module22","concat","parts","indent","contents","align","widthOrString","group2","opts","dedentToRoot","markAsRoot","dedent","conditionalGroup","states","fill","ifBreak","breakContents","flatContents","indentIfBreak","lineSuffix","lineSuffixBoundary","breakParent","trim","hardlineWithoutBreakParent","literallineWithoutBreakParent","line","softline","hardline","literalline","cursor","join","sep","arr","i","addAlignmentToDoc","doc2","size","tabWidth","aligned","label","label2","require_end_of_line","guessEndOfLine","text","index","convertEndOfLineToChars","countEndOfLineChars","eol","regex2","endOfLines","normalizeEndOfLine","require_get_last","getLast","ansiRegex","onlyFirst","pattern","init_ansi_regex","stripAnsi","string2","init_strip_ansi","isFullwidthCodePoint","codePoint","init_is_fullwidth_code_point","require_emoji_regex","string_width_exports","stringWidth","import_emoji_regex","width","init_string_width","require_get_string_width","stringWidth2","notAsciiRegex","getStringWidth","require_doc_utils","isConcat","getDocParts","traverseDocOnExitStackMarker","traverseDoc","onEnter","onExit","shouldTraverseConditionalGroups","docsStack","doc22","ic","mapDoc","mapped","rec","result","process2","expandedStates","findInDoc","defaultValue","hasStopped","findInDocOnEnterFn","maybeResult","willBreakFn","willBreak","breakParentGroup","groupStack","parentGroup","propagateBreaks","alreadyVisitedSet","propagateBreaksOnEnterFn","propagateBreaksOnExitFn","removeLinesFn","removeLines","isHardline","nextDoc","stripDocTrailingHardlineFromDoc","lastPart","stripTrailingHardline","cleanDoc","cleanDocFn","part","currentPart","restParts","currentDoc","normalizeParts","newParts","normalizeDoc","replaceEndOfLine","replaceTextEndOfLine","replacement","canBreakFn","canBreak","require_doc_printer","groupModeMap","MODE_BREAK","MODE_FLAT","rootIndent","makeIndent","ind","options","generateInd","makeAlign","indent2","widthOrDoc","newPart","queue","length","lastTabs","lastSpaces","flush","addTabs","addSpaces","flushSpaces","count","flushTabs","resetLast","out","trimCount","trimmed","fits","next","restCommands","hasLineSuffix","mustBeFlat","restIdx","cmds","mode","groupMode","printDocToString","newLine","pos","shouldRemeasure","formatted","rem","mostExpanded","state","cmd","content","whitespace2","contentFlatCmd","contentBreakCmd","contentFits","whitespaceFlatCmd","whitespaceBreakCmd","remainingCmd","secondContent","cursorPlaceholderIndex","otherCursorPlaceholderIndex","beforeCursor","aroundCursor","afterCursor","require_doc_debug","flattenDoc","flattened","printDocToDebug","printedSymbols","usedKeysForSymbols","printDoc","parentParts","printed","withBreakParent","printGroupId","optionsParts","id","prefix","counter","MAX_LINES","defaultOptions","prettierPrint","addCursor","error","color","chalk","lines","lineIdx","startIdx","endIdx","lineSummaries","cursorLine","idx","lineNum","paddedLineNum","group","docs","groupOptions","opStyle","op","PARSER_STRINGS","parserPrint","parser","print","innerParser","args","innerInnerParser","parserString","s2","left","right","skip","delim","x","min","max","bounds","lazy2","p","getLazyParser","s3","s","statePrint","stateBgColor","stateColor","finished","stateSymbol","stateString","header","body","headerBody","parserDebug","recursivePrint","logger","debug","newState","Parser","createParserContext","ParserState","src","offset","isError","furthest","nextState","lastNewline","columnNumber","newlineIndex","PARSER_ID","MEMO","LEFT_RECURSION_COUNTS","lastState","mergeErrorState","context","val","memoize","cijKey","cij","cached","mergeMemo","isStringParsers","concatStringParsers","m","then","nextState1","nextState2","other","or","chainError","chain","mapError","map","mapState","b","opt","negate","not","start","end","discard","all","wrapStringParsers","wrap","whitespace","_a","whitespaceTrim","trimStateWhitespace","tmpState","many","matches","sepBy","sepState","eof","parsers","_b","_c","_d","stringParserValue","_e","matchFunction","r","rP","regex","eof2","lazy","propertyName","descriptor","method","any","any2","string","str","flags","sticky","match","WHITESPACE","__decorateClass","decorators","kind","decorator","operatorToType","reduceBinaryExpression","rightExpression","acc","mapFactor","term","mapStatePosition","EBNFGrammar","e","expression","above","rule","below","topologicalSort","ast","visited","order","visit","node","stack","productionRule","expr","child","newAST","generateASTFromEBNF","input","parsed","ix","printScope","scope","printBBNF","path","comment","commentedLine","printExpressionToString","printer","locStart","locEnd","preprocess","traverseAST","callback","findUndefinedNonterminals","undefinedNonterminals","findUnusedNonterminals","usedNonterminals","unusedNonterminals","parse","prettierAST","is","boolean","number","func","array","stringArray","elem","require$$0","ErrorCodes","ResponseError","code","message","data","ParameterStructures","AbstractMessageSignature","numberOfParams","RequestType0","RequestType","_parameterStructures","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","NotificationType","NotificationType0","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","Message","isRequest","candidate","isNotification","isResponse","Touch","LinkedMap","touch","item","callbackfn","thisArg","current","iterator","newSize","currentSize","previous","LRUCache","limit","ratio","Disposable","create","ral","_ral","RAL","install","ral_1","Event","_disposable","CallbackList","bucket","foundCallbackWithDifferentContext","len","ret","callbacks","contexts","Emitter","_options","listener","thisArgs","disposables","event","Is","require$$1","events_1","require$$2","CancellationToken","shortcutEvent","handle","MutableToken","CancellationTokenSource","sharedArrayCancellation","cancellation_1","CancellationState","SharedArraySenderStrategy","request","buffer","_conn","SharedArrayBufferCancellationToken","SharedArrayBufferCancellationTokenSource","SharedArrayReceiverStrategy","semaphore","Semaphore","capacity","thunk","resolve","reject","err","semaphore_1","require$$3","MessageReader","AbstractMessageReader","info","ResolvedMessageReaderOptions","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","decoder","ReadableStreamMessageReader","readable","timeout","headers","contentLength","bytes","token","ContentLength","CRLF","MessageWriter","AbstractMessageWriter","ResolvedMessageWriterOptions","WriteableStreamMessageWriter","writable","msg","messageBuffer","CR","LF","AbstractMessageBuffer","encoding","chunk","toAppend","lowerCaseKeys","chunkIndex","chunkBytesRead","row","byteCount","resultOffset","chunkPart","messages_1","linkedMap_1","require$$4","require$$5","CancelNotification","ProgressToken","ProgressNotification","ProgressType","StarRequestHandler","Trace","TraceValues","fromString","toString","TraceFormat","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionError","ConnectionStrategy","IdCancellationReceiverStrategy","RequestCancellationReceiverStrategy","CancellationReceiverStrategy","_","CancellationSenderStrategy","conn","CancellationStrategy","MessageStrategy","ConnectionOptions","ConnectionState","createMessageConnection","messageReader","messageWriter","_logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","version","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","timer","messageQueue","responsePromises","knownCanceledRequests","requestTokens","trace","traceFormat","tracer","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","cancellationStrategy","createRequestQueueKey","createResponseQueueKey","createNotificationQueueKey","addMessageToQueue","cancelUndispatched","_message","isListening","isClosed","isDisposed","closeHandler","readErrorHandler","writeErrorHandler","triggerMessageQueue","processMessageQueue","handleMessage","handleRequest","handleNotification","handleResponse","handleInvalidMessage","messageStrategy","cancelId","toCancel","strategy","response","traceSendingResponse","cancellationToken","traceReceivedNotification","requestMessage","reply","resultOrError","startTime","replyError","replySuccess","traceReceivedRequest","element","type","requestHandler","tokenKey","cancellationSource","handlerResult","promise","responseMessage","responsePromise","traceReceivedResponse","notificationHandler","params","responseHandler","stringifyTrace","traceSendingRequest","logLSPMessage","traceSendingNotification","lspMessage","throwIfClosedOrDisposed","throwIfListening","throwIfNotListening","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","parameterStructures","computeMessageParams","connection","messageParams","first","paramStart","paramEnd","notificationMessage","handler","_type","last","disposable","resolveWithCleanup","rejectWithCleanup","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","verbose","disposable_1","sharedArrayCancellation_1","messageReader_1","require$$6","messageWriter_1","require$$7","messageBuffer_1","require$$8","connection_1","require$$9","require$$10","ril","api_1","MessageBuffer","_encoding","ReadableStreamWrapper","socket","WritableStreamWrapper","_textEncoder","_ril","ms","RIL","_default","__createBinding","this","o","k","k2","__exportStar","BrowserMessageReader","port","BrowserMessageWriter","reader","writer","DocumentUri","URI","integer","uinteger","Position","character","Range","one","two","three","four","Location","uri","range","LocationLink","targetUri","targetRange","targetSelectionRange","originSelectionRange","Color","red","green","blue","alpha","ColorInformation","ColorPresentation","textEdit","additionalTextEdits","TextEdit","FoldingRangeKind","FoldingRange","startLine","endLine","startCharacter","endCharacter","collapsedText","DiagnosticRelatedInformation","location","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","severity","source","relatedInformation","Command","title","command","_i","replace","newText","insert","position","del","ChangeAnnotation","needsConfirmation","description","ChangeAnnotationIdentifier","AnnotatedTextEdit","annotation","TextDocumentEdit","textDocument","edits","OptionalVersionedTextDocumentIdentifier","CreateFile","RenameFile","oldUri","newUri","DeleteFile","WorkspaceEdit","change","TextEditChangeImpl","changeAnnotations","edit","ChangeAnnotations","annotations","idOrAnnotation","WorkspaceChange","workspaceEdit","_this","textEditChange","textDocumentEdit","optionsOrAnnotation","operation","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","languageId","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItemLabelDetails","CompletionItem","CompletionList","items","isIncomplete","MarkedString","fromPlainText","plainText","Hover","ParameterInformation","documentation","SignatureInformation","parameters","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","containerName","WorkspaceSymbol","DocumentSymbol","detail","selectionRange","children","CodeActionKind","CodeActionTriggerKind","CodeActionContext","diagnostics","only","triggerKind","CodeAction","kindOrCommandOrEdit","checkKind","CodeLens","FormattingOptions","tabSize","insertSpaces","DocumentLink","SelectionRange","parent","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","InlineValueText","InlineValueVariableLookup","variableName","caseSensitiveLookup","InlineValueEvaluatableExpression","InlineValueContext","frameId","stoppedLocation","InlayHintKind","InlayHintLabelPart","InlayHint","WorkspaceFolder","EOL","TextDocument","FullTextDocument","applyEdits","document","sortedEdits","mergeSort","a","diff","lastModifiedOffset","startOffset","endOffset","compare","leftIdx","rightIdx","lineOffsets","isLineStart","ch","low","high","mid","lineOffset","nextLineOffset","defined","undefined","numberRange","objectLiteral","typedArray","check","vscode_jsonrpc_1","MessageDirection","RegistrationType","ProtocolRequestType0","ProtocolRequestType","ProtocolNotificationType0","ProtocolNotificationType","objectLiteral_1","typedArray_1","stringArray_1","array_1","func_1","error_1","number_1","string_1","boolean_1","ImplementationRequest","TypeDefinitionRequest","WorkspaceFoldersRequest","DidChangeWorkspaceFoldersNotification","ConfigurationRequest","DocumentColorRequest","ColorPresentationRequest","FoldingRangeRequest","DeclarationRequest","SelectionRangeRequest","WorkDoneProgress","WorkDoneProgressCreateRequest","WorkDoneProgressCancelNotification","CallHierarchyPrepareRequest","CallHierarchyIncomingCallsRequest","CallHierarchyOutgoingCallsRequest","TokenFormat","SemanticTokensRegistrationType","SemanticTokensRequest","SemanticTokensDeltaRequest","SemanticTokensRangeRequest","SemanticTokensRefreshRequest","ShowDocumentRequest","LinkedEditingRangeRequest","FileOperationPatternKind","WillCreateFilesRequest","DidCreateFilesNotification","WillRenameFilesRequest","DidRenameFilesNotification","DidDeleteFilesNotification","WillDeleteFilesRequest","UniquenessLevel","MonikerKind","MonikerRequest","TypeHierarchyPrepareRequest","TypeHierarchySupertypesRequest","TypeHierarchySubtypesRequest","InlineValueRequest","InlineValueRefreshRequest","InlayHintRequest","InlayHintResolveRequest","InlayHintRefreshRequest","DiagnosticServerCancellationData","DocumentDiagnosticReportKind","DocumentDiagnosticRequest","WorkspaceDiagnosticRequest","DiagnosticRefreshRequest","vscode_languageserver_types_1","NotebookCellKind","ExecutionSummary","executionOrder","success","equals","NotebookCell","equalsMetadata","oneArray","otherArray","oneKeys","otherKeys","prop","NotebookDocument","notebookType","cells","NotebookDocumentSyncRegistrationType","DidOpenNotebookDocumentNotification","NotebookCellArrayChange","deleteCount","DidChangeNotebookDocumentNotification","DidSaveNotebookDocumentNotification","DidCloseNotebookDocumentNotification","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","require$$11","protocol_callHierarchy_1","require$$12","protocol_semanticTokens_1","require$$13","protocol_showDocument_1","require$$14","protocol_linkedEditingRange_1","require$$15","protocol_fileOperations_1","require$$16","protocol_moniker_1","require$$17","protocol_typeHierarchy_1","require$$18","protocol_inlineValue_1","require$$19","protocol_inlayHint_1","require$$20","protocol_diagnostic_1","require$$21","protocol_notebook_1","require$$22","TextDocumentFilter","NotebookDocumentFilter","NotebookCellTextDocumentFilter","DocumentSelector","RegistrationRequest","UnregistrationRequest","ResourceOperationKind","FailureHandlingKind","PositionEncodingKind","StaticRegistrationOptions","hasId","TextDocumentRegistrationOptions","WorkDoneProgressOptions","hasWorkDoneProgress","InitializeRequest","InitializeErrorCodes","InitializedNotification","ShutdownRequest","ExitNotification","DidChangeConfigurationNotification","MessageType","ShowMessageNotification","ShowMessageRequest","LogMessageNotification","TelemetryEventNotification","TextDocumentSyncKind","DidOpenTextDocumentNotification","TextDocumentContentChangeEvent","isIncremental","isFull","DidChangeTextDocumentNotification","DidCloseTextDocumentNotification","DidSaveTextDocumentNotification","TextDocumentSaveReason","WillSaveTextDocumentNotification","WillSaveTextDocumentWaitUntilRequest","DidChangeWatchedFilesNotification","FileChangeType","RelativePattern","WatchKind","PublishDiagnosticsNotification","CompletionTriggerKind","CompletionRequest","CompletionResolveRequest","HoverRequest","SignatureHelpTriggerKind","SignatureHelpRequest","DefinitionRequest","ReferencesRequest","DocumentHighlightRequest","DocumentSymbolRequest","CodeActionRequest","CodeActionResolveRequest","WorkspaceSymbolRequest","WorkspaceSymbolResolveRequest","CodeLensRequest","CodeLensResolveRequest","CodeLensRefreshRequest","DocumentLinkRequest","DocumentLinkResolveRequest","DocumentFormattingRequest","DocumentRangeFormattingRequest","DocumentOnTypeFormattingRequest","PrepareSupportDefaultBehavior","RenameRequest","PrepareRenameRequest","ExecuteCommandRequest","ApplyWorkspaceEditRequest","createProtocolConnection_1","createProtocolConnection","output","LSPErrorCodes","browser_1","semanticTokens","SemanticTokensBuilder_1","SemanticTokensDiff_1","SemanticTokensFeature_1","vscode_languageserver_protocol_1","SemanticTokensFeature","Base","cancel","SemanticTokensDiff","originalSequence","modifiedSequence","originalLength","modifiedLength","startIndex","originalEndIndex","modifiedEndIndex","newData","SemanticTokensBuilder","char","tokenType","tokenModifiers","pushLine","pushChar","textDocuments","TextDocuments_1","TextDocuments","configuration","td","toFire","changes","syncedDocument","notebook","NotebookDocuments_1","NotebookSyncFeature_1","textDocuments_1","NotebookSyncFeature","CellTextDocumentConnection","NotebookDocuments","configurationOrTextDocuments","cell","cellTextDocumentConnection","cellTextDocument","notebookDocument","oldMetadata","metadataChanged","opened","closed","changedCells","open","close","cellUpdates","old","changeEvent","added","removed","textContent","thenable_1","thenable","uuid","generateUuid_1","parse_1","isUUID_1","v4_1","empty","ValueUUID","V4UUID","v4","_UUIDPattern","isUUID","generateUuid","progress","attachPartialResult_1","ProgressFeature_1","attachWorkDone_1","uuid_1","WorkDoneProgressReporterImpl","_connection","_token","percentage","cancellable","arg0","arg1","WorkDoneProgressServerReporterImpl","NullProgressReporter","NullProgressServerReporter","attachWorkDone","ProgressFeature","capabilities","ResultProgress","ResultProgressReporterImpl","attachPartialResult","ConfigurationFeature_1","ConfigurationFeature","arg","workspaceFolder","WorkspaceFoldersFeature_1","WorkspaceFoldersFeature","workspaceCapabilities","changeNotifications","callHierarchy","CallHierarchyFeature_1","CallHierarchyFeature","showDocument","ShowDocumentFeature_1","ShowDocumentFeature","fileOperations","FileOperationsFeature_1","FileOperationsFeature","linkedEditingRange","LinkedEditingRangeFeature_1","LinkedEditingRangeFeature","typeHierarchy","TypeHierarchyFeature_1","TypeHierarchyFeature","inlineValue","InlineValueFeature_1","InlineValueFeature","inlayHint","InlayHintFeature_1","InlayHintFeature","diagnostic","DiagnosticFeature_1","DiagnosticFeature","moniker","MonikerFeature_1","MonikerFeature","UUID","progress_1","configuration_1","workspaceFolder_1","callHierarchy_1","semanticTokens_1","showDocument_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","inlayHint_1","diagnostic_1","notebook_1","moniker_1","null2Undefined","ErrorMessageTracker","RemoteConsoleImpl","_capabilities","_RemoteWindowImpl","actions","RemoteWindowImpl","BulkRegistration","BulkRegistrationImpl","registerOptions","BulkUnregistration","BulkUnregistrationImpl","unregistrations","unregistration","_error","RemoteClientImpl","typeOrRegistrations","registerOptionsOrType","_result","registrations","registration","_RemoteWorkspaceImpl","paramOrEdit","isApplyWorkspaceEditParams","RemoteWorkspaceImpl","TracerImpl","TelemetryImpl","_LanguagesImpl","LanguagesImpl","_NotebooksImpl","NotebooksImpl","combineConsoleFeatures","combineTelemetryFeatures","combineTracerFeatures","combineClientFeatures","combineWindowFeatures","combineWorkspaceFeatures","combineLanguagesFeatures","combineNotebooksFeatures","combineFeatures","combine","createConnection","connectionFactory","watchDog","factories","telemetry","client","remoteWindow","workspace","languages","notebooks","allRemotes","asPromise","resolved","shutdownHandler","initializeHandler","exitHandler","protocolConnection","remote","ProposedFeatures","_shutdownReceived","_params","_code","arg2","arg3","arg4","diagnoseParsingError","lineNumber","diagnoseUndefinedVariables","hasDiagnosticRelatedInformationCapability","diagnoseUnusedVariables","diagnose","printers","BBNFPlugin","formatBBNF","grammar","prettier","documents","hasConfigurationCapability","hasWorkspaceFolderCapability","_event","defaultSettings","globalSettings","documentSettings","validateTextDocument","getDocumentSettings","resource","settings","_change","_textDocumentPosition"],"mappings":"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","x_google_ignoreList":[0,1,2,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69]}