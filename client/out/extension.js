"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const Fu=require("vscode"),zu=require("vscode-languageclient/node");function Zu(r,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in r)){const t=Object.getOwnPropertyDescriptor(s,u);t&&Object.defineProperty(r,u,t.get?t:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}const Ue={};function Qu(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var n=function s(){if(this instanceof s){var u=[null];u.push.apply(u,arguments);var t=Function.bind.apply(e,u);return new t}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var u=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(n,s,u.get?u:{enumerable:!0,get:function(){return r[s]}})}),n}var ju={},Ke={get exports(){return ju},set exports(r){ju=r}},Gu,se;function Je(){return se||(se=1,Gu={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),Gu}var Wu,oe;function de(){if(oe)return Wu;oe=1;const r=Je(),e={};for(const u of Object.keys(r))e[r[u]]=u;const n={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Wu=n;for(const u of Object.keys(n)){if(!("channels"in n[u]))throw new Error("missing channels property: "+u);if(!("labels"in n[u]))throw new Error("missing channel labels property: "+u);if(n[u].labels.length!==n[u].channels)throw new Error("channel and label counts mismatch: "+u);const{channels:t,labels:D}=n[u];delete n[u].channels,delete n[u].labels,Object.defineProperty(n[u],"channels",{value:t}),Object.defineProperty(n[u],"labels",{value:D})}n.rgb.hsl=function(u){const t=u[0]/255,D=u[1]/255,o=u[2]/255,i=Math.min(t,D,o),a=Math.max(t,D,o),l=a-i;let c,p;a===i?c=0:t===a?c=(D-o)/l:D===a?c=2+(o-t)/l:o===a&&(c=4+(t-D)/l),c=Math.min(c*60,360),c<0&&(c+=360);const E=(i+a)/2;return a===i?p=0:E<=.5?p=l/(a+i):p=l/(2-a-i),[c,p*100,E*100]},n.rgb.hsv=function(u){let t,D,o,i,a;const l=u[0]/255,c=u[1]/255,p=u[2]/255,E=Math.max(l,c,p),B=E-Math.min(l,c,p),_=function(G){return(E-G)/6/B+1/2};return B===0?(i=0,a=0):(a=B/E,t=_(l),D=_(c),o=_(p),l===E?i=o-D:c===E?i=1/3+t-o:p===E&&(i=2/3+D-t),i<0?i+=1:i>1&&(i-=1)),[i*360,a*100,E*100]},n.rgb.hwb=function(u){const t=u[0],D=u[1];let o=u[2];const i=n.rgb.hsl(u)[0],a=1/255*Math.min(t,Math.min(D,o));return o=1-1/255*Math.max(t,Math.max(D,o)),[i,a*100,o*100]},n.rgb.cmyk=function(u){const t=u[0]/255,D=u[1]/255,o=u[2]/255,i=Math.min(1-t,1-D,1-o),a=(1-t-i)/(1-i)||0,l=(1-D-i)/(1-i)||0,c=(1-o-i)/(1-i)||0;return[a*100,l*100,c*100,i*100]};function s(u,t){return(u[0]-t[0])**2+(u[1]-t[1])**2+(u[2]-t[2])**2}return n.rgb.keyword=function(u){const t=e[u];if(t)return t;let D=1/0,o;for(const i of Object.keys(r)){const a=r[i],l=s(u,a);l<D&&(D=l,o=i)}return o},n.keyword.rgb=function(u){return r[u]},n.rgb.xyz=function(u){let t=u[0]/255,D=u[1]/255,o=u[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,D=D>.04045?((D+.055)/1.055)**2.4:D/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92;const i=t*.4124+D*.3576+o*.1805,a=t*.2126+D*.7152+o*.0722,l=t*.0193+D*.1192+o*.9505;return[i*100,a*100,l*100]},n.rgb.lab=function(u){const t=n.rgb.xyz(u);let D=t[0],o=t[1],i=t[2];D/=95.047,o/=100,i/=108.883,D=D>.008856?D**(1/3):7.787*D+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const a=116*o-16,l=500*(D-o),c=200*(o-i);return[a,l,c]},n.hsl.rgb=function(u){const t=u[0]/360,D=u[1]/100,o=u[2]/100;let i,a,l;if(D===0)return l=o*255,[l,l,l];o<.5?i=o*(1+D):i=o+D-o*D;const c=2*o-i,p=[0,0,0];for(let E=0;E<3;E++)a=t+1/3*-(E-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(i-c)*6*a:2*a<1?l=i:3*a<2?l=c+(i-c)*(2/3-a)*6:l=c,p[E]=l*255;return p},n.hsl.hsv=function(u){const t=u[0];let D=u[1]/100,o=u[2]/100,i=D;const a=Math.max(o,.01);o*=2,D*=o<=1?o:2-o,i*=a<=1?a:2-a;const l=(o+D)/2,c=o===0?2*i/(a+i):2*D/(o+D);return[t,c*100,l*100]},n.hsv.rgb=function(u){const t=u[0]/60,D=u[1]/100;let o=u[2]/100;const i=Math.floor(t)%6,a=t-Math.floor(t),l=255*o*(1-D),c=255*o*(1-D*a),p=255*o*(1-D*(1-a));switch(o*=255,i){case 0:return[o,p,l];case 1:return[c,o,l];case 2:return[l,o,p];case 3:return[l,c,o];case 4:return[p,l,o];case 5:return[o,l,c]}},n.hsv.hsl=function(u){const t=u[0],D=u[1]/100,o=u[2]/100,i=Math.max(o,.01);let a,l;l=(2-D)*o;const c=(2-D)*i;return a=D*i,a/=c<=1?c:2-c,a=a||0,l/=2,[t,a*100,l*100]},n.hwb.rgb=function(u){const t=u[0]/360;let D=u[1]/100,o=u[2]/100;const i=D+o;let a;i>1&&(D/=i,o/=i);const l=Math.floor(6*t),c=1-o;a=6*t-l,l&1&&(a=1-a);const p=D+a*(c-D);let E,B,_;switch(l){default:case 6:case 0:E=c,B=p,_=D;break;case 1:E=p,B=c,_=D;break;case 2:E=D,B=c,_=p;break;case 3:E=D,B=p,_=c;break;case 4:E=p,B=D,_=c;break;case 5:E=c,B=D,_=p;break}return[E*255,B*255,_*255]},n.cmyk.rgb=function(u){const t=u[0]/100,D=u[1]/100,o=u[2]/100,i=u[3]/100,a=1-Math.min(1,t*(1-i)+i),l=1-Math.min(1,D*(1-i)+i),c=1-Math.min(1,o*(1-i)+i);return[a*255,l*255,c*255]},n.xyz.rgb=function(u){const t=u[0]/100,D=u[1]/100,o=u[2]/100;let i,a,l;return i=t*3.2406+D*-1.5372+o*-.4986,a=t*-.9689+D*1.8758+o*.0415,l=t*.0557+D*-.204+o*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),l=Math.min(Math.max(0,l),1),[i*255,a*255,l*255]},n.xyz.lab=function(u){let t=u[0],D=u[1],o=u[2];t/=95.047,D/=100,o/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,D=D>.008856?D**(1/3):7.787*D+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;const i=116*D-16,a=500*(t-D),l=200*(D-o);return[i,a,l]},n.lab.xyz=function(u){const t=u[0],D=u[1],o=u[2];let i,a,l;a=(t+16)/116,i=D/500+a,l=a-o/200;const c=a**3,p=i**3,E=l**3;return a=c>.008856?c:(a-16/116)/7.787,i=p>.008856?p:(i-16/116)/7.787,l=E>.008856?E:(l-16/116)/7.787,i*=95.047,a*=100,l*=108.883,[i,a,l]},n.lab.lch=function(u){const t=u[0],D=u[1],o=u[2];let i;i=Math.atan2(o,D)*360/2/Math.PI,i<0&&(i+=360);const l=Math.sqrt(D*D+o*o);return[t,l,i]},n.lch.lab=function(u){const t=u[0],D=u[1],i=u[2]/360*2*Math.PI,a=D*Math.cos(i),l=D*Math.sin(i);return[t,a,l]},n.rgb.ansi16=function(u,t=null){const[D,o,i]=u;let a=t===null?n.rgb.hsv(u)[2]:t;if(a=Math.round(a/50),a===0)return 30;let l=30+(Math.round(i/255)<<2|Math.round(o/255)<<1|Math.round(D/255));return a===2&&(l+=60),l},n.hsv.ansi16=function(u){return n.rgb.ansi16(n.hsv.rgb(u),u[2])},n.rgb.ansi256=function(u){const t=u[0],D=u[1],o=u[2];return t===D&&D===o?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(D/255*5)+Math.round(o/255*5)},n.ansi16.rgb=function(u){let t=u%10;if(t===0||t===7)return u>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const D=(~~(u>50)+1)*.5,o=(t&1)*D*255,i=(t>>1&1)*D*255,a=(t>>2&1)*D*255;return[o,i,a]},n.ansi256.rgb=function(u){if(u>=232){const a=(u-232)*10+8;return[a,a,a]}u-=16;let t;const D=Math.floor(u/36)/5*255,o=Math.floor((t=u%36)/6)/5*255,i=t%6/5*255;return[D,o,i]},n.rgb.hex=function(u){const D=(((Math.round(u[0])&255)<<16)+((Math.round(u[1])&255)<<8)+(Math.round(u[2])&255)).toString(16).toUpperCase();return"000000".substring(D.length)+D},n.hex.rgb=function(u){const t=u.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let D=t[0];t[0].length===3&&(D=D.split("").map(c=>c+c).join(""));const o=parseInt(D,16),i=o>>16&255,a=o>>8&255,l=o&255;return[i,a,l]},n.rgb.hcg=function(u){const t=u[0]/255,D=u[1]/255,o=u[2]/255,i=Math.max(Math.max(t,D),o),a=Math.min(Math.min(t,D),o),l=i-a;let c,p;return l<1?c=a/(1-l):c=0,l<=0?p=0:i===t?p=(D-o)/l%6:i===D?p=2+(o-t)/l:p=4+(t-D)/l,p/=6,p%=1,[p*360,l*100,c*100]},n.hsl.hcg=function(u){const t=u[1]/100,D=u[2]/100,o=D<.5?2*t*D:2*t*(1-D);let i=0;return o<1&&(i=(D-.5*o)/(1-o)),[u[0],o*100,i*100]},n.hsv.hcg=function(u){const t=u[1]/100,D=u[2]/100,o=t*D;let i=0;return o<1&&(i=(D-o)/(1-o)),[u[0],o*100,i*100]},n.hcg.rgb=function(u){const t=u[0]/360,D=u[1]/100,o=u[2]/100;if(D===0)return[o*255,o*255,o*255];const i=[0,0,0],a=t%1*6,l=a%1,c=1-l;let p=0;switch(Math.floor(a)){case 0:i[0]=1,i[1]=l,i[2]=0;break;case 1:i[0]=c,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=l;break;case 3:i[0]=0,i[1]=c,i[2]=1;break;case 4:i[0]=l,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=c}return p=(1-D)*o,[(D*i[0]+p)*255,(D*i[1]+p)*255,(D*i[2]+p)*255]},n.hcg.hsv=function(u){const t=u[1]/100,D=u[2]/100,o=t+D*(1-t);let i=0;return o>0&&(i=t/o),[u[0],i*100,o*100]},n.hcg.hsl=function(u){const t=u[1]/100,o=u[2]/100*(1-t)+.5*t;let i=0;return o>0&&o<.5?i=t/(2*o):o>=.5&&o<1&&(i=t/(2*(1-o))),[u[0],i*100,o*100]},n.hcg.hwb=function(u){const t=u[1]/100,D=u[2]/100,o=t+D*(1-t);return[u[0],(o-t)*100,(1-o)*100]},n.hwb.hcg=function(u){const t=u[1]/100,o=1-u[2]/100,i=o-t;let a=0;return i<1&&(a=(o-i)/(1-i)),[u[0],i*100,a*100]},n.apple.rgb=function(u){return[u[0]/65535*255,u[1]/65535*255,u[2]/65535*255]},n.rgb.apple=function(u){return[u[0]/255*65535,u[1]/255*65535,u[2]/255*65535]},n.gray.rgb=function(u){return[u[0]/100*255,u[0]/100*255,u[0]/100*255]},n.gray.hsl=function(u){return[0,0,u[0]]},n.gray.hsv=n.gray.hsl,n.gray.hwb=function(u){return[0,100,u[0]]},n.gray.cmyk=function(u){return[0,0,0,u[0]]},n.gray.lab=function(u){return[u[0],0,0]},n.gray.hex=function(u){const t=Math.round(u[0]/100*255)&255,o=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(o.length)+o},n.rgb.gray=function(u){return[(u[0]+u[1]+u[2])/3/255*100]},Wu}var Uu,ie;function He(){if(ie)return Uu;ie=1;const r=de();function e(){const t={},D=Object.keys(r);for(let o=D.length,i=0;i<o;i++)t[D[i]]={distance:-1,parent:null};return t}function n(t){const D=e(),o=[t];for(D[t].distance=0;o.length;){const i=o.pop(),a=Object.keys(r[i]);for(let l=a.length,c=0;c<l;c++){const p=a[c],E=D[p];E.distance===-1&&(E.distance=D[i].distance+1,E.parent=i,o.unshift(p))}}return D}function s(t,D){return function(o){return D(t(o))}}function u(t,D){const o=[D[t].parent,t];let i=r[D[t].parent][t],a=D[t].parent;for(;D[a].parent;)o.unshift(D[a].parent),i=s(r[D[a].parent][a],i),a=D[a].parent;return i.conversion=o,i}return Uu=function(t){const D=n(t),o={},i=Object.keys(D);for(let a=i.length,l=0;l<a;l++){const c=i[l];D[c].parent!==null&&(o[c]=u(c,D))}return o},Uu}var Ku,ae;function Ve(){if(ae)return Ku;ae=1;const r=de(),e=He(),n={},s=Object.keys(r);function u(D){const o=function(...i){const a=i[0];return a==null?a:(a.length>1&&(i=a),D(i))};return"conversion"in D&&(o.conversion=D.conversion),o}function t(D){const o=function(...i){const a=i[0];if(a==null)return a;a.length>1&&(i=a);const l=D(i);if(typeof l=="object")for(let c=l.length,p=0;p<c;p++)l[p]=Math.round(l[p]);return l};return"conversion"in D&&(o.conversion=D.conversion),o}return s.forEach(D=>{n[D]={},Object.defineProperty(n[D],"channels",{value:r[D].channels}),Object.defineProperty(n[D],"labels",{value:r[D].labels});const o=e(D);Object.keys(o).forEach(a=>{const l=o[a];n[D][a]=t(l),n[D][a].raw=u(l)})}),Ku=n,Ku}(function(r){const e=(l,c)=>(...p)=>`\x1B[${l(...p)+c}m`,n=(l,c)=>(...p)=>{const E=l(...p);return`\x1B[${38+c};5;${E}m`},s=(l,c)=>(...p)=>{const E=l(...p);return`\x1B[${38+c};2;${E[0]};${E[1]};${E[2]}m`},u=l=>l,t=(l,c,p)=>[l,c,p],D=(l,c,p)=>{Object.defineProperty(l,c,{get:()=>{const E=p();return Object.defineProperty(l,c,{value:E,enumerable:!0,configurable:!0}),E},enumerable:!0,configurable:!0})};let o;const i=(l,c,p,E)=>{o===void 0&&(o=Ve());const B=E?10:0,_={};for(const[G,W]of Object.entries(o)){const iu=G==="ansi16"?"ansi":G;G===c?_[iu]=l(p,B):typeof W=="object"&&(_[iu]=l(W[c],B))}return _};function a(){const l=new Map,c={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};c.color.gray=c.color.blackBright,c.bgColor.bgGray=c.bgColor.bgBlackBright,c.color.grey=c.color.blackBright,c.bgColor.bgGrey=c.bgColor.bgBlackBright;for(const[p,E]of Object.entries(c)){for(const[B,_]of Object.entries(E))c[B]={open:`\x1B[${_[0]}m`,close:`\x1B[${_[1]}m`},E[B]=c[B],l.set(_[0],_[1]);Object.defineProperty(c,p,{value:E,enumerable:!1})}return Object.defineProperty(c,"codes",{value:l,enumerable:!1}),c.color.close="\x1B[39m",c.bgColor.close="\x1B[49m",D(c.color,"ansi",()=>i(e,"ansi16",u,!1)),D(c.color,"ansi256",()=>i(n,"ansi256",u,!1)),D(c.color,"ansi16m",()=>i(s,"rgb",t,!1)),D(c.bgColor,"ansi",()=>i(e,"ansi16",u,!0)),D(c.bgColor,"ansi256",()=>i(n,"ansi256",u,!0)),D(c.bgColor,"ansi16m",()=>i(s,"rgb",t,!0)),c}Object.defineProperty(r,"exports",{enumerable:!0,get:a})})(Ke);const Ye=ju,Xe=Zu({__proto__:null,default:Ye},[ju]),Ze=Qu(Xe);var le={stdout:!1,stderr:!1};const Qe=Zu({__proto__:null,default:le},[le]),ut=Qu(Qe),et=(r,e,n)=>{let s=r.indexOf(e);if(s===-1)return r;const u=e.length;let t=0,D="";do D+=r.substr(t,s-t)+e+n,t=s+u,s=r.indexOf(e,t);while(s!==-1);return D+=r.substr(t),D},tt=(r,e,n,s)=>{let u=0,t="";do{const D=r[s-1]==="\r";t+=r.substr(u,(D?s-1:s)-u)+e+(D?`\r
`:`
`)+n,u=s+1,s=r.indexOf(`
`,u)}while(s!==-1);return t+=r.substr(u),t};var ce={stringReplaceAll:et,stringEncaseCRLFWithFirstIndex:tt};const nt=Zu({__proto__:null,default:ce},[ce]),Dt=Qu(nt);var Ju,fe;function rt(){if(fe)return Ju;fe=1;const r=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,e=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,n=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,s=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,u=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function t(a){const l=a[0]==="u",c=a[1]==="{";return l&&!c&&a.length===5||a[0]==="x"&&a.length===3?String.fromCharCode(parseInt(a.slice(1),16)):l&&c?String.fromCodePoint(parseInt(a.slice(2,-1),16)):u.get(a)||a}function D(a,l){const c=[],p=l.trim().split(/\s*,\s*/g);let E;for(const B of p){const _=Number(B);if(!Number.isNaN(_))c.push(_);else if(E=B.match(n))c.push(E[2].replace(s,(G,W,iu)=>W?t(W):iu));else throw new Error(`Invalid Chalk template style argument: ${B} (in style '${a}')`)}return c}function o(a){e.lastIndex=0;const l=[];let c;for(;(c=e.exec(a))!==null;){const p=c[1];if(c[2]){const E=D(p,c[2]);l.push([p].concat(E))}else l.push([p])}return l}function i(a,l){const c={};for(const E of l)for(const B of E.styles)c[B[0]]=E.inverse?null:B.slice(1);let p=a;for(const[E,B]of Object.entries(c))if(Array.isArray(B)){if(!(E in p))throw new Error(`Unknown Chalk style: ${E}`);p=B.length>0?p[E](...B):p[E]}return p}return Ju=(a,l)=>{const c=[],p=[];let E=[];if(l.replace(r,(B,_,G,W,iu,Q)=>{if(_)E.push(t(_));else if(W){const du=E.join("");E=[],p.push(c.length===0?du:i(a,c)(du)),c.push({inverse:G,styles:o(W)})}else if(iu){if(c.length===0)throw new Error("Found extraneous } in Chalk template literal");p.push(i(a,c)(E.join(""))),E=[],c.pop()}else E.push(Q)}),p.push(E.join("")),c.length>0){const B=`Chalk template literal is missing ${c.length} closing bracket${c.length===1?"":"s"} (\`}\`)`;throw new Error(B)}return p.join("")},Ju}const _u=Ze,{stdout:Yu,stderr:Xu}=ut,{stringReplaceAll:st,stringEncaseCRLFWithFirstIndex:ot}=Dt,{isArray:Mu}=Array,me=["ansi","ansi","ansi256","ansi16m"],vu=Object.create(null),it=(r,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=Yu?Yu.level:0;r.level=e.level===void 0?n:e.level};class at{constructor(e){return be(e)}}const be=r=>{const e={};return it(e,r),e.template=(...n)=>Be(e.template,...n),Object.setPrototypeOf(e,$u.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=at,e.template};function $u(r){return be(r)}for(const[r,e]of Object.entries(_u))vu[r]={get(){const n=Tu(this,ue(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,r,{value:n}),n}};vu.visible={get(){const r=Tu(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:r}),r}};const ye=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const r of ye)vu[r]={get(){const{level:e}=this;return function(...n){const s=ue(_u.color[me[e]][r](...n),_u.color.close,this._styler);return Tu(this,s,this._isEmpty)}}};for(const r of ye){const e="bg"+r[0].toUpperCase()+r.slice(1);vu[e]={get(){const{level:n}=this;return function(...s){const u=ue(_u.bgColor[me[n]][r](...s),_u.bgColor.close,this._styler);return Tu(this,u,this._isEmpty)}}}}const lt=Object.defineProperties(()=>{},{...vu,level:{enumerable:!0,get(){return this._generator.level},set(r){this._generator.level=r}}}),ue=(r,e,n)=>{let s,u;return n===void 0?(s=r,u=e):(s=n.openAll+r,u=e+n.closeAll),{open:r,close:e,openAll:s,closeAll:u,parent:n}},Tu=(r,e,n)=>{const s=(...u)=>Mu(u[0])&&Mu(u[0].raw)?Fe(s,Be(s,...u)):Fe(s,u.length===1?""+u[0]:u.join(" "));return Object.setPrototypeOf(s,lt),s._generator=r,s._styler=e,s._isEmpty=n,s},Fe=(r,e)=>{if(r.level<=0||!e)return r._isEmpty?"":e;let n=r._styler;if(n===void 0)return e;const{openAll:s,closeAll:u}=n;if(e.indexOf("\x1B")!==-1)for(;n!==void 0;)e=st(e,n.close,n.open),n=n.parent;const t=e.indexOf(`
`);return t!==-1&&(e=ot(e,u,s,t)),s+e+u};let Hu;const Be=(r,...e)=>{const[n]=e;if(!Mu(n)||!Mu(n.raw))return e.join(" ");const s=e.slice(1),u=[n.raw[0]];for(let t=1;t<n.length;t++)u.push(String(s[t-1]).replace(/[{}\\]/g,"\\$&"),String(n.raw[t]));return Hu===void 0&&(Hu=rt()),Hu(r,u.join(""))};Object.defineProperties($u.prototype,vu);const Ru=$u();Ru.supportsColor=Yu;Ru.stderr=$u({level:Xu?Xu.level:0});Ru.stderr.supportsColor=Xu;var eu=Ru,ct=Object.defineProperty,ft=(r,e,n)=>e in r?ct(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,pe=(r,e,n)=>(ft(r,typeof e!="symbol"?e+"":e,n),n),Y={},Ft={get exports(){return Y},set exports(r){Y=r}};(function(r,e){(function(n){r.exports=n()})(function(){var n=Object.getOwnPropertyNames,s=(t,D)=>function(){return D||(0,t[n(t)[0]])((D={exports:{}}).exports,D),D.exports},u=s({"dist/_doc.js.umd.js"(t,D){var o=Object.create,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,E=(h,k)=>function(){return h&&(k=(0,h[l(h)[0]])(h=0)),k},B=(h,k)=>function(){return k||(0,h[l(h)[0]])((k={exports:{}}).exports,k),k.exports},_=(h,k)=>{for(var x in k)i(h,x,{get:k[x],enumerable:!0})},G=(h,k,x,S)=>{if(k&&typeof k=="object"||typeof k=="function")for(let M of l(k))!p.call(h,M)&&M!==x&&i(h,M,{get:()=>k[M],enumerable:!(S=a(k,M))||S.enumerable});return h},W=(h,k,x)=>(x=h!=null?o(c(h)):{},G(k||!h||!h.__esModule?i(x,"default",{value:h,enumerable:!0}):x,h)),iu=h=>G(i({},"__esModule",{value:!0}),h),Q=E({"<define:process>"(){}}),du=B({"src/document/doc-builders.js"(h,k){Q();function x(v){return{type:"concat",parts:v}}function S(v){return{type:"indent",contents:v}}function M(v,f){return{type:"align",contents:f,n:v}}function U(v){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{type:"group",id:f.id,contents:v,break:Boolean(f.shouldBreak),expandedStates:f.expandedStates}}function A(v){return M(Number.NEGATIVE_INFINITY,v)}function z(v){return M({type:"root"},v)}function K(v){return M(-1,v)}function O(v,f){return U(v[0],Object.assign(Object.assign({},f),{},{expandedStates:v}))}function Du(v){return{type:"fill",parts:v}}function g(v,f){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return{type:"if-break",breakContents:v,flatContents:f,groupId:F.groupId}}function q(v,f){return{type:"indent-if-break",contents:v,groupId:f.groupId,negate:f.negate}}function H(v){return{type:"line-suffix",contents:v}}var N={type:"line-suffix-boundary"},su={type:"break-parent"},fu={type:"trim"},pu={type:"line",hard:!0},ru={type:"line",hard:!0,literal:!0},Au={type:"line"},j={type:"line",soft:!0},$=x([pu,su]),L=x([ru,su]),X={type:"cursor",placeholder:Symbol("cursor")};function J(v,f){const F=[];for(let C=0;C<f.length;C++)C!==0&&F.push(v),F.push(f[C]);return x(F)}function w(v,f,F){let C=v;if(f>0){for(let b=0;b<Math.floor(f/F);++b)C=S(C);C=M(f%F,C),C=M(Number.NEGATIVE_INFINITY,C)}return C}function I(v,f){return{type:"label",label:v,contents:f}}k.exports={concat:x,join:J,line:Au,softline:j,hardline:$,literalline:L,group:U,conditionalGroup:O,fill:Du,lineSuffix:H,lineSuffixBoundary:N,cursor:X,breakParent:su,ifBreak:g,trim:fu,indent:S,indentIfBreak:q,align:M,addAlignmentToDoc:w,markAsRoot:z,dedentToRoot:A,dedent:K,hardlineWithoutBreakParent:pu,literallineWithoutBreakParent:ru,label:I}}}),Oe=B({"src/common/end-of-line.js"(h,k){Q();function x(A){const z=A.indexOf("\r");return z>=0?A.charAt(z+1)===`
`?"crlf":"cr":"lf"}function S(A){switch(A){case"cr":return"\r";case"crlf":return`\r
`;default:return`
`}}function M(A,z){let K;switch(z){case`
`:K=/\n/g;break;case"\r":K=/\r/g;break;case`\r
`:K=/\r\n/g;break;default:throw new Error(`Unexpected "eol" ${JSON.stringify(z)}.`)}const O=A.match(K);return O?O.length:0}function U(A){return A.replace(/\r\n?/g,`
`)}k.exports={guessEndOfLine:x,convertEndOfLineToChars:S,countEndOfLineChars:M,normalizeEndOfLine:U}}}),te=B({"src/utils/get-last.js"(h,k){Q();var x=S=>S[S.length-1];k.exports=x}});function je(){let{onlyFirst:h=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const k=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(k,h?void 0:"g")}var Me=E({"node_modules/strip-ansi/node_modules/ansi-regex/index.js"(){Q()}});function Ie(h){if(typeof h!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof h}\``);return h.replace(je(),"")}var Ne=E({"node_modules/strip-ansi/index.js"(){Q(),Me()}});function $e(h){return Number.isInteger(h)?h>=4352&&(h<=4447||h===9001||h===9002||11904<=h&&h<=12871&&h!==12351||12880<=h&&h<=19903||19968<=h&&h<=42182||43360<=h&&h<=43388||44032<=h&&h<=55203||63744<=h&&h<=64255||65040<=h&&h<=65049||65072<=h&&h<=65131||65281<=h&&h<=65376||65504<=h&&h<=65510||110592<=h&&h<=110593||127488<=h&&h<=127569||131072<=h&&h<=262141):!1}var Te=E({"node_modules/is-fullwidth-code-point/index.js"(){Q()}}),Re=B({"node_modules/emoji-regex/index.js"(h,k){Q(),k.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}}}),ne={};_(ne,{default:()=>Le});function Le(h){if(typeof h!="string"||h.length===0||(h=Ie(h),h.length===0))return 0;h=h.replace((0,De.default)(),"  ");let k=0;for(let x=0;x<h.length;x++){const S=h.codePointAt(x);S<=31||S>=127&&S<=159||S>=768&&S<=879||(S>65535&&x++,k+=$e(S)?2:1)}return k}var De,Pe=E({"node_modules/string-width/index.js"(){Q(),Ne(),Te(),De=W(Re())}}),qe=B({"src/utils/get-string-width.js"(h,k){Q();var x=(Pe(),iu(ne)).default,S=/[^\x20-\x7F]/;function M(U){return U?S.test(U)?x(U):U.length:0}k.exports=M}}),Lu=B({"src/document/doc-utils.js"(h,k){Q();var x=te(),{literalline:S,join:M}=du(),U=f=>Array.isArray(f)||f&&f.type==="concat",A=f=>{if(Array.isArray(f))return f;if(f.type!=="concat"&&f.type!=="fill")throw new Error("Expect doc type to be `concat` or `fill`.");return f.parts},z={};function K(f,F,C,b){const m=[f];for(;m.length>0;){const d=m.pop();if(d===z){C(m.pop());continue}if(C&&m.push(d,z),!F||F(d)!==!1)if(U(d)||d.type==="fill"){const y=A(d);for(let V=y.length,au=V-1;au>=0;--au)m.push(y[au])}else if(d.type==="if-break")d.flatContents&&m.push(d.flatContents),d.breakContents&&m.push(d.breakContents);else if(d.type==="group"&&d.expandedStates)if(b)for(let y=d.expandedStates.length,V=y-1;V>=0;--V)m.push(d.expandedStates[V]);else m.push(d.contents);else d.contents&&m.push(d.contents)}}function O(f,F){const C=new Map;return b(f);function b(d){if(C.has(d))return C.get(d);const y=m(d);return C.set(d,y),y}function m(d){if(Array.isArray(d))return F(d.map(b));if(d.type==="concat"||d.type==="fill"){const y=d.parts.map(b);return F(Object.assign(Object.assign({},d),{},{parts:y}))}if(d.type==="if-break"){const y=d.breakContents&&b(d.breakContents),V=d.flatContents&&b(d.flatContents);return F(Object.assign(Object.assign({},d),{},{breakContents:y,flatContents:V}))}if(d.type==="group"&&d.expandedStates){const y=d.expandedStates.map(b),V=y[0];return F(Object.assign(Object.assign({},d),{},{contents:V,expandedStates:y}))}if(d.contents){const y=b(d.contents);return F(Object.assign(Object.assign({},d),{},{contents:y}))}return F(d)}}function Du(f,F,C){let b=C,m=!1;function d(y){const V=F(y);if(V!==void 0&&(m=!0,b=V),m)return!1}return K(f,d),b}function g(f){if(f.type==="group"&&f.break||f.type==="line"&&f.hard||f.type==="break-parent")return!0}function q(f){return Du(f,g,!1)}function H(f){if(f.length>0){const F=x(f);!F.expandedStates&&!F.break&&(F.break="propagated")}return null}function N(f){const F=new Set,C=[];function b(d){if(d.type==="break-parent"&&H(C),d.type==="group"){if(C.push(d),F.has(d))return!1;F.add(d)}}function m(d){d.type==="group"&&C.pop().break&&H(C)}K(f,b,m,!0)}function su(f){return f.type==="line"&&!f.hard?f.soft?"":" ":f.type==="if-break"?f.flatContents||"":f}function fu(f){return O(f,su)}var pu=(f,F)=>f&&f.type==="line"&&f.hard&&F&&F.type==="break-parent";function ru(f){if(!f)return f;if(U(f)||f.type==="fill"){const F=A(f);for(;F.length>1&&pu(...F.slice(-2));)F.length-=2;if(F.length>0){const C=ru(x(F));F[F.length-1]=C}return Array.isArray(f)?F:Object.assign(Object.assign({},f),{},{parts:F})}switch(f.type){case"align":case"indent":case"indent-if-break":case"group":case"line-suffix":case"label":{const F=ru(f.contents);return Object.assign(Object.assign({},f),{},{contents:F})}case"if-break":{const F=ru(f.breakContents),C=ru(f.flatContents);return Object.assign(Object.assign({},f),{},{breakContents:F,flatContents:C})}}return f}function Au(f){return ru($(f))}function j(f){switch(f.type){case"fill":if(f.parts.every(C=>C===""))return"";break;case"group":if(!f.contents&&!f.id&&!f.break&&!f.expandedStates)return"";if(f.contents.type==="group"&&f.contents.id===f.id&&f.contents.break===f.break&&f.contents.expandedStates===f.expandedStates)return f.contents;break;case"align":case"indent":case"indent-if-break":case"line-suffix":if(!f.contents)return"";break;case"if-break":if(!f.flatContents&&!f.breakContents)return"";break}if(!U(f))return f;const F=[];for(const C of A(f)){if(!C)continue;const[b,...m]=U(C)?A(C):[C];typeof b=="string"&&typeof x(F)=="string"?F[F.length-1]+=b:F.push(b),F.push(...m)}return F.length===0?"":F.length===1?F[0]:Array.isArray(f)?F:Object.assign(Object.assign({},f),{},{parts:F})}function $(f){return O(f,F=>j(F))}function L(f){const F=[],C=f.filter(Boolean);for(;C.length>0;){const b=C.shift();if(b){if(U(b)){C.unshift(...A(b));continue}if(F.length>0&&typeof x(F)=="string"&&typeof b=="string"){F[F.length-1]+=b;continue}F.push(b)}}return F}function X(f){return O(f,F=>Array.isArray(F)?L(F):F.parts?Object.assign(Object.assign({},F),{},{parts:L(F.parts)}):F)}function J(f){return O(f,F=>typeof F=="string"&&F.includes(`
`)?w(F):F)}function w(f){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S;return M(F,f.split(`
`)).parts}function I(f){if(f.type==="line")return!0}function v(f){return Du(f,I,!1)}k.exports={isConcat:U,getDocParts:A,willBreak:q,traverseDoc:K,findInDoc:Du,mapDoc:O,propagateBreaks:N,removeLines:fu,stripTrailingHardline:Au,normalizeParts:L,normalizeDoc:X,cleanDoc:$,replaceTextEndOfLine:w,replaceEndOfLine:J,canBreak:v}}}),ze=B({"src/document/doc-printer.js"(h,k){Q();var{convertEndOfLineToChars:x}=Oe(),S=te(),M=qe(),{fill:U,cursor:A,indent:z}=du(),{isConcat:K,getDocParts:O}=Lu(),Du,g=1,q=2;function H(){return{value:"",length:0,queue:[]}}function N(j,$){return fu(j,{type:"indent"},$)}function su(j,$,L){return $===Number.NEGATIVE_INFINITY?j.root||H():$<0?fu(j,{type:"dedent"},L):$?$.type==="root"?Object.assign(Object.assign({},j),{},{root:j}):fu(j,{type:typeof $=="string"?"stringAlign":"numberAlign",n:$},L):j}function fu(j,$,L){const X=$.type==="dedent"?j.queue.slice(0,-1):[...j.queue,$];let J="",w=0,I=0,v=0;for(const y of X)switch(y.type){case"indent":C(),L.useTabs?f(1):F(L.tabWidth);break;case"stringAlign":C(),J+=y.n,w+=y.n.length;break;case"numberAlign":I+=1,v+=y.n;break;default:throw new Error(`Unexpected type '${y.type}'`)}return m(),Object.assign(Object.assign({},j),{},{value:J,length:w,queue:X});function f(y){J+="	".repeat(y),w+=L.tabWidth*y}function F(y){J+=" ".repeat(y),w+=y}function C(){L.useTabs?b():m()}function b(){I>0&&f(I),d()}function m(){v>0&&F(v),d()}function d(){I=0,v=0}}function pu(j){if(j.length===0)return 0;let $=0;for(;j.length>0&&typeof S(j)=="string"&&/^[\t ]*$/.test(S(j));)$+=j.pop().length;if(j.length>0&&typeof S(j)=="string"){const L=S(j).replace(/[\t ]*$/,"");$+=S(j).length-L.length,j[j.length-1]=L}return $}function ru(j,$,L,X,J){let w=$.length;const I=[j],v=[];for(;L>=0;){if(I.length===0){if(w===0)return!0;I.push($[--w]);continue}const{mode:f,doc:F}=I.pop();if(typeof F=="string")v.push(F),L-=M(F);else if(K(F)||F.type==="fill"){const C=O(F);for(let b=C.length-1;b>=0;b--)I.push({mode:f,doc:C[b]})}else switch(F.type){case"indent":case"align":case"indent-if-break":case"label":I.push({mode:f,doc:F.contents});break;case"trim":L+=pu(v);break;case"group":{if(J&&F.break)return!1;const C=F.break?g:f,b=F.expandedStates&&C===g?S(F.expandedStates):F.contents;I.push({mode:C,doc:b});break}case"if-break":{const b=(F.groupId?Du[F.groupId]||q:f)===g?F.breakContents:F.flatContents;b&&I.push({mode:f,doc:b});break}case"line":if(f===g||F.hard)return!0;F.soft||(v.push(" "),L--);break;case"line-suffix":X=!0;break;case"line-suffix-boundary":if(X)return!1;break}}return!1}function Au(j,$){Du={};const L=$.printWidth,X=x($.endOfLine);let J=0;const w=[{ind:H(),mode:g,doc:j}],I=[];let v=!1;const f=[];for(;w.length>0;){const{ind:C,mode:b,doc:m}=w.pop();if(typeof m=="string"){const d=X!==`
`?m.replace(/\n/g,X):m;I.push(d),J+=M(d)}else if(K(m)){const d=O(m);for(let y=d.length-1;y>=0;y--)w.push({ind:C,mode:b,doc:d[y]})}else switch(m.type){case"cursor":I.push(A.placeholder);break;case"indent":w.push({ind:N(C,$),mode:b,doc:m.contents});break;case"align":w.push({ind:su(C,m.n,$),mode:b,doc:m.contents});break;case"trim":J-=pu(I);break;case"group":switch(b){case q:if(!v){w.push({ind:C,mode:m.break?g:q,doc:m.contents});break}case g:{v=!1;const d={ind:C,mode:q,doc:m.contents},y=L-J,V=f.length>0;if(!m.break&&ru(d,w,y,V))w.push(d);else if(m.expandedStates){const au=S(m.expandedStates);if(m.break){w.push({ind:C,mode:g,doc:au});break}else for(let lu=1;lu<m.expandedStates.length+1;lu++)if(lu>=m.expandedStates.length){w.push({ind:C,mode:g,doc:au});break}else{const wu=m.expandedStates[lu],mu={ind:C,mode:q,doc:wu};if(ru(mu,w,y,V)){w.push(mu);break}}}else w.push({ind:C,mode:g,doc:m.contents});break}}m.id&&(Du[m.id]=S(w).mode);break;case"fill":{const d=L-J,{parts:y}=m;if(y.length===0)break;const[V,au]=y,lu={ind:C,mode:q,doc:V},wu={ind:C,mode:g,doc:V},mu=ru(lu,[],d,f.length>0,!0);if(y.length===1){mu?w.push(lu):w.push(wu);break}const re={ind:C,mode:q,doc:au},Pu={ind:C,mode:g,doc:au};if(y.length===2){mu?w.push(re,lu):w.push(Pu,wu);break}y.splice(0,2);const qu={ind:C,mode:b,doc:U(y)},We=y[0];ru({ind:C,mode:q,doc:[V,au,We]},[],d,f.length>0,!0)?w.push(qu,re,lu):mu?w.push(qu,Pu,lu):w.push(qu,Pu,wu);break}case"if-break":case"indent-if-break":{const d=m.groupId?Du[m.groupId]:b;if(d===g){const y=m.type==="if-break"?m.breakContents:m.negate?m.contents:z(m.contents);y&&w.push({ind:C,mode:b,doc:y})}if(d===q){const y=m.type==="if-break"?m.flatContents:m.negate?z(m.contents):m.contents;y&&w.push({ind:C,mode:b,doc:y})}break}case"line-suffix":f.push({ind:C,mode:b,doc:m.contents});break;case"line-suffix-boundary":f.length>0&&w.push({ind:C,mode:b,doc:{type:"line",hard:!0}});break;case"line":switch(b){case q:if(m.hard)v=!0;else{m.soft||(I.push(" "),J+=1);break}case g:if(f.length>0){w.push({ind:C,mode:b,doc:m},...f.reverse()),f.length=0;break}m.literal?C.root?(I.push(X,C.root.value),J=C.root.length):(I.push(X),J=0):(J-=pu(I),I.push(X+C.value),J=C.length);break}break;case"label":w.push({ind:C,mode:b,doc:m.contents});break}w.length===0&&f.length>0&&(w.push(...f.reverse()),f.length=0)}const F=I.indexOf(A.placeholder);if(F!==-1){const C=I.indexOf(A.placeholder,F+1),b=I.slice(0,F).join(""),m=I.slice(F+1,C).join(""),d=I.slice(C+1).join("");return{formatted:b+m+d,cursorNodeStart:b.length,cursorNodeText:m}}return{formatted:I.join("")}}k.exports={printDocToString:Au}}}),Ge=B({"src/document/doc-debug.js"(h,k){Q();var{isConcat:x,getDocParts:S}=Lu();function M(A){if(!A)return"";if(x(A)){const z=[];for(const K of S(A))if(x(K))z.push(...M(K).parts);else{const O=M(K);O!==""&&z.push(O)}return{type:"concat",parts:z}}return A.type==="if-break"?Object.assign(Object.assign({},A),{},{breakContents:M(A.breakContents),flatContents:M(A.flatContents)}):A.type==="group"?Object.assign(Object.assign({},A),{},{contents:M(A.contents),expandedStates:A.expandedStates&&A.expandedStates.map(M)}):A.type==="fill"?{type:"fill",parts:A.parts.map(M)}:A.contents?Object.assign(Object.assign({},A),{},{contents:M(A.contents)}):A}function U(A){const z=Object.create(null),K=new Set;return O(M(A));function O(g,q,H){if(typeof g=="string")return JSON.stringify(g);if(x(g)){const N=S(g).map(O).filter(Boolean);return N.length===1?N[0]:`[${N.join(", ")}]`}if(g.type==="line"){const N=Array.isArray(H)&&H[q+1]&&H[q+1].type==="break-parent";return g.literal?N?"literalline":"literallineWithoutBreakParent":g.hard?N?"hardline":"hardlineWithoutBreakParent":g.soft?"softline":"line"}if(g.type==="break-parent")return Array.isArray(H)&&H[q-1]&&H[q-1].type==="line"&&H[q-1].hard?void 0:"breakParent";if(g.type==="trim")return"trim";if(g.type==="indent")return"indent("+O(g.contents)+")";if(g.type==="align")return g.n===Number.NEGATIVE_INFINITY?"dedentToRoot("+O(g.contents)+")":g.n<0?"dedent("+O(g.contents)+")":g.n.type==="root"?"markAsRoot("+O(g.contents)+")":"align("+JSON.stringify(g.n)+", "+O(g.contents)+")";if(g.type==="if-break")return"ifBreak("+O(g.breakContents)+(g.flatContents?", "+O(g.flatContents):"")+(g.groupId?(g.flatContents?"":', ""')+`, { groupId: ${Du(g.groupId)} }`:"")+")";if(g.type==="indent-if-break"){const N=[];g.negate&&N.push("negate: true"),g.groupId&&N.push(`groupId: ${Du(g.groupId)}`);const su=N.length>0?`, { ${N.join(", ")} }`:"";return`indentIfBreak(${O(g.contents)}${su})`}if(g.type==="group"){const N=[];g.break&&g.break!=="propagated"&&N.push("shouldBreak: true"),g.id&&N.push(`id: ${Du(g.id)}`);const su=N.length>0?`, { ${N.join(", ")} }`:"";return g.expandedStates?`conditionalGroup([${g.expandedStates.map(fu=>O(fu)).join(",")}]${su})`:`group(${O(g.contents)}${su})`}if(g.type==="fill")return`fill([${g.parts.map(N=>O(N)).join(", ")}])`;if(g.type==="line-suffix")return"lineSuffix("+O(g.contents)+")";if(g.type==="line-suffix-boundary")return"lineSuffixBoundary";if(g.type==="label")return`label(${JSON.stringify(g.label)}, ${O(g.contents)})`;throw new Error("Unknown doc type "+g.type)}function Du(g){if(typeof g!="symbol")return JSON.stringify(String(g));if(g in z)return z[g];const q=String(g).slice(7,-1)||"symbol";for(let H=0;;H++){const N=q+(H>0?` #${H}`:"");if(!K.has(N))return K.add(N),z[g]=`Symbol.for(${JSON.stringify(N)})`}}}k.exports={printDocToDebug:U}}});Q(),D.exports={builders:du(),printer:ze(),utils:Lu(),debug:Ge()}}});return u()})})(Ft);const Ce=4,ve={printWidth:30,tabWidth:4,useTabs:!1};function Ae(r){return Y.printer.printDocToString(r,ve).formatted}function he(r,e="^",n=!1){const s=(n?eu.red:eu.green).bold,u=r.src.split(`
`),t=Math.min(u.length-1,r.getLineNumber()),D=Math.max(t-Ce,0),o=Math.min(t+Ce+1,u.length),i=u.slice(D,o);if(e){const l=" ".repeat(r.getColumnNumber())+s(e);i.splice(t-D+1,0,l)}return i.map((l,c)=>{const p=D+c+1;let E=s.reset.black(String(p));return l=p===t+1?s(l):l,`      ${E}| ${l}`}).join(`
`)}const ou=(r,e={})=>Y.builders.group(r,{...ve,...e}),bu=r=>eu.gray(r),Cu=new Map;function we(r){if(Cu.has(r.id))return Cu.get(r.id);const e=(u,t)=>{if(Cu.has(u.id))return Cu.get(u.id);const{name:D,args:o,parser:i}=u.context,a=i!=null?e(i,t):eu.red.bold("unknown");let l=(()=>{switch(D){case"string":return eu.yellow(`"${o[0]}"`);case"regex":case"regexConcat":case"regexWrap":return eu.redBright(`${o[0]}`);case"wrap":case"trim":{const[G,W]=o;return ou([e(G,t),Y.builders.indent([Y.builders.softline,a]),Y.builders.softline,e(W,t)])}case"trimWhitespace":return ou([a,bu("?w")]);case"not":return ou(["!",a]);case"opt":return ou([a,bu("?")]);case"next":const[c]=o;return ou([a,bu(" >> "),e(c,t)]);case"skip":const[p]=o;return ou([a,bu(" << "),e(p,t)]);case"map":return a;case"all":case"then":{const G=bu(", ");return ou(["[",Y.builders.indent([Y.builders.softline,Y.builders.join([G,Y.builders.softline],o.map(W=>e(W,t)))]),Y.builders.softline,"]"])}case"any":case"or":{const G=bu("| ");return ou([[Y.builders.join([Y.builders.softline,Y.builders.ifBreak(G," "+G)],o.map(W=>e(W,t)))]])}case"many":const[E,B]=o;let _=B===1/0?`${E},`:`${E},${B}`;return _=eu.bold.gray(` {${_}}`),ou([a,_]);case"sepBy":return ou([a,Y.builders.indent([" sepBy ",e(o[0],t)])]);case"lazy":{const[G]=o,W=ee(G);if(t)return eu.bold.blue(D);{const iu=e(W,W.id);return Cu.set(W.id,iu),iu}}case"debug":return a}})();return l??(l=eu.red.bold(D)),t&&Cu.set(u.id,l),l},n=e(r),s=Ae(n);return Cu.set(r.id,s),s}function ke(r,e="",n=""){const s=r.isError?eu.bgRed:eu.bgGreen,u=r.isError?eu.red:eu.green,t=r.offset>=r.src.length,D=r.isError?"ｘ":t?"🎉":"✓",i=" "+(r.isError?"Err":t?"Done":"Ok")+" "+D+" ",a=ou([s.bold(i),u(`	${e}	${r.offset}`),Y.builders.softline,"	"+eu.yellow(n)]),l=(()=>r.offset>=r.src.length?eu.bold.greenBright(he(r,"",r.isError)):he(r,"^",r.isError))(),c=ou([a,Y.builders.hardline,Y.builders.indent([l])]);return Ae(c)}function pt(r,e="",n=!1,s=console.log){const u=t=>{const D=r.parser(t),o=n?we(r):r.context.name,i=ke(D,e,o);return s(i),D};return new P(u,R("debug",r,s))}class Iu{constructor(e,n=void 0,s=0,u=!1,t=0){this.src=e,this.value=n,this.offset=s,this.isError=u,this.furthest=t}ok(e,n=0){return n+=this.offset,new Iu(this.src,e,n,!1)}err(e,n=0){const s=this.ok(e,n);return s.isError=!0,s}from(e,n=0){return n+=this.offset,new Iu(this.src,e,n,this.isError)}getColumnNumber(){const e=this.offset,n=this.src.lastIndexOf(`
`,e),s=n===-1?e:e-(n+1);return Math.max(0,s)}getLineNumber(){const e=this.src.lastIndexOf(`
`,this.offset);return e>=0?this.src.slice(0,e).split(`
`).length:0}toString(){return ke(this)}}function R(r,e,...n){return{name:r,parser:e,args:n}}let Ct=0;const hu=new Map,Ou=new Map;let yu;function uu(r){return(!yu||yu&&r.offset>yu.offset)&&(yu=r),yu}function ee(r){return r.parser?r.parser:r.parser=r()}class P{constructor(e,n={}){pe(this,"id",Ct++),pe(this,"state"),this.parser=e,this.context=n}reset(){yu=void 0,hu.clear(),Ou.clear()}parse(e){this.reset();const n=this.parser(new Iu(e));return this.state=uu(n),this.state.isError=n.isError,this.state.isError&&console.log(this.state.toString()),n.value}getCijKey(e){return`${this.id}${e.offset}`}atLeftRecursionLimit(e){return(Ou.get(this.getCijKey(e))??0)>e.src.length-e.offset}memoize(){const e=n=>{const s=this.getCijKey(n),u=Ou.get(s)??0;let t=hu.get(this.id);if(t&&t.offset>=n.offset)return t;if(this.atLeftRecursionLimit(n))return n.err(void 0);Ou.set(s,u+1);const D=this.parser(n);return t=hu.get(this.id),t&&t.offset>D.offset?D.offset=t.offset:t||hu.set(this.id,D),D};return new P(e,R("memoize",this))}mergeMemos(){const e=n=>{let s=hu.get(this.id);if(s)return s;if(this.atLeftRecursionLimit(n))return n.err(void 0);const u=this.parser(n);return s=hu.get(this.id),s||hu.set(this.id,u),u};return new P(e,R("mergeMemo",this))}then(e){if(ku(this,e))return Su([this,e],"",s=>[s==null?void 0:s[0],s==null?void 0:s[1]]);const n=s=>{const u=this.parser(s);if(!u.isError){const t=e.parser(u);if(!t.isError)return t.ok([u.value,t.value])}return uu(s),s.err(void 0)};return new P(n,R("then",this,this,e))}or(e){if(ku(this,e))return Su([this,e],"|");const n=s=>{const u=this.parser(s);return u.isError?e.parser(s):u};return new P(n,R("or",this,this,e))}chain(e,n=!1){const s=u=>{const t=this.parser(u);return t.isError?t:t.value||n?e(t.value).parser(t):u};return new P(s,R("chain",this,e))}map(e,n=!1){const s=u=>{const t=this.parser(u);return!t.isError||n?t.ok(e(t.value)):t};return new P(s,R("map",this))}mapState(e){const n=s=>{const u=this.parser(s);return e(u)};return new P(n,R("mapState",this))}skip(e){const n=s=>{const u=this.parser(s);if(!u.isError){const t=e.parser(u);if(!t.isError)return t.ok(u.value)}return uu(s),s.err(void 0)};return new P(n,R("skip",this,e))}next(e){const n=this.then(e).map(([,s])=>s);return n.context=R("next",this,e),n}opt(){const e=n=>{const s=this.parser(n);return s.isError?(uu(n),n.ok(void 0)):s};return new P(e,R("opt",this))}not(e){const n=u=>this.parser(u).isError?(uu(u),u.ok(u.value)):u.err(void 0),s=u=>{const t=this.parser(u);return t.isError?(uu(u),t):e.parser(u).isError?t:(uu(u),u.err(void 0))};return new P(e?s:n,R("not",this,e))}wrap(e,n,s=!0){if(!s)return gu(e,this,n);if(ku(e,this,n))return Et(e,this,n);const u=e.next(this).skip(n);return u.context=R("wrap",this,e,n),u}trim(e=Se,n=!0){var s;if(!n)return gu(e,this,e);if(((s=e.context)==null?void 0:s.name)==="whitespace"){if(ku(this,e))return Su([e,this,e],"",t=>t==null?void 0:t[2]);const u=t=>{const D=ge(t),o=this.parser(D);return o.isError?(uu(t),t.err(void 0)):ge(o)};return new P(u,R("trimWhitespace",this))}return this.wrap(e,e)}many(e=0,n=1/0){const s=u=>{const t=[];let D=u;for(let o=0;o<n;o+=1){const i=this.parser(D);if(i.isError)break;t.push(i.value),D=i}return t.length>=e?D.ok(t):(uu(u),u.err([]))};return new P(s,R("many",this,e,n))}sepBy(e,n=0,s=1/0){const u=t=>{const D=[];let o=t;for(let i=0;i<s;i+=1){const a=this.parser(o);if(a.isError)break;o=a,D.push(o.value);const l=e.parser(o);if(l.isError)break;o=l}return D.length>n?o.ok(D):(uu(t),t.err([]))};return new P(u,R("sepBy",this,e))}eof(){const e=this.skip(xe());return e.context=R("eof",this),e}debug(e="",n=!1,s=console.log){return pt(this,e,n,s)}toString(){return we(this)}static lazy(e){const n=s=>ee(e).parser(s);return new P(n,R("lazy",void 0,e))}}function ku(...r){return r.every(e=>{var n,s,u,t;return(((n=e.context)==null?void 0:n.name)==="string"||((s=e.context)==null?void 0:s.name)==="regex"||((u=e.context)==null?void 0:u.name)==="whitespace")&&((t=e.context)==null?void 0:t.args)})}function ht(r){var e,n,s,u,t;if(((e=r.context)==null?void 0:e.name)==="string")return(n=r.context)==null?void 0:n.args[0].replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");if(((s=r.context)==null?void 0:s.name)==="regex"||((u=r.context)==null?void 0:u.name)==="whitespace")return(t=r.context)==null?void 0:t.args[0].source}function Su(r,e="",n){const s=r.map(D=>`(${ht(D)})`).join(e),u=new RegExp(s),t=cu(u,n);return e!=="|"&&(t.context=R("regexConcat",this,u)),t}function Et(r,e,n){const s=Su([r,e,n],"",u=>u==null?void 0:u[2]);return s.context.name="regexWrap",s}function xe(){const r=e=>e.offset>=e.src.length?e.ok(void 0):(uu(e),e.err());return new P(r,R("eof",void 0))}function tu(r,e,n){const s=n.value.bind(r);n.value=function(){const u=t=>ee(s).parser(t);return new P(u,R("lazy",void 0,s))}}function Eu(...r){if(ku(...r))return Su(r,"|");const e=n=>{for(const s of r){const u=s.parser(n);if(!u.isError)return u}return uu(n),n.err(void 0)};return new P(r.length===1?r[0].parser:e,R("any",void 0,...r))}function gu(...r){const e=n=>{const s=[];for(const u of r){const t=u.parser(n);if(t.isError)return t;t.value!==void 0&&s.push(t.value),n=t}return uu(n),n.ok(s)};return new P(r.length===1?r[0].parser:e,R("all",void 0,...r))}function T(r){const e=n=>{if(n.offset>=n.src.length)return n.err(void 0);const s=n.src.slice(n.offset,n.offset+r.length);return s===r?n.ok(s,s.length):(uu(n),n.err(void 0))};return new P(e,R("string",void 0,r))}function cu(r,e=n=>n==null?void 0:n[0]){const n=r.flags.replace(/y/g,""),s=new RegExp(r,n+"y"),u=t=>{if(t.offset>=t.src.length)return t.err(void 0);s.lastIndex=t.offset;const D=e(t.src.match(s));return D?t.ok(D,s.lastIndex-t.offset):D===""?t.ok(void 0):(uu(t),t.err(void 0))};return new P(u,R("regex",void 0,r))}const Ee=/\s*/y,ge=r=>{var e;if(r.offset>=r.src.length)return r;Ee.lastIndex=r.offset;const n=((e=r.src.match(Ee))==null?void 0:e[0])??"";return r.ok(r.value,n.length)},Se=cu(/\s*/);Se.context.name="whitespace";var gt=Object.defineProperty,dt=(r,e,n)=>e in r?gt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,mt=(r,e,n)=>(dt(r,typeof e!="symbol"?e+"":e,n),n),bt=Object.defineProperty,yt=Object.getOwnPropertyDescriptor,nu=(r,e,n,s)=>{for(var u=s>1?void 0:s?yt(e,n):e,t=r.length-1,D;t>=0;t--)(D=r[t])&&(u=(s?D(e,n,u):D(u))||u);return s&&u&&bt(e,n,u),u};const _e={"|":"alternation",",":"concatenation","-":"minus","<<":"skip",">>":"next","*":"many","+":"many1","?":"optional","?w":"optionalWhitespace"},Bt=([r,e])=>e.length===0?r:e.reduce((n,[s,u])=>({type:_e[s],value:[n,u]}),r),vt=([r,e])=>e===void 0?r:{type:_e[e],value:r};function At(r){return r.mapState(e=>(e.value&&(e.value.column=e.getColumnNumber(),e.value.line=e.getLineNumber(),e.value.offset=e.offset),e))}const wt={debug:!1,comments:!0};class Z{constructor(e){mt(this,"options"),this.options={...wt,...e??{}}}identifier(){return cu(/[_a-zA-Z][_a-zA-Z0-9]*/).trim()}literal(){return this.trimBigComment(Eu(cu(/[^"]+/).wrap(T('"'),T('"')),cu(/[^']+/).wrap(T("'"),T("'"))).map(e=>({type:"literal",value:e})))}epsilon(){return Eu(T("epsilon"),T("ε")).trim().map(()=>({type:"epsilon",value:void 0}))}nonterminal(){return this.identifier().map(e=>({type:"nonterminal",value:e}))}bigComment(){return cu(/\/\*[^\*]*\*\//).trim()}comment(){return cu(/\/\/.*/).or(this.bigComment()).trim()}trimBigComment(e){return e.trim(this.bigComment().many(),!1).map(([n,s,u])=>(s.comment={left:n,right:u},s))}group(){return this.rhs().trim().wrap(T("("),T(")")).map(e=>({type:"group",value:e}))}regex(){return cu(/[^\/]*/).wrap(T("/"),T("/")).then(cu(/[gimuy]*/).opt()).map(([e,n])=>({type:"regex",value:new RegExp(e,n)}))}optionalGroup(){return this.rhs().trim().wrap(T("["),T("]")).map(e=>({type:"optional",value:{type:"group",value:e}}))}manyGroup(){return this.rhs().trim().wrap(T("{"),T("}")).map(e=>({type:"many",value:{type:"group",value:e}}))}lhs(){return this.identifier()}term(){return At(Eu(this.epsilon(),this.group(),this.optionalGroup(),this.manyGroup(),this.nonterminal(),this.literal(),this.regex()))}factor(){return this.trimBigComment(gu(this.term(),Eu(T("?w").trim(),T("?").trim(),T("*").trim(),T("+").trim()).opt()).map(vt))}binaryFactor(){return gu(this.factor(),gu(Eu(T("<<").trim(),T(">>").trim(),T("-").trim()),this.factor()).many()).map(Bt)}concatenation(){return this.binaryFactor().sepBy(T(",").trim()).map(e=>e.length===1?e[0]:{type:"concatenation",value:e})}alternation(){return this.concatenation().sepBy(T("|").trim()).map(e=>e.length===1?e[0]:{type:"alternation",value:e})}rhs(){return this.alternation()}productionRule(){return gu(this.lhs(),T("=").trim(),this.rhs(),Eu(T(";"),T(".")).trim()).map(([e,,n])=>({name:e,expression:n}))}grammar(){return this.productionRule().trim(this.comment().many(),!1).map(([e,n,s])=>(n.comment={above:e,below:s},n)).many(1)}}nu([tu],Z.prototype,"bigComment",1);nu([tu],Z.prototype,"comment",1);nu([tu],Z.prototype,"group",1);nu([tu],Z.prototype,"regex",1);nu([tu],Z.prototype,"optionalGroup",1);nu([tu],Z.prototype,"manyGroup",1);nu([tu],Z.prototype,"lhs",1);nu([tu],Z.prototype,"term",1);nu([tu],Z.prototype,"factor",1);nu([tu],Z.prototype,"binaryFactor",1);nu([tu],Z.prototype,"concatenation",1);nu([tu],Z.prototype,"alternation",1);nu([tu],Z.prototype,"rhs",1);nu([tu],Z.prototype,"productionRule",1);nu([tu],Z.prototype,"grammar",1);function kt(r){const e=new Set,n=[];function s(t,D){if(D.has(t)||e.has(t))return;D.add(t);const o=r.get(t);if(!o)return;const i=o.expression;if(i.type==="nonterminal")s(i.value,D);else if(i.value instanceof Array)for(const a of i.value)a.type==="nonterminal"&&s(a.value,D);e.add(t),D.delete(t),n.unshift(r.get(t))}for(const[t]of r)s(t,new Set);const u=new Map;for(const t of n)u.set(t.name,t);return u}const xu=(r,e)=>{if(!(!(r!=null&&r.type)||!(e!=null&&e.type)||r.type!==e.type))switch(r.type){case"literal":case"nonterminal":return r.value!==e.value?void 0:[r,{type:"epsilon"},{type:"epsilon"}];case"group":case"optional":case"optionalWhitespace":case"many":case"many1":{const n=xu(r.value,e.value);return n?[{type:r.type,value:n[0]},{type:r.type,value:n[1]},{type:r.type,value:n[2]}]:void 0}case"concatenation":{const n=r.value.map((i,a)=>xu(r.value[a],e.value[a]));if(n.some(i=>i===void 0))return;const s=n.map(i=>i[0]),u=n.map(i=>i[1]),t=n.map(i=>i[2]),D=s.lastIndexOf(null);return D===s.length-1?void 0:[{type:"concatenation",value:s.slice(D+1)},{type:"concatenation",value:u},{type:"concatenation",value:t}]}case"alternation":for(const n of r.value){const s=xu(n,e);if(s)return s}for(const n of e.value){const s=xu(r,n);if(s)return s}return}},Bu=(r,e)=>{if(r.type!==e.type)return!1;switch(r.type){case"literal":case"nonterminal":return r.value===e.value;case"group":case"optional":case"many":case"many1":return Bu(r.value,e.value);case"minus":case"skip":case"next":return Bu(r.value[0],e.value[0])&&Bu(r.value[1],e.value[1]);case"concatenation":return r.value.every((n,s)=>Bu(n,e.value[s]));case"alternation":return r.value.some((n,s)=>Bu(n,e.value[s]));case"epsilon":return!0}};function xt(r,e){const n=new Map;let s=null;for(let u=0;u<e.value.length-1;u++){const t=e.value[u],D=e.value[u+1],o=xu(t,D);if(o){const[i,a,l]=o;s!==null&&Bu(i,s)?n.get(s).push(l):(n.set(i,[a,l]),s=i),u===e.value.length-2&&e.value.shift(),e.value.shift(),u-=1}}for(const[u,t]of n){const o={type:"concatenation",value:[{type:"group",value:{type:"alternation",value:t}},{type:"group",value:u}]};e.value.push(o)}}const St=(r,e,n)=>{const s=[],u=[],t={type:"nonterminal",value:n};for(let D=0;D<e.value.length;D++){const o=e.value[D];o.type==="concatenation"&&o.value[0].value===r?u.push({type:"concatenation",value:[...o.value.slice(1),t]}):s.push({type:"concatenation",value:[o,t]})}return u.length===0?[void 0,void 0]:(u.push({type:"epsilon"}),[{type:"alternation",value:s},{type:"alternation",value:u}])};function _t(r){const e=new Map;let n=0;for(const[s,u]of r){const{expression:t}=u;if(t.type==="alternation"){const D=`${s}_${n++}`,[o,i]=St(s,t,D);o&&(e.set(D,{name:D,expression:i}),e.set(s,{name:s,expression:o,comment:u.comment}))}}if(e.size===0)return r;for(const[s,u]of e)r.set(s,u);for(const[s,u]of r){const{expression:t}=u;t.type==="alternation"&&xt(s,t)}}function Ot(r){const e=kt(r);return _t(e),e}function jt(r){const e=new Z().grammar().eof(),n=e.parse(r);if(!n)return[e];const s=n.reduce((u,t,D)=>u.set(t.name,t),new Map);return[e,s]}function Mt(r){function e(s,u){var t,D;switch(u.type){case"literal":return T(u.value);case"nonterminal":const o=P.lazy(()=>n[u.value]);return o.context.name=u.value,o;case"epsilon":return xe().opt();case"group":return e(s,u.value);case"regex":return cu(u.value);case"optionalWhitespace":return e(s,u.value).trim();case"optional":return e(s,u.value).opt();case"many":return e(s,u.value).many();case"many1":return e(s,u.value).many(1);case"skip":return e(s,u.value[0]).skip(e(s,u.value[1]));case"next":return e(s,u.value[0]).next(e(s,u.value[1]));case"minus":return e(s,u.value[0]).not(e(s,u.value[1]));case"concatenation":{const i=u.value.map(a=>e(s,a));return((D=(t=i.at(-1))==null?void 0:t.context)==null?void 0:D.name)==="eof"&&i.pop(),gu(...i)}case"alternation":return Eu(...u.value.map(i=>e(s,i)))}}const n={};for(const[s,u]of r.entries())n[s]=e(s,u.expression);return n}function It(r,e=!1){let[n,s]=jt(r);return e&&(s=Ot(s)),[Mt(s),s]}const Nt={language:"bbnf",scheme:"file"};let Nu;const Vu=new Map,$t=Fu.commands.registerCommand("extension.testGrammar",async()=>{const r=Fu.window.activeTextEditor;if(!r)return;const e=r.document,n=e.getText();if(n.length===0)return;let s,u;try{[s,u]=It(n)}catch{return}const t=e.uri.toString();Vu.has(t)||Vu.set(t,{nonterminal:"",testString:""});const D=Vu.get(t),o=await Fu.window.showInputBox({prompt:"Enter a nonterminal to test",placeHolder:"Type here...",value:D.nonterminal});if(!o||!s[o]){Fu.window.showErrorMessage(`Nonterminal ${o} not found`);return}D.nonterminal=o;const i=await Fu.window.showInputBox({prompt:"Enter your test string",placeHolder:"Type here...",value:D.testString});if(!i){Fu.window.showErrorMessage("No test string provided");return}D.testString=i;const l=s[o].parse(i);l?Fu.window.showInformationMessage(`Matched ✓: ${l}`):Fu.window.showInformationMessage("No match X")});function Tt(r){const e=r.asAbsolutePath(Ue.join("server","out","server.js")),n={run:{module:e,transport:zu.TransportKind.ipc},debug:{module:e,transport:zu.TransportKind.ipc}},s={documentSelector:[Nt],synchronize:{fileEvents:Fu.workspace.createFileSystemWatcher("**/.clientrc")}};Nu=new zu.LanguageClient("languageServerExample","Language Server Example",n,s),Nu.start(),r.subscriptions.push($t)}function Rt(){if(Nu)return Nu.stop()}exports.activate=Tt;exports.deactivate=Rt;
//# sourceMappingURL=extension.js.map
